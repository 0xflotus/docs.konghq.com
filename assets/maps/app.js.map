{"version":3,"sources":["app.js","dropdown.js"],"names":["$","$window","window","on","$navbar","this","data","slideToggle","e","preventDefault","animate","scrollTop","attr","offset","top","length","introSectionHeight","outerHeight","$downloadBtn","find","removeClass","addClass","$link","parent","next","stop","toggleClass","$tabs","$tabPanes","disableTracking","tabId","filter","history","pushState","location","hash","analytics","track","installationMethod","substr","trigger","$form","email","val","submitTime","Date","toString","identify","environment","newsletter_updates","created_at","fadeOut","fadeIn","request_date","serializeArray","payload","analyticsDfd","Deferred","fieldValues","relateiqFieldIds","title","tell_us_more","phone","deployment","company","name","i","value","extend","enterprise","resolve","field","raw","relateiqDfd","ajax","url","method","headers","authorization","x-mashape-key","JSON","stringify","when","apply","then","siblings","each","trackLink","section","closest","pathname","type","hasClass","trim","document","split","shift","plugin_type","text","documentation_name","community_type","getParent","$this","selector","test","replace","$parent","clearMenus","which","backdrop","remove","toggle","relatedTarget","target","tagName","contains","Event","isDefaultPrevented","Plugin","option","Dropdown","call","element","VERSION","prototype","is","isActive","documentElement","createElement","insertAfter","keydown","stopPropagation","desc","$items","index","eq","old","fn","dropdown","Constructor","noConflict","jQuery"],"mappings":"AAAAA,EAAA,WACA,GAAAC,GAAAD,EAAAE,OAiBA,IAfAF,EAAA,kBAAAG,GAAA,QAAA,WACA,GAAAC,GAAAJ,EAAAA,EAAAK,MAAAC,KAAA,UACAF,GAAAG,YAAA,OAGAP,EAAA,cAAAG,GAAA,QAAA,SAAAK,GACAA,EAAAC,iBAEAT,EAAA,cAAAU,SACAC,UAAAX,EAAAA,EAAAK,MAAAO,KAAA,SAAAC,SAAAC,IAAA,IACA,QAKAd,EAAA,mBAAAe,OAAA,CACA,GAAAC,GAAAhB,EAAA,0BAAAiB,eAAA,GACAC,EAAAlB,EAAA,eAAAmB,KAAA,UAEAlB,GAAAE,GAAA,SAAA,WACA,GAAAQ,GAAAX,EAAAK,MAAAM,WAEAA,GAAAK,EACAE,EAAAE,YAAA,eAAAC,SAAA,kBAEAH,EAAAE,YAAA,kBAAAC,SAAA,iBAOArB,EAAA,wBAAAG,GAAA,QAAA,SAAAK,GACAA,EAAAC,gBACA,IAAAa,GAAAtB,EAAAK,KAEAiB,GAAAC,SAAAC,KAAA,iBAAAC,OAAAlB,YAAA,IAAA,WACAe,EAAAI,YAAA,aAMA,IAAAC,GAAA3B,EAAA,gBACA4B,EAAA5B,EAAA,YAEA2B,GAAAxB,GAAA,QAAA,SAAAK,EAAAqB,GACArB,EAAAC,gBAEA,IAAAqB,GAAA9B,EAAAK,MAAAc,KAAA,KAAAP,KAAA,OAEAe,GAAAP,YAAA,UAAAW,OAAA1B,MAAAgB,SAAA,UACAO,EAAAR,YAAA,UAAAW,OAAAD,GAAAT,SAAA,UAEAW,QAAAC,UACAD,QAAAC,UAAA,KAAA,KAAAH,GAEAI,SAAAC,KAAAL,EAGAD,GACAO,UAAAC,MAAA,8BACAC,mBAAAR,EAAAS,OAAA,OAKAL,SAAAC,MACAR,EAAAR,KAAA,WAAAe,SAAAC,KAAA,MAAAK,QAAA,SAAA,GAKAxC,EAAA,mBAAAG,GAAA,SAAA,SAAAK,GACAA,EAAAC,gBAEA,IAAAgC,GAAAzC,EAAAK,MACAqC,EAAAD,EAAAtB,KAAA,kBAAAwB,MACAC,GAAA,GAAAC,OAAAC,UAEAV,WAAAW,SAAAL,GACAA,MAAAA,EACAM,YAAA,OACAC,oBAAA,EACAC,WAAAN,GACA,WACAH,EAAAU,QAAA,IAAA,WACAnD,EAAA,oBAAAoD,OAAA,OAGAhB,UAAAC,MAAA,8BACAK,MAAAA,EACAW,aAAAT,QAOA5C,EAAA,sBAAAG,GAAA,SAAA,SAAAK,GACAA,EAAAC,gBAkBA,KAAA,GAhBAgC,GAAAzC,EAAAK,MACAC,EAAAmC,EAAAa,iBACAV,GAAA,GAAAC,OAAAC,WACAS,KACAC,EAAAxD,EAAAyD,WACAC,KACAC,GACAC,MAAA,EACAC,aAAA,EACAnB,MAAA,EACAoB,MAAA,GACAC,WAAA,GACAC,QAAA,GACAC,KAAA,IAGAC,EAAA,EAAAA,EAAA5D,EAAAS,OAAAmD,IACAX,EAAAjD,EAAA4D,GAAAD,MAAA3D,EAAA4D,GAAAC,KAGA/B,WAAAW,SAAAQ,EAAAb,MAAA1C,EAAAoE,QACApB,YAAA,OACAqB,YAAA,EACAnB,WAAAN,GACAW,GAAA,WACAnB,UAAAC,MAAA,0BAAArC,EAAAoE,QACAf,aAAAT,GACAW,GAAAC,EAAAc,UAGA,KAAA,GAAAC,KAAAhB,GACAA,EAAAgB,KACAb,EAAAC,EAAAY,MACAC,IAAAjB,EAAAgB,KAKA,IAAAE,GAAAzE,EAAA0E,MACAC,IAAA,sDACAC,OAAA,OACAC,SACAC,cAAA,iFACAC,gBAAA,sDAEAzE,KAAA0E,KAAAC,WACAhB,KAAAV,EAAAb,MACAgB,YAAAA,KAIA1D,GAAAkF,KAAAC,MAAAnF,GAAAwD,EAAAiB,IAAAW,KAAA,WACA3C,EAAAU,QAAA,IAAA,WACAnD,EAAA,oBAAAoD,OAAA,OACAiC,SAAA,mBAAAlC,QAAA,SAMAnD,EAAA,uBAAAsF,KAAA,WACA,GAAAhE,GAAAtB,EAAAK,KAEA+B,WAAAmD,UAAAlF,KAAA,oBACAmF,QAAAlE,EAAAmE,QAAA,WAAA1E,OAAA,SAAA,OACA2E,SAAAxD,SAAAwD,SACAC,KAAArE,EAAAsE,SAAA,UAAA,SAAA,WAIAxD,UAAAC,MACA,UAAArC,EAAA6F,KAAAC,SAAAlC,MAAAmC,MAAA,KAAAC,SAAA,SAGAhG,EAAA,sBAAAsF,KAAA,WACAlD,UAAAmD,UAAAlF,KAAA,mBACA4F,YAAAjG,EAAAK,MAAAoF,QAAA,iBAAAtE,KAAA,MAAA+E,WAIAlG,EAAA,qCAAAsF,KAAA,WACAlD,UAAAmD,UAAAlF,KAAA,4BACA8F,mBAAAnG,EAAAK,MAAA6F,WAIAlG,EAAA,sBAAAsF,KAAA,WACAlD,UAAAmD,UAAAlF,KAAA,wBACA+F,eAAApG,EAAA6F,KAAA7F,EAAAK,MAAAoF,QAAA,oBAAAtE,KAAA,MAAA+E,YAIA9D,UAAAmD,UAAAvF,EAAA,yBAAA,GAAA,uBC5LA,SAAAA,GACA,YAaA,SAAAqG,GAAAC,GACA,GAAAC,GAAAD,EAAA1F,KAAA,cAEA2F,KACAA,EAAAD,EAAA1F,KAAA,QACA2F,EAAAA,GAAA,YAAAC,KAAAD,IAAAA,EAAAE,QAAA,iBAAA,IAGA,IAAAC,GAAAH,GAAAvG,EAAAuG,EAEA,OAAAG,IAAAA,EAAA3F,OAAA2F,EAAAJ,EAAA/E,SAGA,QAAAoF,GAAAnG,GACAA,GAAA,IAAAA,EAAAoG,QACA5G,EAAA6G,GAAAC,SACA9G,EAAA+G,GAAAzB,KAAA,WACA,GAAAgB,GAAAtG,EAAAK,MACAqG,EAAAL,EAAAC,GACAU,GAAAA,cAAA3G,KAEAqG,GAAAd,SAAA,UAEApF,GAAA,SAAAA,EAAAmF,MAAA,kBAAAa,KAAAhG,EAAAyG,OAAAC,UAAAlH,EAAAmH,SAAAT,EAAA,GAAAlG,EAAAyG,UAEAP,EAAAlE,QAAAhC,EAAAR,EAAAoH,MAAA,mBAAAJ,IAEAxG,EAAA6G,uBAEAf,EAAA1F,KAAA,gBAAA,SACA8F,EAAAtF,YAAA,QAAAoB,QAAA,qBAAAwE,SA4EA,QAAAM,GAAAC,GACA,MAAAlH,MAAAiF,KAAA,WACA,GAAAgB,GAAAtG,EAAAK,MACAC,EAAAgG,EAAAhG,KAAA,cAEAA,IAAAgG,EAAAhG,KAAA,cAAAA,EAAA,GAAAkH,GAAAnH,OACA,gBAAAkH,IAAAjH,EAAAiH,GAAAE,KAAAnB,KAxHA,GAAAO,GAAA,qBACAE,EAAA,2BACAS,EAAA,SAAAE,GACA1H,EAAA0H,GAAAvH,GAAA,oBAAAE,KAAA0G,QAGAS,GAAAG,QAAA,QAoCAH,EAAAI,UAAAb,OAAA,SAAAvG,GACA,GAAA8F,GAAAtG,EAAAK,KAEA,KAAAiG,EAAAuB,GAAA,wBAAA,CAEA,GAAAnB,GAAAL,EAAAC,GACAwB,EAAApB,EAAAd,SAAA,OAIA,IAFAe,KAEAmB,EAAA,CACA,gBAAAhC,UAAAiC,kBAAArB,EAAAjB,QAAA,eAAA1E,QAEAf,EAAA8F,SAAAkC,cAAA,QACA3G,SAAA,qBACA4G,YAAAjI,EAAAK,OACAF,GAAA,QAAAwG,EAGA,IAAAK,IAAAA,cAAA3G,KAGA,IAFAqG,EAAAlE,QAAAhC,EAAAR,EAAAoH,MAAA,mBAAAJ,IAEAxG,EAAA6G,qBAAA,MAEAf,GACA9D,QAAA,SACA5B,KAAA,gBAAA,QAEA8F,EACAhF,YAAA,QACAc,QAAA,oBAAAwE,GAGA,OAAA,IAGAQ,EAAAI,UAAAM,QAAA,SAAA1H,GACA,GAAA,gBAAAgG,KAAAhG,EAAAoG,SAAA,kBAAAJ,KAAAhG,EAAAyG,OAAAC,SAAA,CAEA,GAAAZ,GAAAtG,EAAAK,KAKA,IAHAG,EAAAC,iBACAD,EAAA2H,mBAEA7B,EAAAuB,GAAA,wBAAA,CAEA,GAAAnB,GAAAL,EAAAC,GACAwB,EAAApB,EAAAd,SAAA,OAEA,KAAAkC,GAAA,IAAAtH,EAAAoG,OAAAkB,GAAA,IAAAtH,EAAAoG,MAEA,MADA,KAAApG,EAAAoG,OAAAF,EAAAvF,KAAA4F,GAAAvE,QAAA,SACA8D,EAAA9D,QAAA,QAGA,IAAA4F,GAAA,+BACAC,EAAA3B,EAAAvF,KAAA,gBAAAiH,EAAA,qBAAAA,EAEA,IAAAC,EAAAtH,OAAA,CAEA,GAAAuH,GAAAD,EAAAC,MAAA9H,EAAAyG,OAEA,KAAAzG,EAAAoG,OAAA0B,EAAA,GAAAA,IACA,IAAA9H,EAAAoG,OAAA0B,EAAAD,EAAAtH,OAAA,GAAAuH,KACAA,IAAAA,EAAA,GAEAD,EAAAE,GAAAD,GAAA9F,QAAA,YAiBA,IAAAgG,GAAAxI,EAAAyI,GAAAC,QAEA1I,GAAAyI,GAAAC,SAAApB,EACAtH,EAAAyI,GAAAC,SAAAC,YAAAnB,EAMAxH,EAAAyI,GAAAC,SAAAE,WAAA,WAEA,MADA5I,GAAAyI,GAAAC,SAAAF,EACAnI,MAOAL,EAAA8F,UACA3F,GAAA,6BAAAwG,GACAxG,GAAA,6BAAA,iBAAA,SAAAK,GAAAA,EAAA2H,oBACAhI,GAAA,6BAAA4G,EAAAS,EAAAI,UAAAb,QACA5G,GAAA,+BAAA4G,EAAAS,EAAAI,UAAAM,SACA/H,GAAA,+BAAA,iBAAAqH,EAAAI,UAAAM,UAEAW","file":"app.js","sourcesContent":["$(function () {\n  var $window = $(window);\n\n  $('.navbar-toggle').on('click', function () {\n    var $navbar = $($(this).data('target'));\n    $navbar.slideToggle(150);\n  });\n\n  $('.scroll-to').on('click', function (e) {\n    e.preventDefault();\n\n    $('html, body').animate({\n      scrollTop: $($(this).attr('href')).offset().top - 70 // Header height\n    }, 700);\n  });\n\n  // Change header download button color\n\n  if (!$('body#enterprise').length) {\n    var introSectionHeight = $('.section.intro-section').outerHeight() || 50;\n    var $downloadBtn = $('.navbar-nav').find('.button');\n\n    $window.on('scroll', function () {\n      var scrollTop = $(this).scrollTop();\n\n      if (scrollTop > introSectionHeight) {\n        $downloadBtn.removeClass('button-dark').addClass('button-primary');\n      } else {\n        $downloadBtn.removeClass('button-primary').addClass('button-dark');\n      }\n    });\n  }\n\n  // Page section on contribute page\n\n  $('.toggle-page-section').on('click', function (e) {\n    e.preventDefault();\n    var $link = $(this);\n\n    $link.parent().next('.page-section').stop().slideToggle(300, function () {\n      $link.toggleClass('active');\n    });\n  });\n\n  // Tabs on download page\n\n  var $tabs = $('.tab-list li');\n  var $tabPanes = $('.tab-pane');\n\n  $tabs.on('click', function (e, disableTracking) {\n    e.preventDefault();\n\n    var tabId = $(this).find('a').attr('href');\n\n    $tabs.removeClass('active').filter(this).addClass('active');\n    $tabPanes.removeClass('active').filter(tabId).addClass('active');\n\n    if (history.pushState) {\n      history.pushState(null, null, tabId);\n    } else {\n      location.hash = tabId;\n    }\n\n    if (!disableTracking) {\n      analytics.track('Choose installation method', {\n        installationMethod: tabId.substr(1)\n      });\n    }\n  });\n\n  if (location.hash) {\n    $tabs.find('a[href=\"' + location.hash + '\"]').trigger('click', true);\n  }\n\n  // Subscribe form\n\n  $('.subscribe-form').on('submit', function (e) {\n    e.preventDefault();\n\n    var $form = $(this);\n    var email = $form.find('[name=\"email\"]').val();\n    var submitTime = new Date().toString();\n\n    analytics.identify(email, {\n      email: email,\n      environment: 'kong',\n      newsletter_updates: true,\n      created_at: submitTime\n    }, function () {\n      $form.fadeOut(300, function () {\n        $('.success-message').fadeIn(300);\n      });\n\n      analytics.track('request_newsletter_updates', {\n        email: email,\n        request_date: submitTime\n      });\n    });\n  });\n\n  // Enterprise page demo request form\n\n  $('.demo-request-form').on('submit', function (e) {\n    e.preventDefault();\n\n    var $form = $(this);\n    var data = $form.serializeArray();\n    var submitTime = new Date().toString();\n    var payload = {};\n    var analyticsDfd = $.Deferred();\n    var fieldValues = {};\n    var relateiqFieldIds = {\n      title: 7,\n      tell_us_more: 8,\n      email: 9,\n      phone: 10,\n      deployment: 11,\n      company: 12,\n      name: 14\n    };\n\n    for (var i = 0; i < data.length; i++) {\n      payload[data[i].name] = data[i].value;\n    }\n\n    analytics.identify(payload.email, $.extend({\n      environment: 'kong',\n      enterprise: true,\n      created_at: submitTime\n    }, payload), function () {\n      analytics.track('request_enterprise_demo', $.extend({\n        request_date: submitTime\n      }, payload), analyticsDfd.resolve);\n    });\n\n    for (var field in payload) {\n      if (payload[field]) {\n        fieldValues[relateiqFieldIds[field]] = [{\n          raw: payload[field]\n        }];\n      }\n    }\n\n    var relateiqDfd = $.ajax({\n      url: 'https://mashaper-relateiq-v1.p.mashape.com/accounts',\n      method: 'POST',\n      headers: {\n        'authorization': 'Basic NTU0MWViNjZlNGIwNjlmYmVhZmYwY2M1OkY3WW0xNDIwY041UUZSRDRZaUpnMjRxUTcxUQ==',\n        'x-mashape-key': 'mJUINHSWBYmshREqNlfTBKtbBHDZp1N7VKhjsnUIUo4f4r3pVj'\n      },\n      data: JSON.stringify({\n        name: payload.email,\n        fieldValues: fieldValues\n      })\n    });\n\n    $.when.apply($, [analyticsDfd, relateiqDfd]).then(function () {\n      $form.fadeOut(300, function () {\n        $('.success-message').fadeIn(300);\n      }).siblings('.section-header').fadeOut(300);\n    });\n  });\n\n  // Analytics\n\n  $('[href^=\"/download\"]').each(function () {\n    var $link = $(this);\n\n    analytics.trackLink(this, 'Clicked download', {\n      section: $link.closest('.navbar').length ? 'header' : 'page',\n      pathname: location.pathname,\n      type: $link.hasClass('button') ? 'button' : 'link'\n    });\n  });\n\n  analytics.track(\n      'Viewed ' + $.trim(document.title.split('|').shift()) + ' page'\n  );\n\n  $('.plugin-plate-link').each(function () {\n    analytics.trackLink(this, 'Click on plugin', {\n      plugin_type: $(this).closest('.plugin-plate').find('h3').text()\n    });\n  });\n\n  $('#documentation .page-navigation a').each(function () {\n    analytics.trackLink(this, 'Click documentation link', {\n      documentation_name: $(this).text()\n    });\n  });\n\n  $('.community-plate a').each(function () {\n    analytics.trackLink(this, 'Click community link', {\n      community_type: $.trim($(this).closest('.community-plate').find('h4').text())\n    });\n  });\n\n  analytics.trackLink($('a[href=\"#comparison\"]')[0], 'Clicked Why Kong');\n});\n","/* ========================================================================\n * Bootstrap: dropdown.js v3.3.4\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.4'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n            .addClass('dropdown-backdrop')\n            .insertAfter($(this))\n            .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n          .trigger('focus')\n          .attr('aria-expanded', 'true')\n\n      $parent\n          .toggleClass('open')\n          .trigger('shown.bs.dropdown', relatedTarget)\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('[role=\"menu\"]' + desc + ', [role=\"listbox\"]' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n      .on('click.bs.dropdown.data-api', clearMenus)\n      .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n      .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n      .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n      .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);"],"sourceRoot":"/source/"}