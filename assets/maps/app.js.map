{"version":3,"sources":["app.js"],"names":["$","on","$navbar","this","data","slideToggle","e","preventDefault","$link","parent","next","stop","toggleClass","$tabs","$tabPanes","disableTracking","tabId","find","attr","removeClass","filter","addClass","history","pushState","location","hash","analytics","track","installationMethod","substr","trigger","Parse","initialize","$form","serializeArray","Subscription","Object","extend","subscription","payload","i","length","name","value","identify","environment","userId","email","save","success","fadeOut","fadeIn","error","each","trackLink","section","closest","pathname","type","hasClass"],"mappings":"AAAAA,EAAA,WACAA,EAAA,kBAAAC,GAAA,QAAA,WACA,GAAAC,GAAAF,EAAAA,EAAAG,MAAAC,KAAA,UACAF,GAAAG,YAAA,OAKAL,EAAA,wBAAAC,GAAA,QAAA,SAAAK,GACAA,EAAAC,gBACA,IAAAC,GAAAR,EAAAG,KAEAK,GAAAC,SAAAC,KAAA,iBAAAC,OAAAN,YAAA,IAAA,WACAG,EAAAI,YAAA,aAMA,IAAAC,GAAAb,EAAA,gBACAc,EAAAd,EAAA,YAEAa,GAAAZ,GAAA,QAAA,SAAAK,EAAAS,GACAT,EAAAC,gBAEA,IAAAS,GAAAhB,EAAAG,MAAAc,KAAA,KAAAC,KAAA,OAEAL,GAAAM,YAAA,UAAAC,OAAAjB,MAAAkB,SAAA,UACAP,EAAAK,YAAA,UAAAC,OAAAJ,GAAAK,SAAA,UAEAC,QAAAC,UACAD,QAAAC,UAAA,KAAA,KAAAP,GAEAQ,SAAAC,KAAAT,EAGAD,GACAW,UAAAC,MAAA,8BACAC,mBAAAZ,EAAAa,OAAA,OAKAL,SAAAC,MACAZ,EAAAI,KAAA,WAAAO,SAAAC,KAAA,MAAAK,QAAA,SAAA,GAKAC,MAAAC,WAAA,2CAAA,4CAEAhC,EAAA,mBAAAC,GAAA,SAAA,SAAAK,GACAA,EAAAC,gBAQA,KAAA,GANA0B,GAAAjC,EAAAG,MACAC,EAAA6B,EAAAC,iBACAC,EAAAJ,MAAAK,OAAAC,OAAA,gBACAC,EAAA,GAAAH,GACAI,KAEAC,EAAA,EAAAA,EAAApC,EAAAqC,OAAAD,IACAD,EAAAnC,EAAAoC,GAAAE,MAAAtC,EAAAoC,GAAAG,KAGAjB,WAAAkB,SAAA5C,EAAAqC,QACAQ,YAAA,OACAC,OAAAP,EAAAQ,OACAR,IAEAD,EAAAU,KAAAT,GACAU,QAAA,WACAhB,EAAAiB,QAAA,IAAA,WACAlD,EAAA,oBAAAmD,OAAA,QAGAC,MAAA,WACAnB,EAAAiB,QAAA,IAAA,WACAlD,EAAA,kBAAAmD,OAAA,YAOAnD,EAAA,uBAAAqD,KAAA,WACA,GAAA7C,GAAAR,EAAAG,KAEAuB,WAAA4B,UAAAnD,KAAA,oBACAoD,QAAA/C,EAAAgD,QAAA,WAAAf,OAAA,SAAA,OACAgB,SAAAjC,SAAAiC,SACAC,KAAAlD,EAAAmD,SAAA,UAAA,SAAA","file":"app.js","sourcesContent":["$(function () {\n  $('.navbar-toggle').on('click', function () {\n    var $navbar = $($(this).data('target'));\n    $navbar.slideToggle(150);\n  });\n\n  // Page section on contribute page\n\n  $('.toggle-page-section').on('click', function (e) {\n    e.preventDefault();\n    var $link = $(this);\n\n    $link.parent().next('.page-section').stop().slideToggle(300, function () {\n      $link.toggleClass('active');\n    });\n  });\n\n  // Tabs on download page\n\n  var $tabs = $('.tab-list li');\n  var $tabPanes = $('.tab-pane');\n\n  $tabs.on('click', function (e, disableTracking) {\n    e.preventDefault();\n\n    var tabId = $(this).find('a').attr('href');\n\n    $tabs.removeClass('active').filter(this).addClass('active');\n    $tabPanes.removeClass('active').filter(tabId).addClass('active');\n\n    if (history.pushState) {\n      history.pushState(null, null, tabId);\n    } else {\n      location.hash = tabId;\n    }\n\n    if (!disableTracking) {\n      analytics.track('Choose installation method', {\n        installationMethod: tabId.substr(1)\n      });\n    }\n  });\n\n  if (location.hash) {\n    $tabs.find('a[href=\"' + location.hash + '\"]').trigger('click', true);\n  }\n\n  // Subscribe form on homepage\n\n  Parse.initialize(\"ZFqEMoCQSm0K4piYYdstraJDOl0a80tJB7R0tR49\", \"SdqL88SikiiftwBjEGfRb4SmbghTIycZ2kfy7Jb0\");\n\n  $('.subscribe-form').on('submit', function (e) {\n    e.preventDefault();\n\n    var $form = $(this);\n    var data = $form.serializeArray();\n    var Subscription = Parse.Object.extend('Subscription');\n    var subscription = new Subscription();\n    var payload = {};\n\n    for (var i = 0; i < data.length; i++) {\n      payload[data[i].name] = data[i].value;\n    }\n\n    analytics.identify($.extend({\n      environment: 'kong',\n      userId: payload.email\n    }, payload));\n\n    subscription.save(payload, {\n      success: function () {\n        $form.fadeOut(300, function () {\n          $('.success-message').fadeIn(300);\n        });\n      },\n      error: function () {\n        $form.fadeOut(300, function () {\n          $('.error-message').fadeIn(300);\n        });\n      }\n    });\n  });\n\n  // Analytics\n  $('[href^=\"/download\"]').each(function () {\n    var $link = $(this);\n\n    analytics.trackLink(this, 'Clicked download', {\n      section: $link.closest('.navbar').length ? 'header' : 'page',\n      pathname: location.pathname,\n      type: $link.hasClass('button') ? 'button' : 'link'\n    });\n  });\n});\n"],"sourceRoot":"/source/"}