{"version":3,"sources":["app.js"],"names":["$","$window","window","on","$navbar","this","data","slideToggle","e","preventDefault","animate","scrollTop","attr","offset","top","length","introSectionHeight","outerHeight","$downloadBtn","find","removeClass","addClass","$link","parent","next","stop","toggleClass","$tabs","$tabPanes","disableTracking","tabId","filter","history","pushState","location","hash","analytics","track","installationMethod","substr","trigger","$form","email","val","submitTime","Date","toString","identify","environment","newsletter_updates","created_at","fadeOut","fadeIn","request_date","serializeArray","payload","i","name","value","extend","enterprise","siblings","each","trackLink","section","closest","pathname","type","hasClass","trim","document","title","split","shift","plugin_type","text"],"mappings":"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","file":"app.js","sourcesContent":["$(function () {\n  var $window = $(window);\n\n  $('.navbar-toggle').on('click', function () {\n    var $navbar = $($(this).data('target'));\n    $navbar.slideToggle(150);\n  });\n\n  $('.scroll-to').on('click', function (e) {\n    e.preventDefault();\n\n    $('html, body').animate({\n      scrollTop: $($(this).attr('href')).offset().top - 70 // Header height\n    }, 700);\n  });\n\n  // Change header download button color\n\n  if (!$('body#enterprise').length) {\n    var introSectionHeight = $('.section.intro-section').outerHeight() || 50;\n    var $downloadBtn = $('.navbar-nav').find('.button');\n\n    $window.on('scroll', function () {\n      var scrollTop = $(this).scrollTop();\n\n      if (scrollTop > introSectionHeight) {\n        $downloadBtn.removeClass('button-dark').addClass('button-primary');\n      } else {\n        $downloadBtn.removeClass('button-primary').addClass('button-dark');\n      }\n    });\n  }\n\n  // Page section on contribute page\n\n  $('.toggle-page-section').on('click', function (e) {\n    e.preventDefault();\n    var $link = $(this);\n\n    $link.parent().next('.page-section').stop().slideToggle(300, function () {\n      $link.toggleClass('active');\n    });\n  });\n\n  // Tabs on download page\n\n  var $tabs = $('.tab-list li');\n  var $tabPanes = $('.tab-pane');\n\n  $tabs.on('click', function (e, disableTracking) {\n    e.preventDefault();\n\n    var tabId = $(this).find('a').attr('href');\n\n    $tabs.removeClass('active').filter(this).addClass('active');\n    $tabPanes.removeClass('active').filter(tabId).addClass('active');\n\n    if (history.pushState) {\n      history.pushState(null, null, tabId);\n    } else {\n      location.hash = tabId;\n    }\n\n    if (!disableTracking) {\n      analytics.track('Choose installation method', {\n        installationMethod: tabId.substr(1)\n      });\n    }\n  });\n\n  if (location.hash) {\n    $tabs.find('a[href=\"' + location.hash + '\"]').trigger('click', true);\n  }\n\n  // Subscribe form\n\n  $('.subscribe-form').on('submit', function (e) {\n    e.preventDefault();\n\n    var $form = $(this);\n    var email = $form.find('[name=\"email\"]').val();\n    var submitTime = new Date().toString();\n\n    analytics.identify(email, {\n      email: email,\n      environment: 'kong',\n      newsletter_updates: true,\n      created_at: submitTime\n    }, function () {\n      $form.fadeOut(300, function () {\n        $('.success-message').fadeIn(300);\n      });\n\n      analytics.track('request_newsletter_updates', {\n        email: email,\n        request_date: submitTime\n      });\n    });\n  });\n\n  // Enterprise page demo request form\n\n  $('.demo-request-form').on('submit', function (e) {\n    e.preventDefault();\n\n    var $form = $(this);\n    var data = $form.serializeArray();\n    var submitTime = new Date().toString();\n\n    var payload = {};\n\n    for (var i = 0; i < data.length; i++) {\n      payload[data[i].name] = data[i].value;\n    }\n\n    analytics.identify(payload.email, $.extend({\n      environment: 'kong',\n      enterprise: true,\n      created_at: submitTime\n    }, payload), function () {\n      $form.fadeOut(300, function () {\n        $('.success-message').fadeIn(300);\n      }).siblings('.section-header').fadeOut(300);\n\n      analytics.track('request_enterprise_demo', $.extend({\n        request_date: submitTime\n      }, payload));\n    });\n  });\n\n  // Analytics\n\n  $('[href^=\"/download\"]').each(function () {\n    var $link = $(this);\n\n    analytics.trackLink(this, 'Clicked download', {\n      section: $link.closest('.navbar').length ? 'header' : 'page',\n      pathname: location.pathname,\n      type: $link.hasClass('button') ? 'button' : 'link'\n    });\n  });\n\n  analytics.track(\n      'Viewed ' + $.trim(document.title.split('|').shift()) + ' page'\n  );\n\n  $('.plugin-plate-link').each(function () {\n    var $link = $(this);\n\n    analytics.trackLink(this, 'Click on plugin', {\n      plugin_type: $link.closest('.plugin-plate').find('h3').text()\n    });\n  });\n});\n"],"sourceRoot":"/source/"}