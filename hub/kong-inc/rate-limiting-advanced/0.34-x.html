<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Rate Limiting Advanced
plugin | Kong</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1591902426"
  />

  <script>
    !(function(w) {
      var clearbit = (w.clearbit = w.clearbit || []);
      if (!clearbit.initialize)
        if (clearbit.invoked)
          w.console &&
            console.error &&
            console.error("Clearbit snippet included twice.");
        else {
          clearbit.invoked = !0;
          clearbit.methods = [
            "trackSubmit",
            "trackClick",
            "trackLink",
            "trackForm",
            "pageview",
            "identify",
            "reset",
            "group",
            "track",
            "ready",
            "alias",
            "page",
            "once",
            "off",
            "on"
          ];
          clearbit.factory = function(t) {
            return function() {
              var e = Array.prototype.slice.call(arguments);
              e.unshift(t);
              clearbit.push(e);
              return clearbit;
            };
          };
          for (var t = 0; t < clearbit.methods.length; t++) {
            var e = clearbit.methods[t];
            clearbit[e] = clearbit.factory(e);
          }
          clearbit.load = function(t) {
            var e = document.createElement("script");
            e.async = !0;
            e.src =
              ("https:" === document.location.protocol
                ? "https://"
                : "http://") +
              "x.clearbitjs.com/v1/" +
              t +
              "/clearbit.js";
            var n = document.getElementsByTagName("script")[0];
            n.parentNode.insertBefore(e, n);
          };
          clearbit.SNIPPET_VERSION = "3.1.0";
          clearbit.load("pk_1bdbdbad26342e32516473510e95c3ff");
          clearbit.page();
        }
    })(window);
  </script>

  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id="/hub/kong-inc/rate-limiting-advanced/0.34-x"
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top lower_nav expand">
  <div class="container d-flex">
    <a href="https://konghq.com/" class="navbar-brand col col-xl-auto">
    <img src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/img/gradient-logo.svg" alt="Kong Logo">
    </a>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
    <nav class="navbar full-width">
      <div class="collapse navbar-collapse col justify-content-md-end kong-navbar_nav">
        <ul id="menu-primary-nav" class="menu">
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12447 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12448 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link">Install</a></li>
          <li id="menu-item-18416" class="multicol wide nav1 toplabel centered menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18416 navbar-item"><a href="#" class="nav-link">Products</a>
            <ul class="sub-menu">
              <li id="menu-item-18417" class="nav2 icon click menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18417 navbar-item"><a href="https://konghq.com/products/kong-enterprise?itm_source=website&amp;itm_medium=nav" class="nav-link"><img alt="kong-enterprise" src="/assets/images/nav/kong-logo.png"> Kong Enterprise</a>
              <ul class="sub-menu">
                <li id="menu-item-18418" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18418 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-manager?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong Manager<p class="description">Manage all your services</p></a></li>
                <li id="menu-item-18419" class="nav3 pb-0x menu-item menu-item-type-custom menu-item-object-custom menu-item-18419 navbar-item"><a href="https://konghq.com/products/kong-enterprise/teams?itm_source=website&amp;itm_medium=nav" class="nav-link">Teams<p class="description">Organize developers and permissions</p></a></li>
                <li id="menu-item-18420" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18420 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-studio?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong Studio<p class="description">Empower your developers </p></a></li>
                <li id="menu-item-18421" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18421 navbar-item"><a href="https://konghq.com/products/kong-enterprise/dev-portal?itm_source=website&amp;itm_medium=nav" class="nav-link">Dev Portal<p class="description">Accelerate innovation</p></a></li>
                <li id="menu-item-18422" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18422 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-brain?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong Brain<p class="description">Automate documentation</p></a></li>
                <li id="menu-item-18423" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18423 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-immunity?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong Immunity<p class="description">Autonomously identify issues</p></a></li>
                <li id="menu-item-18424" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18424 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-kubernetes?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong for Kubernetes<p class="description">Native Kubernetes Ingress Controller</p></a></li>
                <li id="menu-item-18425" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18425 navbar-item"><a href="https://konghq.com/products/kong-enterprise/enterprise-plugins/?itm_source=website&amp;itm_medium=nav" class="nav-link">Enterprise Plugins<p class="description">Instantly implement policies</p></a></li>
                <li id="menu-item-18426" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18426 navbar-item"><a href="https://konghq.com/products/kong-enterprise/vitals/?itm_source=website&amp;itm_medium=nav" class="nav-link">Kong Vitals<p class="description">Monitor your Kong Enterprise</p></a></li>
                <li id="menu-item-18427" class="nav-button reverse menu-item menu-item-type-custom menu-item-object-custom menu-item-18427 navbar-item"><a href="https://konghq.com/get-started/?itm_source=website&amp;itm_medium=nav" class="nav-link">Get Started</a></li>
              </ul>
            </li>
              <li id="menu-item-18428" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18428 navbar-item"><a href="#" class="nav-link">Built on an Open-source Foundation</a>
              <ul class="sub-menu">
                <li id="menu-item-18429" class="icon menu-item menu-item-type-custom menu-item-object-custom menu-item-18429 navbar-item"><a href="https://konghq.com/kong/?itm_source=website&amp;itm_medium=nav" class="nav-link"><img alt="kong-gateway" src="/assets/images/nav/kong-logo.png"> Kong Gateway<p class="description">API Gateway</p></a></li>
                <li id="menu-item-18430" class="icon menu-item menu-item-type-custom menu-item-object-custom menu-item-18430 navbar-item"><a target="_blank" rel="noopener noreferrer" href="https://kuma.io/?itm_source=website&amp;itm_medium=nav" class="nav-link"><img alt="kuma" src="/assets/images/nav/kuma-logo.svg"> Kuma<p class="description">Service Mesh</p></a></li>
                <li id="menu-item-18431" class="icon menu-item menu-item-type-custom menu-item-object-custom menu-item-18431 navbar-item"><a target="_blank" rel="noopener noreferrer" href="https://insomnia.rest/?itm_source=website&amp;itm_medium=nav" class="nav-link"><img alt="insomnia" src="/assets/images/nav/insomnia-logo.svg"> Insomnia<p class="description">API Design and Testing</p></a></li>
                <li id="menu-item-18432" class="nav-button menu-item menu-item-type-custom menu-item-object-custom menu-item-18432 navbar-item"><a href="https://konghq.com/install/?itm_source=website&amp;itm_medium=nav" class="nav-link">Install</a></li>
              </ul>
            </li>
              <li id="menu-item-18433" class="nav2 hidden menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-18433 navbar-item"><a href="#" class="nav-link">Kubernetes &amp; Subscriptions</a>
              <ul class="sub-menu">
                <li id="menu-item-18434" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18434 navbar-item"><a href="https://konghq.com/solutions/kubernetes-ingress/?itm_source=website&amp;itm_medium=nav" class="nav-link">Kubernetes Ingress Controller<p class="description">Ingress and CRDs</p></a></li>
                <li id="menu-item-18435" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-18435 navbar-item"><a href="https://konghq.com/subscriptions/?itm_source=website&amp;itm_medium=nav" class="nav-link">Subscriptions<p class="description">Kong Gateway and Enterprise features</p></a></li>
              </ul>
            </li>
            </ul>
            </li>
          <li id="menu-item-12471" class="multicol wide nav1 toplabel menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12471 navbar-item"><a href="#" class="nav-link solutions">Solutions</a>
            <ul class="sub-menu">
              <li id="menu-item-12472" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12472 navbar-item"><a href="#" class="nav-link use-cases">Use Cases</a>
              <ul class="sub-menu">
                <li id="menu-item-12473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12473 navbar-item"><a href="https://konghq.com/solutions/use-cases/decentralize-applications-and-services?itm_source=website&amp;itm_medium=nav" class="nav-link decentralize-apps-and-services<p-class=&quot;description&quot;>accelerate-your-journey-into-microservices</p>">Decentralize Apps and Services<p class="description">Accelerate your journey into microservices</p></a></li>
                <li id="menu-item-14131" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14131 navbar-item"><a href="https://konghq.com/solutions/use-cases/secure-and-govern-apis-and-services/?itm_source=website&amp;itm_medium=nav" class="nav-link secure-and-govern-apis<p-class=&quot;description&quot;>empower-teams-to-provide-security,-governance-and-compliance</p>">Secure and Govern APIs<p class="description">Empower teams to provide security, governance and compliance</p></a></li>
                <li id="menu-item-17469" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17469 navbar-item"><a href="https://konghq.com/solutions/use-cases/create-a-developer-platform/?itm_source=website&amp;itm_medium=nav" class="nav-link create-a-developer-platform<p-class=&quot;description&quot;>rapidly-design,-publish-and-consume-apis-and-services</p>">Create a Developer Platform<p class="description">Rapidly design, publish and consume APIs and services</p></a></li>
              </ul>
            </li>
              <li id="menu-item-17470" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-17470 navbar-item"><a href="#" class="nav-link deployment-patterns">Deployment Patterns</a>
              <ul class="sub-menu">
                <li id="menu-item-17471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17471 navbar-item"><a href="https://konghq.com/solutions/gateway/?itm_source=website&amp;itm_medium=nav" class="nav-link api-gateway<p-class=&quot;description&quot;>take-control-of-your-microservices-with-the-world's-most-popular-api-gateway</p>">API Gateway<p class="description">Take control of your microservices with the world’s most popular API gateway</p></a></li>
                <li id="menu-item-17472" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17472 navbar-item"><a href="https://konghq.com/solutions/kubernetes-ingress/?itm_source=website&amp;itm_medium=nav" class="nav-link kubernetes<p-class=&quot;description&quot;>own-your-kubernetes-cluster-by-using-kong-as-an-ingress-controller</p>">Kubernetes<p class="description">Own your Kubernetes cluster by using Kong as an Ingress Controller</p></a></li>
                <li id="menu-item-17473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17473 navbar-item"><a target="_blank" rel="noopener noreferrer" href="https://kuma.io/?itm_source=website&amp;itm_medium=nav" class="nav-link service-mesh<p-class=&quot;description&quot;>build,-secure-and-observe-your-modern-service-mesh</p>">Service Mesh<p class="description">Build, secure and observe your modern Service Mesh</p></a></li>
              </ul>
            </li>
            </ul>
            </li>
          <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12471 navbar-item">
              <a href="/hub" class="nav-link">Plugins</a>
          </li>
          <li class="one-col nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12475 navbar-item">
            <a href="#" class="nav-link">Open Source</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12476 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install.svg"> Install Kong Gateway</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12477 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/community.svg"> Kong Community</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12478 navbar-item"><a target="_blank" href="https://github.com/Kong/kubernetes-ingress-controller" class="nav-link"><img src="/assets/images/nav/kubernetes.svg"> Kubernetes Ingress</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12479 navbar-item"><a target="_blank" href="https://kuma.io" class="nav-link"><img src="/assets/images/nav/logo-kuma-line.svg"> Kuma</a></li>
              <li class="nav2 hidden menu-item menu-item-type-custom menu-item-object-custom menu-item-12480 navbar-item"><a target="_blank" href="https://insomnia.rest/" class="nav-link"><img src="/assets/images/nav/insomnia.svg"> Insomnia</a></li>
            </ul>
          </li>
          <li class="multicol wide nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12481 navbar-item docs">
            <a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link">Docs</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12482 navbar-item">
                <a class="nav-link">Get Started</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12484 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install-thick.svg"> Install Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12485 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/1.5.x/deployment/installation/overview/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/getting-started-thick.svg"> Install Kong Enterprise</a></li>
                </ul>
              </li>
              <li id="menu-item-12483" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12483 navbar-item">
                <a class="nav-link">Learn</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12486 navbar-item"><a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12487 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Enterprise</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12488 navbar-item"><a target="_blank" href="https://docs.konghq.com/studio/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Studio</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12489 navbar-item"><a target="_blank" href="https://docs.konghq.com/hub/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Plugins Hub</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="multicol nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12490 navbar-item">
            <a href="#" class="nav-link">Resources</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12491 navbar-item">
                <a class="nav-link">Learning</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12495 navbar-item"><a href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/ebooks.svg"> eBooks</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12496 navbar-item"><a href="https://konghq.com/resources/?content=webinars&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/webinars.svg"> Webinars</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12497 navbar-item"><a href="https://konghq.com/resources/?content=whitepaper&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/briefs.svg"> Briefs</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12494 navbar-item"><a href="https://konghq.com/blog?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/blog.svg"> Blog</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12492 navbar-item">
                <a class="nav-link">Community</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12500 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Community</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12498 navbar-item"><a target="_blank" href="https://discuss.konghq.com/?_ga=2.147363831.1919773651.1569859116-132287075.1554308608" class="nav-link"><img src="/assets/images/nav/kong-nation.svg"> Kong Nation</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12501 navbar-item"><a href="https://konghq.com/kong-summit?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/summit.svg"> Kong Summit</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12499 navbar-item"><a target="_blank" href="https://github.com/Kong/" class="nav-link"><img src="/assets/images/nav/github.svg"> GitHub</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12493 navbar-item">
                <a class="nav-link">Support</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a target="_blank" href="https://support.konghq.com/s/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Enterprise Support Portal</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/faqs?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> FAQS</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a href="https://konghq.com/support/kong-professional-services?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong Professional Services</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/support/kong-university/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong University</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="menu-item-12504" class="one-col icn-sm nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12504 navbar-item">
            <a href="#" class="nav-link">Company</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/about-kong-inc?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/about.svg"> About</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/customers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Customers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12506 navbar-item"><a href="https://konghq.com/investors?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/investors.svg"> Investors</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12507 navbar-item"><a href="https://konghq.com/careers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/careers.svg"> Careers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12508 navbar-item"><a href="https://konghq.com/partners?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/partners.svg"> Partners</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12509 navbar-item"><a href="https://konghq.com/press-room?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/press.svg"> Press</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12510 navbar-item"><a href="https://konghq.com/contact?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/contact.svg"> Contact</a></li>
            </ul>
          </li>
          <li class="demo-btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12511 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
        </ul>
      </div>
    </nav>
  </div>
</header>


    















<!-- BEGIN PAGE OUTPUT -->

<div class="page page-extension-profile">
  
    


  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/hub/kong-inc_rate-limiting-advanced.png" alt="header icon"/>
        </div>
      

      <div class="page-header-title">
        

        <h1>Rate Limiting Advanced</h1>

        
      </div>

      

      
    </div>
  </header>


  

  <div class="container">

    
      <div class="versions-dropdown dropdown page-header-right">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
          Plugin Version 0.34-x
          
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/">
                1.3-x <em>(latest)</em>
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.36-x.html">
                0.36-x 
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.35-x.html">
                0.35-x 
              </a>
            </li>
          
            
            <li  class="active" >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.34-x.html">
                0.34-x 
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.33-x.html">
                0.33-x 
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.32-x.html">
                0.32-x 
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/rate-limiting-advanced/0.31-x.html">
                0.31-x 
              </a>
            </li>
          
        </ul>
      </div>
    

    

    <aside class="page-navigation">
      <span class="close-sidebar">Close Sidebar</span>
      
        <nav>
          <ul>
  <li><a href="#terminology" class="active">Terminology</a></li>
  <li><a href="#configuration">Configuration</a>
    <ul>
      <li><a href="#enabling-the-plugin-on-a-service">Enabling the plugin on a Service</a></li>
      <li><a href="#enabling-the-plugin-on-a-route">Enabling the plugin on a Route</a></li>
      <li><a href="#enabling-the-plugin-on-a-consumer">Enabling the plugin on a Consumer</a></li>
      <li><a href="#enabling-the-plugin-on-an-api">Enabling the plugin on an API</a></li>
      <li><a href="#global-plugins">Global plugins</a></li>
      <li><a href="#parameters">Parameters</a></li>
      <li><a href="#notes">Notes</a></li>
    </ul>
  </li>
</ul>

        </nav>
      

      <table id="about-extn">
        <tr>
          <th colspan="2">About this Plugin</th>
        </tr>
        <tr class="publisher">
          <td>Made by</td>
          <td>
          
            
<svg width="78" height="15" xmlns="http://www.w3.org/2000/svg">
  <g fill="none" fill-rule="evenodd">
    <path d="M23.685 7.372l-1.217 1.265V12h-1.313V2.047h1.313v4.922l4.423-4.922h1.586L24.56 6.442 28.784 12h-1.572l-3.527-4.628zm5.714.861c0-.724.143-1.376.428-1.955a3.187 3.187 0 0 1 1.19-1.34c.507-.314 1.087-.471 1.739-.471 1.007 0 1.822.348 2.444 1.046.622.697.933 1.624.933 2.782v.089c0 .72-.138 1.366-.414 1.938a3.14 3.14 0 0 1-1.182 1.336c-.513.32-1.102.479-1.767.479-1.003 0-1.815-.349-2.437-1.046-.623-.697-.934-1.62-.934-2.769v-.089zm1.272.15c0 .821.19 1.48.57 1.976.381.497.89.745 1.529.745.642 0 1.153-.251 1.53-.755.379-.503.568-1.209.568-2.116 0-.81-.192-1.468-.577-1.972-.386-.503-.897-.755-1.535-.755-.624 0-1.128.248-1.51.745-.384.497-.575 1.208-.575 2.133zm8.244-3.78l.041.93c.565-.71 1.303-1.066 2.215-1.066 1.563 0 2.351.882 2.365 2.645V12h-1.265V7.105c-.004-.533-.126-.927-.365-1.182-.24-.255-.612-.383-1.118-.383-.41 0-.77.11-1.08.328-.31.219-.551.506-.725.861V12H37.72V4.604h1.196zm6.228 3.637c0-1.153.266-2.07.8-2.751.533-.682 1.239-1.022 2.119-1.022.902 0 1.606.319 2.112.957l.061-.82h1.156v7.218c0 .957-.284 1.712-.851 2.263-.568.551-1.33.827-2.287.827a3.804 3.804 0 0 1-1.566-.342c-.51-.228-.9-.54-1.168-.936l.656-.759c.542.67 1.205 1.005 1.99 1.005.614 0 1.094-.173 1.438-.52.344-.346.516-.834.516-1.463v-.635c-.506.583-1.196.875-2.071.875-.866 0-1.567-.349-2.102-1.046-.536-.697-.803-1.648-.803-2.85zm1.271.144c0 .834.171 1.489.513 1.965.342.476.82.714 1.435.714.798 0 1.383-.362 1.757-1.086V6.6c-.387-.707-.968-1.06-1.743-1.06-.615 0-1.096.24-1.442.718-.347.478-.52 1.187-.52 2.126zM58.37 12h-1.312V2.047h1.312V12zm3.398-7.396l.04.93c.566-.712 1.304-1.067 2.215-1.067 1.564 0 2.352.882 2.366 2.645V12h-1.265V7.105c-.005-.533-.126-.927-.366-1.182-.239-.255-.612-.383-1.117-.383-.41 0-.77.11-1.08.328-.31.219-.552.506-.725.861V12H60.57V4.604h1.197zm9.495 6.5c.45 0 .845-.136 1.182-.41.338-.273.524-.615.56-1.025h1.197a2.293 2.293 0 0 1-.437 1.21 2.881 2.881 0 0 1-1.077.916 3.107 3.107 0 0 1-1.425.342c-1.007 0-1.808-.336-2.403-1.009-.595-.672-.892-1.591-.892-2.758v-.212c0-.72.132-1.36.396-1.92a3.02 3.02 0 0 1 1.138-1.306c.495-.31 1.08-.465 1.754-.465.83 0 1.519.248 2.068.745.549.497.842 1.142.878 1.934h-1.196c-.037-.478-.218-.871-.544-1.179-.325-.307-.728-.461-1.206-.461-.643 0-1.14.231-1.494.694-.353.462-.53 1.131-.53 2.006v.24c0 .852.176 1.508.527 1.968.35.46.852.69 1.504.69zm4.388.233c0-.219.065-.401.195-.547.13-.146.325-.219.585-.219.26 0 .457.073.591.219a.776.776 0 0 1 .202.547c0 .21-.068.385-.202.526-.134.142-.332.212-.591.212-.26 0-.455-.07-.585-.212a.748.748 0 0 1-.195-.526z" fill="#002A49"/>
    <path fill="#149DCB" d="M5.143 11.531l-.385.487.87 1.355-.09.627H9.23l.255-.627-1.484-1.842z"/>
    <path fill="#0EB399" d="M7.162 3.284l-1.335 2.33 6.514 7.682-.186.704h2.988l.542-2.499-6.971-8.22z"/>
    <path fill="#3DB664" d="M9.93 0L8.049 1.532l-.635 1.166H8.99l2.705 3.207 1.608-1.316v-.836l-.559-.781.413-.428z"/>
    <path fill="#17BDCB" d="M3.2 8.024h-.88L0 10.96V14h2.489l.438-.57 1.921-2.478h2.776l.855-1.304-3.01-3.562z"/>
  </g>
</svg>


          
          </td>
        </tr>
        <tr class="categories">
          <td>Categories</td>
          <td>
            <ul class="categories">
            
              
              <li><a href="/hub/#traffic-control">Traffic Control</a></li>
            
            </ul>
          </td>
        </tr>
        
        
        
        
          <tr class="kong-editions">
            <th colspan="2">
              
                Bundled with...
              
            </th>
          </tr>
          <tr class="kong-compatibility">
            <td colspan="2">
              <ul class="compat-list">
              
                
              
                
              
                
              
                
              
                
                  
                  <h6>Kong Enterprise</h6>
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.34-x
                  </li>
                
              
                
              
                
              
                
              
              </ul><ul class="compat-list">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              </ul>
            </td>
          </tr>
        
      </table>

    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content show-anchor-links">
          
      

      
        <div class="alert alert-warning">
          <strong>Kong Enterprise only</strong>: This plugin is only available with a <a href="https://konghq.com/kong-enterprise-edition">Kong Enterprise subscription</a>.
        </div>

        Please inquire about Kong Enterprise by <a href="https://konghq.com/request-demo">contacting us</a>, or start a <a href="https://konghq.com/free-trial/">free trial</a> today.
        <hr>
      

      

      <p>The Rate Limiting Advanced plugin for Kong Enterprise is a re-engineered version of the incredibly popular Kong Rate Limiting plugin, with greatly enhanced configuration options and performance.</p>


      
        <hr>
        <h2 id="terminology">Terminology</h2>
        <ul>
          <li><code>plugin</code>: a plugin executing actions inside Kong before or after a request has been proxied to the upstream API.</li>

          
            <li><code>Service</code>: the Kong entity representing an external <em>upstream</em> API or microservice.</li>
          
          
            <li><code>Route</code>: the Kong entity representing a way to map downstream requests to upstream services.</li>
          
          
            <li><code>Consumer</code>: an entity that makes requests for Kong to proxy; it represents either a user or an external service.</li>
            <li><code>Credential</code>: a unique string associated with a Consumer, also referred to as an API key.</li>
          
            <li><code>Upstream service</code>: this refers to your own API/service sitting behind Kong, to which client requests are forwarded.</li>
          
          <li><code>API</code>: a legacy entity used to represent your upstream services. <strong>Deprecated</strong> in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</li>
          
        </ul>
      

      

      
        <h2 id="configuration">Configuration</h2>
        

        

        

        
          
<h3 id="enabling-the-plugin-on-a-service">Enabling the plugin on a Service</h3>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/services/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=rate-limiting-advanced"</span> 
</code></pre></div></div>

<p><code class="highlighter-rouge">{service}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Service that this plugin configuration will target.</p>


        
        
          
<h3 id="enabling-the-plugin-on-a-route">Enabling the plugin on a Route</h3>

<p>Configure this plugin on a <a href="/latest/admin-api/#Route-object">Route</a> with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/routes/<span class="o">{</span>route<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=rate-limiting-advanced"</span> 
</code></pre></div></div>

<p><code class="highlighter-rouge">{route}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Route that this plugin configuration will target.</p>


        
        
          
<h3 id="enabling-the-plugin-on-a-consumer">Enabling the plugin on a Consumer</h3>

<p>Configure this plugin on a <a href="/latest/admin-api/#Consumer-object">Consumer</a> with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=rate-limiting-advanced"</span> 
</code></pre></div></div>

<p><code class="highlighter-rouge">{consumer}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">username</code> of the Consumer that this plugin configuration will target.</p>

<p>You can combine <code class="highlighter-rouge">consumer.id</code> and <code class="highlighter-rouge">service.id</code> in the same request, to further narrow the scope of the plugin.</p>


        
        
          
<h3 id="enabling-the-plugin-on-an-api">Enabling the plugin on an API</h3>

<p>If you are using an older version of Kong with the legacy <a href="/0.13.x/admin-api/#api-object">API
entity</a> (<strong>deprecated</strong> in favor of Services
since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">
CE 0.13.0</a> and
<a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.), you
can configure this plugin on top of such an API by making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=rate-limiting-advanced"</span> 
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">api</code>: either id or name of the API that this plugin configuration will
target.</li>
</ul>

        

        <h3 id="global-plugins">Global plugins</h3>
        <p>A plugin which is not associated to any Service, Route, or Consumer (or API, if you are using an older
        version of Kong) is considered "global", and will be run on every request.
        Read the <a href="/latest/admin-api/#add-plugin">Plugin Reference</a> and the
        <a href="/latest/admin-api/#precedence">Plugin Precedence</a> sections for more information.
        </p>
        
        <p>Plugins can be configured using the <code>http://kong:8001/plugins/</code> endpoint.
        </p>
        

        <h3 id="parameters">Parameters</h3>

        <p>Here's a list of all the parameters which can be used in this plugin's configuration: </p>

        
<table>
  <thead>
    <tr><th>Form Parameter</th><th>Description</th></tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td>The name of the plugin to use, in this case <code>rate-limiting-advanced</code></td></tr>

    
      <tr><td><code>service.id</code></td><td>The ID of the Service the plugin targets.</td></tr>
    
    
      <tr><td><code>route.id</code></td><td>The ID of the Route the plugin targets.</td></tr>
    
    
      <tr><td><code>consumer.id</code></td><td>The ID of the Consumer the plugin targets.</td></tr>
    
      <tr><td><code>enabled</code><br /><br /><strong>default value: </strong><code>true</code></td><td>Whether this plugin will be applied.</td></tr>
    
    <tr><td><code>api_id</code></td><td>The ID of the API the plugin targets. <br /><br /><strong>Note:</strong> The <a href="/0.13.x/admin-api/#api-object">API Entity</a> is deprecated in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</td></tr>
    
    
      <tr>
        <td><code>config.limit</code>
          
          
          
        </td>
        <td><p>One of more request per window to apply</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.window_size</code>
          
          
          
        </td>
        <td><p>One more more window sizes to apply (defined in seconds)</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.identifier</code>
          
          
          <br /><br /><strong>default value: </strong><p>consumer</p>

        </td>
        <td><p>How to define the rate limit key. Can be <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">credential</code>, or <code class="highlighter-rouge">consumer</code>.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.dictionary_name</code>
          
          
          <br /><br /><strong>default value: </strong><p>kong_rate_limiting_counters</p>

        </td>
        <td><p>The shared dictionary where counters will be stored until the next sync cycle</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.sync_rate</code>
          
          
          
        </td>
        <td><p>How often to sync counter data to the central data store. A value of 0 results in synchronous behavior; a value of -1 ignores sync behavior entirely and only stores counters in node memory. A value greater than 0 will sync the counters in that many number of seconds.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.namespace</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p>random string</p>

        </td>
        <td><p>The rate limiting library namespace to use for this plugin instance. Counter data and sync configuration is shared in a namespace.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.strategy</code>
          
          
          <br /><br /><strong>default value: </strong><p>cluster</p>

        </td>
        <td><p>The sync strategy to use; <code class="highlighter-rouge">cluster</code> and <code class="highlighter-rouge">redis</code> are supported</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.host</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Host to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.port</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Port to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.timeout</code>
          
          <br /><em>semi-optional</em>
          <br /><br /><strong>default value: </strong><p>2000</p>

        </td>
        <td><p>Connection timeout to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.password</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Password to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined. If undefined, no AUTH commands are sent to Redis.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.database</code>
          
          <br /><em>semi-optional</em>
          <br /><br /><strong>default value: </strong><p>0</p>

        </td>
        <td><p>Database to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.sentinel_master</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Sentinel master to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined. Defining this value implies using Redis Sentinel.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.sentinel_role</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Sentinel role to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined. Defining this value implies using Redis Sentinel.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.redis.sentinel_addresses</code>
          
          <br /><em>semi-optional</em>
          
        </td>
        <td><p>Sentinel addresses to use for Redis connection when the <code class="highlighter-rouge">redis</code> strategy is defined. Defining this value implies using Redis Sentinel.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.window_type</code>
          
          
          <br /><br /><strong>default value: </strong><p>sliding</p>

        </td>
        <td><p>This sets the time window to either <code class="highlighter-rouge">sliding</code> or <code class="highlighter-rouge">fixed</code></p>
</td>
      </tr>
    
  </tbody>
</table>


      

      <p><strong>Note:  Redis configuration values are ignored if the <code class="highlighter-rouge">cluster</code> strategy is used.</strong></p>

<p><strong>Note: PostgreSQL 9.5+ is required when using the <code class="highlighter-rouge">cluster</code> strategy with <code class="highlighter-rouge">postgres</code> as the backing Kong cluster data store. This requirement varies from the PostgreSQL 9.4+ requirement as described in the <a href="/install/source">Kong Community Edition documentation</a>.</strong></p>

<p><strong>Note: The <code class="highlighter-rouge">dictionary_name</code> directive was added to prevent the usage of the <code class="highlighter-rouge">kong</code> shared dictionary, which could lead to <code class="highlighter-rouge">no memory</code> errors</strong></p>


      <h3 id="notes">Notes</h3>

<p>An arbitrary number of limits/window sizes can be applied per plugin instance. This allows users to create multiple rate limiting windows (e.g., rate limit per minute and per hour, and/or per any arbitrary window size); because of limitation with Kong’s plugin configuration interface, each <em>nth</em> limit will apply to each <em>nth</em> window size. For example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-X</span> POST http://kong:8001/services/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
  <span class="nt">--data</span> <span class="nv">name</span><span class="o">=</span>rate-limiting-advanced <span class="se">\</span>
  <span class="nt">--data</span> config.limit<span class="o">=</span>10,100 <span class="se">\</span>
  <span class="nt">--data</span> config.window_size<span class="o">=</span>60,3600 <span class="se">\</span>
  <span class="nt">--data</span> config.sync_rate<span class="o">=</span>10
</code></pre></div></div>
<p>This will apply rate limiting policies, one of which will trip when 10 hits have been counted in 60 seconds, or when 100 hits have been counted in 3600 seconds. For more information, please see <a href="https://docs.konghq.com/enterprise/0.34-x/rate-limiting/">Enterprise Rate Limiting Library</a>.</p>


      

      
    
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <script>
/* eslint-disable */
  window.intercomSettings = {
    app_id: "gwoi3d8y"
  };
</script>

<script>
/* eslint-disable */
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/gwoi3d8y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>
 -->


    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
          <iframe
            src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c"
            width="100%"
            height="60"
            type="text/html"
            frameborder="0"
            allowTransparency="true"
            scrolling="no"
            style="overflow: hidden; border: 0;"
          ></iframe>
        </div>
        <div class="social">
          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
                aria-label="Meetup"
                class="fa fa-meetup"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i
                aria-label="GitHub"
                class="fa fa-linkedin"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a
              href="https://github.com/kong/kong"
              target="blank"
              class="btn-gh"
            >
              <i
                class="fa fa-github"
                aria-hidden="true"
                aria-label="GitHub"
              ></i>
              Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/kong/?itm_source=website&itm_medium=footer-nav"
                >Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-enterprise/?itm_source=website&itm_medium=footer-nav"
                >Kong Enterprise</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/get-started/?itm_source=website&itm_medium=footer-nav"
                >Get Started</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/subscriptions/?itm_source=website&itm_medium=footer-nav"
                >Subscriptions</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a
                href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=footer-nav"
                target="blank"
                >eBooks</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=webinarss&itm_source=website&itm_medium=footer-nav"
                >Webinars</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=whitepaper,datasheet,case-studies&itm_source=website&itm_medium=footer-nav"
                >Briefs</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/blog/?content=webinars&itm_source=website&itm_medium=footer-nav"
                >Blog</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/api-gateway/?itm_source=website&itm_medium=footer-nav"
                >API Gateway</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/microservices/?itm_source=website&itm_medium=footer-nav"
                >Microservices</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/about-kong-inc/?itm_source=website&itm_medium=footer-nav"
                >About</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/customers/?itm_source=website&itm_medium=footer-nav"
                >Customers</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/investors/?itm_source=website&itm_medium=footer-nav"
                >Investors</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/careers/?itm_source=website&itm_medium=footer-nav"
                >Careers <span>Hiring!</span></a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/partners/?itm_source=website&itm_medium=footer-nav"
                >Partners</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/press-room/?itm_source=website&itm_medium=footer-nav"
                >Press</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/contact/?itm_source=website&itm_medium=footer-nav"
                >Contact</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-summit/?itm_source=website&itm_medium=footer-nav"
                >Kong Summit</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/install/?itm_source=website&itm_medium=footer-nav"
                >Install Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/community/?itm_source=website&itm_medium=footer-nav"
                >Kong Community</a
              >
            </li>
            <li>
              <a
                href="https://github.com/Kong/kubernetes-ingress-controller/?itm_source=website&itm_medium=footer-nav"
                >Kubernetes Ingress</a
              >
            </li>
            <li>
              <a
                href="https://kuma.io/?itm_source=website&itm_medium=footer-nav"
                >Kuma</a
              >
            </li>
            <li>
              <a
                href="https://insomnia.rest/?itm_source=website&itm_medium=footer-nav"
                >Insomnia</a
              >
            </li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content"
          >&copy; Kong Inc. 2020 &nbsp;
          <a href="http://konghq.com/terms/">Terms</a><b>•</b
          ><a href="http://konghq.com/privacy/">Privacy</a></span
        >
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById("subscription_form").submit();
      document.getElementById("follow_up_subscription_form").submit();
      if (response.length == 0) {
        alert("reCaptcha verification failed");
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1591902426"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $('#oss_subnav.expand').toggleClass('slideup');
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $('nav.navbar.full-width').toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
        setTimeout(function() {
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        }, 100);
      });

      var $window = $(window);

      function checkWidth() {
        var windowsize = $window.width();
        if (windowsize > 1080) {
          $('.navbar').removeClass('mobile-triggers');
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        } else {
          $('.navbar').addClass('mobile-triggers');
        }
      }
      // Execute on load
      checkWidth();
      // Bind event listener
      $(window).resize(checkWidth);

      $('#menu-primary-nav .nav1 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $('.nav3').removeClass('active');
          var position = $(this)
            .parent()
            .position();
          $(this)
            .parent()
            .toggleClass('active');
          $('body')
            .get(0)
            .style.setProperty(
              '--navPosition',
              (position.top - 75) * -1 + 'px'
            );
          $(this)
            .parent()
            .parent()
            .toggleClass('active-tab');
        }
      });

      $('#menu-primary-nav .nav3 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $(this)
            .parent()
            .toggleClass('active');
        }
      });
    </script>
  </body>

  
</html>
