<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>JWT plugin | Kong</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1565229681"
  />
  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id="/hub/kong-inc/jwt/0.1-x"
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top">
  <div class="container d-flex">
    <nav id="fullNav" class="col justify-content-md-end kong-navbar_nav">
      <ul class="navbar-nav left">
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Products</a>
          <div class="list-group products">
            <div class="list-group-item flex-row flex-nowrap mega row">
                <div class="kong-navbar-dropdown_column col-md-4 offerings">
                    <h5 class="list-group-item-action">Offerings</h5>
                    <a href="http://konghq.com/kong/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong.svg" alt="Kong">
                      <div>Kong
                        <p class="mb-1 mini">The blazingly fast open source microservices API gateway.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/kong-enterprise/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-enterprise.svg" alt="Kong Enterprise">
                      <div>Kong Enterprise
                      <p class="mb-1 mini">The next-generation API platform built on top of Kong.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/cloud" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-cloud.svg" alt="Kong Cloud">
                      <div>Kong Cloud
                      <p class="mb-1 mini">Kong Enterprise innovation delivered at cloud speed.</p>
                      </div>
                    </a>
                  </div>
              <div class="kong-navbar-dropdown_column col-md-8 dark">
                <h5 class="list-group-item-action">Service Control Platform</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/products/service-control-platform" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-overview.svg" alt="Overview">
                      <div>Platform Overview
                      <p class="mb-1 mini">End-to-end control of information exchange for hybrid and multi-cloud organizations.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-manager" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Kong Manager">
                      <div>Kong Manager
                      <p class="mb-1 mini">Elegant visual interface for monitoring and managing Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/api-dev-portal" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Dev Portal">
                      <div>Kong Dev Portal
                      <p class="mb-1 mini">Single source of truth for a unified developer experience.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-vitals" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-vitals.svg" alt="Kong Vitals">
                      <div>Kong Vitals
                      <p class="mb-1 mini">Granular analytics to understand the health of Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-brain" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-brain.svg" alt="Kong Brain">
                      <div>Kong Brain
                      <p class="mb-1 mini">Intelligent automation to streamline service development and management.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-immunity" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-immunity.svg" alt="Kong Immunity">
                      <div>Kong Immunity
                      <p class="mb-1 mini">Advanced traffic anomaly detection to identify issues and threats.</p>
                      </div>
                    </a>
                  </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Solutions</a>
          <div class="list-group solutions">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="http://konghq.com/solutions/gateway" target="blank" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-apigateway.svg" alt="API Gateway">
            <div>
            API Gateway
            <p>Take control of your microservices traffic with the world's most popular API gateway.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/kubernetes-ingress" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-kubernetes.svg" alt="Kubernetes Ingress">
            <div>
            Kubernetes Ingress
            <p>Own your Kubernetes cluster by extending Kong functionality as an ingress controller.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/service-mesh/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-service-mesh.svg" alt="Service Mesh">
            <div>Service Mesh
            <p>Inject Kong as a sidecar for your services to go from mess to mesh.<br><br></p>
            </div>
            </a>
            </div>
          </div>
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item">
          <a href="https://docs.konghq.com/hub" class="nav-link plugins">Plugins</a>
        </li>
    </ul>
    <a href="http://konghq.com/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/Kogo-gradient.svg" alt="Kong">
    </a>
    <ul class="navbar-nav right">
      <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small left-trigger"><a class="nav-link">Docs</a>
          <div class="list-group docs">
          <div class="list-group-item flex-row flex-wrap">
          <div class="kong-navbar-dropdown_column col-md-6">
            <h5 class="list-group-item-action">Get Started</h5>
            <div class="list-item">
            <a href="https://konghq.com/install" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-install.svg" alt="Install">
              <div>Install
              <p>Get started with Kong now.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
                <a href="https://docs.konghq.com" class="list-group-item list-group-item-action">
                  <img src="/assets/images/nav/icn-getting-started.svg" alt="Docs">
                  <div>Kong Docs + Getting Started
                  <p>Use the 5-minute quickstart and installation guide to deploy Kong now.</p>
                  </div>
                </a>
              </div>
          </div>
          <div class="kong-navbar-dropdown_column col-md-6 dark">
              <h5 class="list-group-item-action">Learn</h5>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Deploy Kong Enterprise
            <p>Use the quickstart and reference materials to launch Kong Enterprise today.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Master Kong Vitals
            <p>Learn how to implement Vitals and optimize it for your deployment.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Launch your Dev Portal
            <p>Learn how to create and manage your Kong Dev Portal.<br><br></p>
              </div>
            </a>
            </div>
          </div>
          </div>
          </div>
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Resources</a>
          <div class="list-group resources">
            <div class="list-group-item flex-row flex-nowrap mega row">
              <div class="kong-navbar-dropdown_column col-md-3 learn">
                <h5 class="list-group-item-action">Downloads</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/blog" class="list-group-item-action"><img src="/assets/images/nav/icn-blog-16.svg" alt="blog">Blog</a>
                    <a href="http://konghq.com/ebooks" class="list-group-item-action"><img src="/assets/images/nav/icn-ebooks.svg" alt="ebooks">Ebooks</a>
                    <a href="http://konghq.com/webinars" class="list-group-item-action"><img src="/assets/images/nav/icn-webinars.svg" alt="webinars">Webinars</a>
                    <a href="http://konghq.com/briefs" class="list-group-item-action"><img src="/assets/images/nav/icn-briefs.svg" alt="briefs">Briefs</a>
                  </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-3">
                  <h5 class="list-group-item-action">Community</h5>
                  <div class="inner-wrap">
                  <a href="https://discuss.konghq.com/" class="list-group-item-action"><img src="/assets/images/nav/icn-kongnation-md.svg" alt="Kong Nation">Kong Nation</a>
                  <a href="https://github.com/Kong/" class="list-group-item-action"><img src="/assets/images/nav/icn-github-md.svg" alt="GitHub">GitHub</a>
                  <a href="http://konghq.com/community" class="list-group-item-action"><img src="/assets/images/nav/icn-meetups-md.svg" alt="meetups">Meetups</a>
                  <a href="http://konghq.com/kong-summit" class="list-group-item-action"><img src="/assets/images/nav/icn-summit.svg" alt="Kong Summit">Kong Summit</a>
                  </div>
                </div>
              <div class="kong-navbar-dropdown_column col-md-6">
                  <h5 class="list-group-item-action">Support</h5>
                  <div class="inner-wrap">
                  <a href="https://support.konghq.com" class="list-group-item-action"><img src="/assets/images/nav/icn-support.svg" alt="support">Enterprise Support Portal</a>
                  <a href="http://konghq.com/faqs/" class="list-group-item-action"><img src="/assets/images/nav/icn-faqs.svg" alt="faqs">FAQs</a>
                  </div>
                </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Company</a>
          <div class="list-group company">
          <div class="list-group-item flex-row flex-wrap">
            <div class="list-item icon">
            <a href="http://konghq.com/about-kong-inc" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-about.svg" alt="about"><span>About</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/investors" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-investors.svg" alt="investors"><span>Investors</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/careers" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-careers.svg" alt="careers"><span>Careers</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/partners" class="list-group-item list-group-item-action"><img class="partners" src="/assets/images/nav/icn-partners.svg" alt="partners"><span>Partners</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/press-room/" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-press.svg" alt="press"><span>Press</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/contact" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-contact.svg" alt="contact"><span>Contact</span></a>
            </div>
          </div>
          </div>
        </li>
        <li class="kong-navbar_nav_link kong-navbar_nav_link--cta"><a class="nav-link btn btn-outline-secondary transparent" href="http://konghq.com/install">Install Kong</a></li>
      </ul>
    </nav>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
  </div>
  <nav id="oss_subnav" class="preheader expand">
    <ul id="oss_nav">
      <li class="label"><h4>Open Source</h4></li>
      <li class="slider_line""><a href="https://konghq.com/community/">Community</a></li>
      <li class="kubernetes slider_line"><a href="https://konghq.com/solutions/kubernetes-ingress/">Kubernetes</a></li>
      <li class="install slider_line"><a href="https://konghq.com/install/">Install Kong
        <svg width="12px" height="12px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">
          <path fill="#004B80" class="st0" d="M12,10v2H0v-2H12z"></path>
          <g id="arrow">
            <polygon fill="#004B80" class="st1" points="7,5.6 8.3,4.3 9.7,5.7 6,9.4 2.3,5.7 3.7,4.3 5,5.6 5,0 7,0 	"></polygon>
          </g>
          </svg>
      </a></li>
    </ul>
    <span id="slide-line"></span>
  </nav>
</header>
<!---- Mobile Navigation ----->
<nav id="pagesNav" class="fixed-top hidden-xl-up kong-navbar-collapse">
<div class="btnwrap">
      <a class="btn" href="http://konghq.com/request-demo">Request Demo</a>
      <a href="http://konghq.com/install" class="btn btn-primary">Install</a>
    </div>
  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-left">
    <h5 class="col-12 trigger">
      <a class="nav-link">Products &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Products</a></h5>

      <div class="col-md-6">
          <h6>Offerings</h6>
          <div class="row">
            <div class="col-4">
              <a class="nav-link" href="http://konghq.com/kong/">Kong</a>
              <a class="nav-link" href="http://konghq.com/kong-enterprise/">Kong Enterprise</a>
              <a class="nav-link" href="http://konghq.com/cloud">Kong Cloud</a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <h6>Service Control Platform</h6>
          <a class="nav-link" href="http://konghq.com/products/service-control-platform">Platform Overview</a>
          <a class="nav-link" href="http://konghq.com/products/kong-manager">Kong Manager</a>
          <a class="nav-link" href="http://konghq.com/api-dev-portal">Kong Dev Portal</a>
          <a class="nav-link" href="http://konghq.com/products/kong-vitals">Kong Vitals</a>
          <a class="nav-link" href="http://konghq.com/products/kong-brain">Kong Brain</a>
          <a class="nav-link" href="http://konghq.com/products/kong-immunity">Kong Immunity</a>
        </div>


    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="trigger">
      <a class="nav-link">Solutions &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Solutions</a></h5>
      <div class="col-md-6">
              <a class="nav-link" href="http://konghq.com/solutions/gateway/">API Gateway</a>
              <a class="nav-link" href="http://konghq.com/solutions/kubernetes-ingress/">Kubernetes Ingress</a>
              <a class="nav-link" href="http://konghq.com/solutions/service-mesh/">Service Mesh</a>
      </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="remove">
      <a class="nav-link plugins" href="https://docs.konghq.com/hub">Plugins</a>
    </h5>
  </div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Docs &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Docs</a></h5>
      <div class="col-md-6">
          <h6>Get Started</h6>
          <a class="nav-link" href="https://konghq.com/install/">Install</a>
          <a class="nav-link" href="https://docs.konghq.com/">Kong Docs + Getting Started</a>
      </div>
      <div class="col-md-6">
      <h6>Learn</h6>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/">Deploy Kong Enterprise</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/">Master Kong Vitals</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/">Launch Your Dev Portal</a>
      </div>
    </div>
  </div>


  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-right">
    <h5 class="col-12 trigger">
      <a class="nav-link">Resources &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Resources</a></h5>
      <div class="col-md-6">
          <h6 class="shot-top">Downloads</h6>
          <a class="nav-link" href="http://konghq.com/blog">Blog</a>
          <a class="nav-link" href="http://konghq.com/ebooks">Ebooks</a>
          <a class="nav-link" href="http://konghq.com/webinars">Webinars</a>
          <a class="nav-link" href="http://konghq.com/briefs">Briefs</a>
        </div>
      <div class="col-md-6">
          <h6>Community</h6>
          <a class="nav-link" href="https://discuss.konghq.com/">Kong Nation</a>
          <a class="nav-link" href="https://github.com/Kong/">GitHub</a>
          <a class="nav-link" href="http://konghq.com/community/">Meetups</a>
          <a class="nav-link" href="http://konghq.com/kong-summit/">Kong Summit</a>
        </div>
        <div class="col-md-6">
          <h6>Support</h6>
          <a class="nav-link" href="https://support.konghq.com">Enterprise Support Portal</a>
          <a class="nav-link" href="http://konghq.com/faqs/">FAQs</a>
        </div>
  </div>

</div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Company &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
      <div class="subnav">
        <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Company</a></h5>
        <div class="col-md-6">
          <a class="nav-link" href="http://konghq.com/about-kong-inc">About</a>
          <a class="nav-link" href="http://konghq.com/investors">Investors</a>
          <a class="nav-link" href="/careers">Careers</a>
          <a class="nav-link" href="http://konghq.com/partners">Partners</a>
          <a class="nav-link" href="http://konghq.com/press-room/">Press</a>
          <a class="nav-link" href="http://konghq.com/contact">Contact</a>
        </div>
      </div>
  </div>
  <div class="hidden-md-up kong-navbar-collapse_section kong-navbar-collapse_section--buttons">
  </div>
</nav>
</header>
<div class="overlay"></div>


    















<!-- BEGIN PAGE OUTPUT -->

<div class="page page-extension-profile">
  
    


  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/hub/kong-inc_jwt.png" alt="header icon"/>
        </div>
      

      <div class="page-header-title">
        

        <h1>JWT</h1>

        
      </div>

      

      
    </div>
  </header>


  

  <div class="container">

    
      <div class="versions-dropdown dropdown page-header-right">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
          Plugin Version 0.1-x
          
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
            
            <li >
              <a href="/hub/kong-inc/jwt/">
                1.0-x <em>(latest)</em>
              </a>
            </li>
          
            
            <li  class="active" >
              <a href="/hub/kong-inc/jwt/0.1-x.html">
                0.1-x 
              </a>
            </li>
          
        </ul>
      </div>
    

    

    <aside class="page-navigation">
      <span class="close-sidebar">Close Sidebar</span>
      
        <nav>
          <ul>
  <li><a href="#terminology">Terminology</a></li>
  <li><a href="#configuration">Configuration</a>
    <ul>
      <li><a href="#enabling-the-plugin-on-a-service">Enabling the plugin on a Service</a></li>
      <li><a href="#enabling-the-plugin-on-a-route">Enabling the plugin on a Route</a></li>
      <li><a href="#enabling-the-plugin-on-an-api">Enabling the plugin on an API</a></li>
      <li><a href="#global-plugins">Global plugins</a></li>
      <li><a href="#parameters">Parameters</a></li>
    </ul>
  </li>
  <li><a href="#documentation">Documentation</a>
    <ul>
      <li><a href="#create-a-consumer">Create a Consumer</a></li>
      <li><a href="#create-a-jwt-credential">Create a JWT credential</a></li>
      <li><a href="#delete-a-jwt-credential">Delete a JWT credential</a></li>
      <li><a href="#list-jwt-credentials">List JWT credentials</a></li>
      <li><a href="#craft-a-jwt-with-a-secret-hs256">Craft a JWT with a secret (HS256)</a></li>
      <li><a href="#send-a-request-with-the-jwt">Send a request with the JWT</a></li>
      <li><a href="#optional-verified-claims">(Optional) Verified claims</a></li>
      <li><a href="#optional-base64-encoded-secret">(Optional) Base64 encoded secret</a></li>
      <li><a href="#craft-a-jwt-with-publicprivate-keys-rs256-or-es256">Craft a JWT with public/private keys (RS256 or ES256)</a></li>
      <li><a href="#generate-publicprivate-keys">Generate public/private keys</a></li>
      <li><a href="#using-the-jwt-plugin-with-auth0">Using the JWT plugin with Auth0</a></li>
      <li><a href="#upstream-headers">Upstream Headers</a></li>
      <li><a href="#paginate-through-the-jwts">Paginate through the JWTs</a></li>
      <li><a href="#retrieve-the-consumer-associated-with-a-jwt">Retrieve the Consumer associated with a JWT</a></li>
    </ul>
  </li>
</ul>

        </nav>
      

      <table id="about-extn">
        <tr>
          <th colspan="2">About this Plugin</th>
        </tr>
        <tr class="publisher">
          <td>Made by</td>
          <td>
          
            
<svg width="78" height="15" xmlns="http://www.w3.org/2000/svg">
  <g fill="none" fill-rule="evenodd">
    <path d="M23.685 7.372l-1.217 1.265V12h-1.313V2.047h1.313v4.922l4.423-4.922h1.586L24.56 6.442 28.784 12h-1.572l-3.527-4.628zm5.714.861c0-.724.143-1.376.428-1.955a3.187 3.187 0 0 1 1.19-1.34c.507-.314 1.087-.471 1.739-.471 1.007 0 1.822.348 2.444 1.046.622.697.933 1.624.933 2.782v.089c0 .72-.138 1.366-.414 1.938a3.14 3.14 0 0 1-1.182 1.336c-.513.32-1.102.479-1.767.479-1.003 0-1.815-.349-2.437-1.046-.623-.697-.934-1.62-.934-2.769v-.089zm1.272.15c0 .821.19 1.48.57 1.976.381.497.89.745 1.529.745.642 0 1.153-.251 1.53-.755.379-.503.568-1.209.568-2.116 0-.81-.192-1.468-.577-1.972-.386-.503-.897-.755-1.535-.755-.624 0-1.128.248-1.51.745-.384.497-.575 1.208-.575 2.133zm8.244-3.78l.041.93c.565-.71 1.303-1.066 2.215-1.066 1.563 0 2.351.882 2.365 2.645V12h-1.265V7.105c-.004-.533-.126-.927-.365-1.182-.24-.255-.612-.383-1.118-.383-.41 0-.77.11-1.08.328-.31.219-.551.506-.725.861V12H37.72V4.604h1.196zm6.228 3.637c0-1.153.266-2.07.8-2.751.533-.682 1.239-1.022 2.119-1.022.902 0 1.606.319 2.112.957l.061-.82h1.156v7.218c0 .957-.284 1.712-.851 2.263-.568.551-1.33.827-2.287.827a3.804 3.804 0 0 1-1.566-.342c-.51-.228-.9-.54-1.168-.936l.656-.759c.542.67 1.205 1.005 1.99 1.005.614 0 1.094-.173 1.438-.52.344-.346.516-.834.516-1.463v-.635c-.506.583-1.196.875-2.071.875-.866 0-1.567-.349-2.102-1.046-.536-.697-.803-1.648-.803-2.85zm1.271.144c0 .834.171 1.489.513 1.965.342.476.82.714 1.435.714.798 0 1.383-.362 1.757-1.086V6.6c-.387-.707-.968-1.06-1.743-1.06-.615 0-1.096.24-1.442.718-.347.478-.52 1.187-.52 2.126zM58.37 12h-1.312V2.047h1.312V12zm3.398-7.396l.04.93c.566-.712 1.304-1.067 2.215-1.067 1.564 0 2.352.882 2.366 2.645V12h-1.265V7.105c-.005-.533-.126-.927-.366-1.182-.239-.255-.612-.383-1.117-.383-.41 0-.77.11-1.08.328-.31.219-.552.506-.725.861V12H60.57V4.604h1.197zm9.495 6.5c.45 0 .845-.136 1.182-.41.338-.273.524-.615.56-1.025h1.197a2.293 2.293 0 0 1-.437 1.21 2.881 2.881 0 0 1-1.077.916 3.107 3.107 0 0 1-1.425.342c-1.007 0-1.808-.336-2.403-1.009-.595-.672-.892-1.591-.892-2.758v-.212c0-.72.132-1.36.396-1.92a3.02 3.02 0 0 1 1.138-1.306c.495-.31 1.08-.465 1.754-.465.83 0 1.519.248 2.068.745.549.497.842 1.142.878 1.934h-1.196c-.037-.478-.218-.871-.544-1.179-.325-.307-.728-.461-1.206-.461-.643 0-1.14.231-1.494.694-.353.462-.53 1.131-.53 2.006v.24c0 .852.176 1.508.527 1.968.35.46.852.69 1.504.69zm4.388.233c0-.219.065-.401.195-.547.13-.146.325-.219.585-.219.26 0 .457.073.591.219a.776.776 0 0 1 .202.547c0 .21-.068.385-.202.526-.134.142-.332.212-.591.212-.26 0-.455-.07-.585-.212a.748.748 0 0 1-.195-.526z" fill="#002A49"/>
    <path fill="#149DCB" d="M5.143 11.531l-.385.487.87 1.355-.09.627H9.23l.255-.627-1.484-1.842z"/>
    <path fill="#0EB399" d="M7.162 3.284l-1.335 2.33 6.514 7.682-.186.704h2.988l.542-2.499-6.971-8.22z"/>
    <path fill="#3DB664" d="M9.93 0L8.049 1.532l-.635 1.166H8.99l2.705 3.207 1.608-1.316v-.836l-.559-.781.413-.428z"/>
    <path fill="#17BDCB" d="M3.2 8.024h-.88L0 10.96V14h2.489l.438-.57 1.921-2.478h2.776l.855-1.304-3.01-3.562z"/>
  </g>
</svg>


          
          </td>
        </tr>
        <tr class="categories">
          <td>Categories</td>
          <td>
            <ul class="categories">
            
              
              <li><a href="/hub/#authentication">Authentication</a></li>
            
            </ul>
          </td>
        </tr>
        
        
        
        
          <tr class="kong-editions">
            <th colspan="2">
              
                Bundled with...
              
            </th>
          </tr>
          <tr class="kong-compatibility">
            <td colspan="2">
              <ul class="compat-list">
              
                
              
                
              
                
                  
                  <h6>Kong Enterprise</h6>
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.34-x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.33-x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.32-x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.31-x
                  </li>
                
              
              </ul><ul class="compat-list">
              
                
              
                
              
                
              
                
                  
                  <h6>Kong</h6>
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.14.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.13.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.12.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.11.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.10.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.9.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.8.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.7.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.6.x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.5.x
                  </li>
                
              
                
              
                
              
                
              
              </ul>
            </td>
          </tr>
        
        
          <tr>
            <th colspan="2">Other Versions</th>
          </tr>
          <tr>
            <td colspan="2">
              <ul class="extn-versions">
              
                
                  
                  <li>
                    <a href="/hub/kong-inc/jwt/">
                      1.0-x </a>
                      <em>(latest)</em>
                  </li>
                
              
                
              
              </ul>
            </td>
          </tr>
        
      </table>

    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content show-anchor-links">
          
      

      

      <p>Verify requests containing HS256 or RS256 signed JSON Web Tokens (as specified in <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>). Each of your Consumers will have JWT credentials (public and secret keys) which must be used to sign their JWTs. A token can then be passed through:</p>

<ul>
  <li>a query string parameter,</li>
  <li>a cookie,</li>
  <li>or the Authorization header.</li>
</ul>

<p>Kong will either proxy the request to your upstream services if the token’s signature is verified, or discard the request if not. Kong can also perform verifications on some of the registered claims of RFC 7519 (exp and nbf).</p>

<div class="alert alert-warning">
  <strong>Note:</strong> The functionality of this plugin as bundled
  with versions of Kong prior to 0.14.1 and Kong Enterprise prior to 0.34
  differs from what is documented herein. Refer to the
  <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md">CHANGELOG</a>
  for details.
</div>


      
        <hr>
        <h2 id="terminology">Terminology</h2>
        <ul>
          <li><code>plugin</code>: a plugin executing actions inside Kong before or after a request has been proxied to the upstream API.</li>

          
            <li><code>Service</code>: the Kong entity representing an external <em>upstream</em> API or microservice.</li>
          
          
            <li><code>Route</code>: the Kong entity representing a way to map downstream requests to upstream services.</li>
          
          
            <li><code>upstream service</code>: this refers to your own API/service sitting behind Kong, to which client requests are forwarded.</li>
          
          <li><code>API</code>: a legacy entity used to represent your upstream services. <strong>Deprecated</strong> in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</li>
          
        </ul>
      

      

      
        <h2 id="configuration">Configuration</h2>
        

        

        

        
          
<h3 id="enabling-the-plugin-on-a-service">Enabling the plugin on a Service</h3>

<p><strong>With a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/services/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt"</span> 
</code></pre></div></div>

<p><strong>Without a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
adding this section do your declarative configuration file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">jwt</span>
  <span class="na">service</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">service</span><span class="pi">}</span>
  <span class="na">config</span><span class="pi">:</span> 
</code></pre></div></div>

<p>In both cases, <code class="highlighter-rouge">{service}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Service that this plugin configuration will target.</p>


        
        
          
<h3 id="enabling-the-plugin-on-a-route">Enabling the plugin on a Route</h3>

<p><strong>With a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#Route-object">Route</a> with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/routes/<span class="o">{</span>route<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt"</span> 
</code></pre></div></div>

<p><strong>Without a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#route-object">Route</a> by
adding this section do your declarative configuration file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">jwt</span>
  <span class="na">route</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">route</span><span class="pi">}</span>
  <span class="na">config</span><span class="pi">:</span> 
</code></pre></div></div>

<p>In both cases, <code class="highlighter-rouge">{route}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Route that this plugin configuration will target.</p>


        
        
        
          
<h3 id="enabling-the-plugin-on-an-api">Enabling the plugin on an API</h3>

<p>If you are using an older version of Kong with the legacy <a href="/0.13.x/admin-api/#api-object">API
entity</a> (<strong>deprecated</strong> in favor of Services
since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">
CE 0.13.0</a> and
<a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.), you
can configure this plugin on top of such an API by making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt"</span> 
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">api</code>: either id or name of the API that this plugin configuration will
target.</li>
</ul>

        

        <h3 id="global-plugins">Global plugins</h3>

        <ul>
          <li><strong>Using a database</strong>, all plugins can be configured using the <code>http://kong:8001/plugins/</code> endpoint.</li>
          <li><strong>Without a database</strong>, all plugins can be configured via the <code>plugins:</code> entry on the declarative configuration file.</li>
        </ul>

        <p>A plugin which is not associated to any Service, Route or Consumer (or API, if you are using an older
        version of Kong) is considered "global", and will be run on every request.
        Read the <a href="/latest/admin-api/#add-plugin">Plugin Reference</a> and the
        <a href="/latest/admin-api/#precedence">Plugin Precedence</a> sections for more information.
        </p>

        <h3 id="parameters">Parameters</h3>

        <p>Here's a list of all the parameters which can be used in this plugin's configuration: </p>

        
<table>
  <thead>
    <tr><th>form parameter</th><th>description</th></tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td>The name of the plugin to use, in this case <code>jwt</code></td></tr>

    
      <tr><td><code>service_id</code></td><td>The id of the Service which this plugin will target.</td></tr>
    
    
      <tr><td><code>route_id</code></td><td>The id of the Route which this plugin will target.</td></tr>
    
      <tr><td><code>enabled</code><br /><br /><strong>default value: </strong><code>true</code></td><td>Whether this plugin will be applied.</td></tr>
    
    
    <tr><td><code>api_id</code></td><td>The id of the API which this plugin will target. <strong>Note:</strong> The <a href="/0.13.x/admin-api/#api-object">API Entity</a> is deprecated in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</td></tr>
    
    
      <tr>
        <td><code>config.uri_param_names</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p><code class="highlighter-rouge">jwt</code></p>

        </td>
        <td><p>A list of querystring parameters that Kong will inspect to retrieve JWTs.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.cookie_names</code>
          <br /><em>optional</em>
          
          
        </td>
        <td><p>A list of cookie names that Kong will inspect to retrieve JWTs.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.claims_to_verify</code>
          <br /><em>optional</em>
          
          
        </td>
        <td><p>A list of registered claims (according to <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>) that Kong can verify as well. Accepted values: <code class="highlighter-rouge">exp</code>, <code class="highlighter-rouge">nbf</code>.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.key_claim_name</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p><code class="highlighter-rouge">iss</code></p>

        </td>
        <td><p>The name of the claim in which the <code class="highlighter-rouge">key</code> identifying the secret <strong>must</strong> be passed. Starting with version <code class="highlighter-rouge">0.13.1</code>, the plugin will attempt to read this claim from the JWT payload and the header, in this order.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.secret_is_base64</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p><code class="highlighter-rouge">false</code></p>

        </td>
        <td><p>If true, the plugin assumes the credential’s <code class="highlighter-rouge">secret</code> to be base64 encoded. You will need to create a base64 encoded secret for your Consumer, and sign your JWT with the original secret.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.anonymous</code>
          <br /><em>optional</em>
          
          
        </td>
        <td><p>An optional string (consumer uuid) value to use as an “anonymous” consumer if authentication fails. If empty (default), the request will fail with an authentication failure <code class="highlighter-rouge">4xx</code>. Please note that this value must refer to the Consumer <code class="highlighter-rouge">id</code> attribute which is internal to Kong, and <strong>not</strong> its <code class="highlighter-rouge">custom_id</code>.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.run_on_preflight</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p><code class="highlighter-rouge">true</code></p>

        </td>
        <td><p>A boolean value that indicates whether the plugin should run (and try to authenticate) on <code class="highlighter-rouge">OPTIONS</code> preflight requests, if set to <code class="highlighter-rouge">false</code> then <code class="highlighter-rouge">OPTIONS</code> requests will always be allowed.</p>
</td>
      </tr>
    
      <tr>
        <td><code>config.maximum_expiration</code>
          <br /><em>optional</em>
          
          <br /><br /><strong>default value: </strong><p>0</p>

        </td>
        <td><p>An integer limiting the lifetime of the JWT to <code class="highlighter-rouge">maximum_expiration</code> seconds in the future. Any JWT that has a longer lifetime will rejected (HTTP 403). If this value is specified, <code class="highlighter-rouge">exp</code> must be specified as well in the <code class="highlighter-rouge">claims_to_verify</code> property. The default value of <code class="highlighter-rouge">0</code> represents an indefinite period. Potential clock skew should be considered when configuring this setting.</p>
</td>
      </tr>
    
  </tbody>
</table>


      

      <div class="alert alert-warning">
    <center>The option `config.run_on_preflight` is only available from version `0.11.1` and later</center>
</div>


      <h2 id="documentation">Documentation</h2>

<p>In order to use the plugin, you first need to create a Consumer and associate one or more JWT credentials (holding the public and private keys used to verify the token) to it. The Consumer represents a developer using the final service.</p>

<h3 id="create-a-consumer">Create a Consumer</h3>

<p>You need to associate a credential to an existing <a href="/latest/admin-api/#consumer-object">Consumer</a> object. To create a Consumer, you can execute the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/consumers <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"username=&lt;USERNAME&gt;"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"custom_id=&lt;CUSTOM_ID&gt;"</span>
HTTP/1.1 201 Created
</code></pre></div></div>

<table>
  <thead>
    <tr>
      <th>form parameter</th>
      <th>default</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">username</code><br /><em>semi-optional</em></td>
      <td> </td>
      <td>The username for this Consumer. Either this field or <code class="highlighter-rouge">custom_id</code> must be specified.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">custom_id</code><br /><em>semi-optional</em></td>
      <td> </td>
      <td>A custom identifier used to map the Consumer to an external database. Either this field or <code class="highlighter-rouge">username</code> must be specified.</td>
    </tr>
  </tbody>
</table>

<p>A <a href="/latest/admin-api/#consumer-object">Consumer</a> can have many JWT credentials.</p>

<h3 id="create-a-jwt-credential">Create a JWT credential</h3>

<p>You can provision a new HS256 JWT credential by issuing the following HTTP request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="nt">-H</span> <span class="s2">"Content-Type: application/x-www-form-urlencoded"</span>
HTTP/1.1 201 Created

<span class="o">{</span>
    <span class="s2">"consumer_id"</span>: <span class="s2">"7bce93e1-0a90-489c-c887-d385545f8f4b"</span>,
    <span class="s2">"created_at"</span>: 1442426001000,
    <span class="s2">"id"</span>: <span class="s2">"bcbfb45d-e391-42bf-c2ed-94e32946753a"</span>,
    <span class="s2">"key"</span>: <span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span>,
    <span class="s2">"secret"</span>: <span class="s2">"e71829c351aa4242c2719cbfbe671c09"</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">consumer</code>: The <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">username</code> property of the <a href="/latest/admin-api/#consumer-object">Consumer</a> entity to associate the credentials to.</li>
</ul>

<table>
  <thead>
    <tr>
      <th>form parameter</th>
      <th>default</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">key</code><br /><em>optional</em></td>
      <td> </td>
      <td>A unique string identifying the credential. If left out, it will be auto-generated.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">algorithm</code><br /><em>optional</em></td>
      <td><code class="highlighter-rouge">HS256</code></td>
      <td>The algorithm used to verify the token’s signature. Can be <code class="highlighter-rouge">HS256</code>, <code class="highlighter-rouge">HS384</code>, <code class="highlighter-rouge">HS512</code>, <code class="highlighter-rouge">RS256</code>, or <code class="highlighter-rouge">ES256</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">rsa_public_key</code><br /><em>optional</em></td>
      <td> </td>
      <td>If <code class="highlighter-rouge">algorithm</code> is <code class="highlighter-rouge">RS256</code> or <code class="highlighter-rouge">ES256</code>, the public key (in PEM format) to use to verify the token’s signature.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">secret</code><br /><em>optional</em></td>
      <td> </td>
      <td>If <code class="highlighter-rouge">algorithm</code> is <code class="highlighter-rouge">HS256</code> or <code class="highlighter-rouge">ES256</code>, the secret used to sign JWTs for this credential. If left out, will be auto-generated.</td>
    </tr>
  </tbody>
</table>

<h3 id="delete-a-jwt-credential">Delete a JWT credential</h3>

<p>You can remove a Consumer’s JWT credential by issuing the following HTTP
request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> DELETE http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt/<span class="o">{</span><span class="nb">id</span><span class="o">}</span>
HTTP/1.1 204 No Content
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">consumer</code>: The <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">username</code> property of the <a href="/latest/admin-api/#consumer-object">Consumer</a> entity to associate the credentials to.</li>
  <li><code class="highlighter-rouge">id</code>: The <code class="highlighter-rouge">id</code> of the JWT credential.</li>
</ul>

<h3 id="list-jwt-credentials">List JWT credentials</h3>

<p>You can list a Consumer’s JWT credentials by issuing the following HTTP
request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> GET http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt
HTTP/1.1 200 OK
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">consumer</code>: The <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">username</code> property of the
<a href="/latest/admin-api/#consumer-object">Consumer</a> entity to list credentials for.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"rsa_public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN PUBLIC KEY-----</span><span class="se">\n</span><span class="s2">MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgK .... -----END PUBLIC KEY-----"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"consumer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39f52333-9741-48a7-9450-495960d91684"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3239880d-1de5-4dbc-bccf-78f7a4280f33"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1491430568000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c5a55906cc244f483226e02bcff2b5e"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0970f7fc9564e65xklfn48930b5d08b1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="craft-a-jwt-with-a-secret-hs256">Craft a JWT with a secret (HS256)</h3>

<p>Now that your Consumer has a credential, and assuming we want to sign it using <code class="highlighter-rouge">HS256</code>, the JWT should be crafted as follows (according to <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>):</p>

<p>First, its header must be:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HS256"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Secondly, the claims <strong>must</strong> contain the secret’s <code class="highlighter-rouge">key</code> in the configured claim (from <code class="highlighter-rouge">config.key_claim_name</code>).
That claim is <code class="highlighter-rouge">iss</code> (issuer field) by default. Set its value to our previously created credential’s <code class="highlighter-rouge">key</code>.
The claims may contain other values. Since Kong <code class="highlighter-rouge">0.13.1</code>, the claim is searched in both the JWT payload and header,
in this order.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Using the JWT debugger at https://jwt.io with the header (HS256), claims (iss, etc), and <code class="highlighter-rouge">secret</code> associated with this <code class="highlighter-rouge">key</code> (e71829c351aa4242c2719cbfbe671c09), you’ll end up with a JWT token of:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4
</code></pre></div></div>

<h3 id="send-a-request-with-the-jwt">Send a request with the JWT</h3>

<p>The JWT can now be included in a request to Kong by adding it to the <code class="highlighter-rouge">Authorization</code> header:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s1">'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4'</span>
</code></pre></div></div>

<p>as a querystring parameter, if configured in <code class="highlighter-rouge">config.uri_param_names</code> (which contains <code class="highlighter-rouge">jwt</code> by default):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span>?jwt<span class="o">=</span>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4
</code></pre></div></div>

<p>or as cookie, if the name is configured in <code class="highlighter-rouge">config.cookie_names</code> (which is not enabled by default):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">--cookie</span> <span class="nv">jwt</span><span class="o">=</span>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhMzZjMzA0OWIzNjI0OWEzYzlmODg5MWNiMTI3MjQzYyIsImV4cCI6MTQ0MjQzMDA1NCwibmJmIjoxNDQyNDI2NDU0LCJpYXQiOjE0NDI0MjY0NTR9.AhumfY35GFLuEEjrOXiaADo7Ae6gt_8VLwX7qffhQN4 http://kong:8000/<span class="o">{</span>route path<span class="o">}</span>
</code></pre></div></div>

<p>The request will be inspected by Kong, whose behavior depends on the validity of the JWT:</p>

<table>
  <thead>
    <tr>
      <th>request</th>
      <th>proxied to upstream service</th>
      <th>response status code</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>has no JWT</td>
      <td>no</td>
      <td>401</td>
    </tr>
    <tr>
      <td>missing or invalid <code class="highlighter-rouge">iss</code> claim</td>
      <td>no</td>
      <td>401</td>
    </tr>
    <tr>
      <td>invalid signature</td>
      <td>no</td>
      <td>403</td>
    </tr>
    <tr>
      <td>valid signature</td>
      <td>yes</td>
      <td>from the upstream service</td>
    </tr>
    <tr>
      <td>valid signature, invalid verified claim (<strong>option</strong>)</td>
      <td>no</td>
      <td>403</td>
    </tr>
  </tbody>
</table>

<div class="alert alert-warning">
  <strong>Note:</strong> When the JWT is valid and proxied to the upstream service, Kong makes no modification to the request other than adding headers identifying the Consumer. The JWT will be forwarded to your upstream service, which can assume its validity. It is now the role of your service to base64 decode the JWT claims and make use of them.
</div>

<h3 id="optional-verified-claims">(Optional) Verified claims</h3>

<p>Kong can also perform verification on registered claims, as defined in <a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>. To perform verification on a claim, add it to the <code class="highlighter-rouge">config.claims_to_verify</code> property:</p>

<p>You can patch an existing jwt plugin:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># This adds verification for both nbf and exp claims:</span>
<span class="nv">$ </span>curl <span class="nt">-X</span> PATCH http://kong:8001/plugins/<span class="o">{</span>jwt plugin <span class="nb">id</span><span class="o">}</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"config.claims_to_verify=exp,nbf"</span>
</code></pre></div></div>

<p>Supported claims:</p>

<table>
  <thead>
    <tr>
      <th>claim name</th>
      <th>verification</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">exp</code></td>
      <td>identifies the expiration time on or after which the JWT must not be accepted for processing.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">nbf</code></td>
      <td>identifies the time before which the JWT must not be accepted for processing.</td>
    </tr>
  </tbody>
</table>

<h3 id="optional-base64-encoded-secret">(Optional) Base64 encoded secret</h3>

<p>If your secret contains binary data, you can store them as base64 encoded in Kong. Enable this option in the plugin’s configuration:</p>

<p>You can patch an existing Route:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> PATCH http://kong:8001/routes/<span class="o">{</span>route <span class="nb">id</span><span class="o">}</span>/plugins/<span class="o">{</span>jwt plugin <span class="nb">id</span><span class="o">}</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"config.secret_is_base64=true"</span>
</code></pre></div></div>

<p>or patch an existing API:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> PATCH http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins/<span class="o">{</span>jwt plugin <span class="nb">id</span><span class="o">}</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"config.secret_is_base64=true"</span>
</code></pre></div></div>
<p>Then, base64 encode your consumers’ secrets:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># secret is: "blob data"</span>
<span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
  <span class="nt">--data</span> <span class="s2">"secret=YmxvYiBkYXRh"</span>
</code></pre></div></div>

<p>And sign your JWT using the original secret (“blob data”).</p>

<h3 id="craft-a-jwt-with-publicprivate-keys-rs256-or-es256">Craft a JWT with public/private keys (RS256 or ES256)</h3>

<p>If you wish to use RS256 or ES256 to verify your JWTs, then when creating a JWT credential, select <code class="highlighter-rouge">RS256</code> or <code class="highlighter-rouge">ES256</code> as the <code class="highlighter-rouge">algorithm</code>, and explicitly upload the public key in the <code class="highlighter-rouge">rsa_public_key</code> field (including for ES256 signed tokens). For example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
      <span class="nt">-F</span> <span class="s2">"rsa_public_key=@/path/to/public_key.pem"</span> <span class="se">\</span>
HTTP/1.1 201 Created

<span class="o">{</span>
    <span class="s2">"consumer_id"</span>: <span class="s2">"7bce93e1-0a90-489c-c887-d385545f8f4b"</span>,
    <span class="s2">"created_at"</span>: 1442426001000,
    <span class="s2">"id"</span>: <span class="s2">"bcbfb45d-e391-42bf-c2ed-94e32946753a"</span>,
    <span class="s2">"key"</span>: <span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span>,
    <span class="s2">"rsa_public_key"</span>: <span class="s2">"-----BEGIN PUBLIC KEY----- ..."</span>
<span class="o">}</span>
</code></pre></div></div>

<p>When creating the signature, make sure that the header is:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"typ"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JWT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Secondly, the claims <strong>must</strong> contain the secret’s <code class="highlighter-rouge">key</code> field (this <strong>isn’t</strong> your private key used to generate
the token, but just an identifier for this credential) in the configured claim (from <code class="highlighter-rouge">config.key_claim_name</code>).
That claim is <code class="highlighter-rouge">iss</code> (issuer field) by default. Set its value to our previously created credential’s <code class="highlighter-rouge">key</code>.
The claims may contain other values. Since Kong <code class="highlighter-rouge">0.13.1</code>, the claim is searched in both the JWT payload and header,
in this order.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a36c3049b36249a3c9f8891cb127243c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Then create the signature using your private keys. Using the JWT debugger at https://jwt.io, set the right header (RS256), the claims (iss, etc), and the associated public key. Then append the resulting value in the <code class="highlighter-rouge">Authorization</code> header, for example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl http://kong:8000/<span class="o">{</span>route path<span class="o">}</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s1">'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiIxM2Q1ODE0NTcyZTc0YTIyYjFhOWEwMDJmMmQxN2MzNyJ9.uNPTnDZXVShFYUSiii78Q-IAfhnc2ExjarZr_WVhGrHHBLweOBJxGJlAKZQEKE4rVd7D6hCtWSkvAAOu7BU34OnlxtQqB8ArGX58xhpIqHtFUkj882JQ9QD6_v2S2Ad-EmEx5402ge71VWEJ0-jyH2WvfxZ_pD90n5AG5rAbYNAIlm2Ew78q4w4GVSivpletUhcv31-U3GROsa7dl8rYMqx6gyo9oIIDcGoMh3bu8su5kQc5SQBFp1CcA5H8sHGfYs-Et5rCU2A6yKbyXtpHrd1Y9oMrZpEfQdgpLae0AfWRf6JutA9SPhst9-5rn4o3cdUmto_TBGqHsFmVyob8VQ'</span>
</code></pre></div></div>

<h3 id="generate-publicprivate-keys">Generate public/private keys</h3>

<p>To create a brand new pair of public/private keys, you can run the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>openssl genrsa <span class="nt">-out</span> private.pem 2048
</code></pre></div></div>

<p>This private key must be kept secret. To generate a public key corresponding to the private key, execute:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>openssl rsa <span class="nt">-in</span> private.pem <span class="nt">-outform</span> PEM <span class="nt">-pubout</span> <span class="nt">-out</span> public.pem
</code></pre></div></div>

<p>If you run the commands above, the public key will be written in <code class="highlighter-rouge">public.pem</code>, while the private key will be written in <code class="highlighter-rouge">private.pem</code>.</p>

<h3 id="using-the-jwt-plugin-with-auth0">Using the JWT plugin with Auth0</h3>

<p><a href="https://auth0.com/">Auth0</a> is a popular solution for Authorization, and relies
heavily on JWTs. Auth0 relies on RS256, does not base64 encode, and publicly
hosts the public key certificate used to sign tokens. Account name is referred
to “COMPANYNAME” for the sake of the guide.</p>

<p>To get started, create a Service, a Route that uses that Service, <em>or</em> create
an API. <em>Note: Auth0 does not use base64 encoded secrets.</em></p>

<p>Create a Service:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-f</span> <span class="nt">-X</span> POST http://localhost:8001/services <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=example-service"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"=http://httpbin.org"</span>
</code></pre></div></div>

<p>Then create a Route:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-f</span> <span class="nt">-X</span> POST http://localhost:8001/routes <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"service.id={example-service's id}"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"paths[]=/example_path"</span>
</code></pre></div></div>

<p>or create an API, note these are depreciated:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-X</span> POST http://localhost:8001/apis <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name={api}"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"hosts=example.com"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"upstream_url=http://httpbin.org"</span>
</code></pre></div></div>

<p>Add the JWT Plugin:</p>

<p>Add the plugin to your Route:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://localhost:8001/route/<span class="o">{</span>route <span class="nb">id</span><span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt"</span>
</code></pre></div></div>

<p>Add the plugin to your API:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://localhost:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt"</span>
</code></pre></div></div>

<p>Download your Auth0 account’s X509 Certificate:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-o</span> <span class="o">{</span>COMPANYNAME<span class="o">}</span>.pem https://<span class="o">{</span>COMPANYNAME<span class="o">}</span>.auth0.com/pem
</code></pre></div></div>

<p>Extract the public key from the X509 Certificate:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>openssl x509 <span class="nt">-pubkey</span> <span class="nt">-noout</span> <span class="nt">-in</span> <span class="o">{</span>COMPANYNAME<span class="o">}</span>.pem <span class="o">&gt;</span> pubkey.pem
</code></pre></div></div>

<p>Create a Consumer with the Auth0 public key:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-X</span> POST http://kong:8001/consumers <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"username=&lt;USERNAME&gt;"</span> <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"custom_id=&lt;CUSTOM_ID&gt;"</span>

<span class="nv">$ </span>curl <span class="nt">-i</span> <span class="nt">-X</span> POST http://localhost:8001/consumers/<span class="o">{</span>consumer<span class="o">}</span>/jwt <span class="se">\</span>
    <span class="nt">-F</span> <span class="s2">"algorithm=RS256"</span> <span class="se">\</span>
    <span class="nt">-F</span> <span class="s2">"rsa_public_key=@./pubkey.pem"</span> <span class="se">\</span>
    <span class="nt">-F</span> <span class="s2">"key=https://{COMPAYNAME}.auth0.com/"</span> <span class="c"># the `iss` field</span>
</code></pre></div></div>

<p>The JWT plugin by default validates the <code class="highlighter-rouge">key_claim_name</code> against the <code class="highlighter-rouge">iss</code>
field in the token. Keys issued by Auth0 have their <code class="highlighter-rouge">iss</code> field set to
<code class="highlighter-rouge">http://{COMPANYNAME}.auth0.com/</code>. You can use <a href="https://jwt.io">jwt.io</a> to
validate the <code class="highlighter-rouge">iss</code> field for the <code class="highlighter-rouge">key</code> parameter when creating the
Consumer.</p>

<p>Send requests through, only tokens signed by Auth0 will work:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-i</span> http://localhost:8000 <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Host:example.com"</span> <span class="se">\</span>
    <span class="nt">-H</span> <span class="s2">"Authorization:Bearer "</span>
</code></pre></div></div>

<p>Success!</p>

<h3 id="upstream-headers">Upstream Headers</h3>

<p>When a JWT is valid, a Consumer has been authenticated, the plugin will append some headers to the request before proxying it to the upstream service, so that you can identify the Consumer in your code:</p>

<ul>
  <li><code class="highlighter-rouge">X-Consumer-ID</code>, the ID of the Consumer on Kong</li>
  <li><code class="highlighter-rouge">X-Consumer-Custom-ID</code>, the <code class="highlighter-rouge">custom_id</code> of the Consumer (if set)</li>
  <li><code class="highlighter-rouge">X-Consumer-Username</code>, the <code class="highlighter-rouge">username</code> of the Consumer (if set)</li>
  <li><code class="highlighter-rouge">X-Anonymous-Consumer</code>, will be set to <code class="highlighter-rouge">true</code> when authentication failed, and the ‘anonymous’ consumer was set instead.</li>
</ul>

<p>You can use this information on your side to implement additional logic. You can use the <code class="highlighter-rouge">X-Consumer-ID</code> value to query the Kong Admin API and retrieve more information about the Consumer.</p>

<h3 id="paginate-through-the-jwts">Paginate through the JWTs</h3>

<div class="alert alert-warning">
  <strong>Note:</strong> This endpoint was introduced in Kong 0.11.2.
</div>

<p>You can paginate through the JWTs for all Consumers using the following
request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> GET http://kong:8001/jwts

<span class="o">{</span>
    <span class="s2">"total"</span>: 3,
    <span class="s2">"data"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1509593911000,
            <span class="s2">"id"</span>: <span class="s2">"381879e5-04a1-4c8a-9517-f85fbf90c3bc"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"HS256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"UHVwIly5ZxZH7g52E0HRlFkFC09v9yI0"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"KMWyDsTTcZgqqyOGgRWTDgZtIyWeEtJh"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"3c2c8fc1-7245-4fbb-b48b-e5947e1ce941"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1511389527000,
            <span class="s2">"id"</span>: <span class="s2">"0dfc969b-02be-42ae-9d98-e04ed1c05850"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"ES256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"vcc1NlsPfK3N6uU03YdNrDZhzmFF4S19"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"b65Rs6wvnWPYaCEypNU7FnMOZ4lfMGM7"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"c0d92ba9-8306-482a-b60d-0cfdd2f0e880"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"created_at"</span>: 1509593912000,
            <span class="s2">"id"</span>: <span class="s2">"d10c6f3b-71f1-424e-b1db-366abb783460"</span>,
            <span class="s2">"algorithm"</span>: <span class="s2">"HS256"</span>,
            <span class="s2">"key"</span>: <span class="s2">"SqSNfg9ARmPnpycyJSMAc2uR6nxdmc9S"</span>,
            <span class="s2">"secret"</span>: <span class="s2">"CCh6ZIcwDSOIWacqkkWoJ0FWdZ5eTqrx"</span>,
            <span class="s2">"consumer_id"</span>: <span class="s2">"3c2c8fc1-7245-4fbb-b48b-e5947e1ce941"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<p>You can filter the list using the following query parameters:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">id</code><br /><em>optional</em></td>
      <td>A filter on the list based on the JWT credential <code class="highlighter-rouge">id</code> field.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">key</code><br /><em>optional</em></td>
      <td>A filter on the list based on the JWT credential <code class="highlighter-rouge">key</code> field.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer_id</code><br /><em>optional</em></td>
      <td>A filter on the list based on the JWT credential <code class="highlighter-rouge">consumer_id</code> field.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">size</code><br /><em>optional, default is <strong>100</strong></em></td>
      <td>A limit on the number of objects to be returned.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">offset</code><br /><em>optional</em></td>
      <td>A cursor used for pagination. <code class="highlighter-rouge">offset</code> is an object identifier that defines a place in the list.</td>
    </tr>
  </tbody>
</table>

<h3 id="retrieve-the-consumer-associated-with-a-jwt">Retrieve the Consumer associated with a JWT</h3>

<div class="alert alert-warning">
  <strong>Note:</strong> This endpoint was introduced in Kong 0.11.2.
</div>

<p>It is possible to retrieve a <a href="/latest/admin-api/#consumer-object">Consumer</a> associated with a JWT
using the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> GET http://kong:8001/jwts/<span class="o">{</span>key or <span class="nb">id</span><span class="o">}</span>/consumer

<span class="o">{</span>
   <span class="s2">"created_at"</span>:1507936639000,
   <span class="s2">"username"</span>:<span class="s2">"foo"</span>,
   <span class="s2">"id"</span>:<span class="s2">"c0d92ba9-8306-482a-b60d-0cfdd2f0e880"</span>
<span class="o">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">key or id</code>: The <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">key</code> property of the JWT for which to get the
associated <a href="/latest/admin-api/#consumer-object">Consumer</a>.</p>



      

      
    
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <script>
/* eslint-disable */
  window.intercomSettings = {
    app_id: "gwoi3d8y"
  };
</script>

<script>
/* eslint-disable */
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/gwoi3d8y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>
 -->


    
<footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
            <iframe src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c" width="100%" height="60" type="text/html" frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </div>
        <div class="social">

          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
              aria-label="Meetup"
              class="fa fa-meetup"
              aria-hidden="true"
            ></i
          ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://github.com/kong/kong" target="blank" class="btn-gh">
              <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i> Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li><a href="http://konghq.com/kong/">Kong</a></li>
            <li><a href="http://konghq.com/kong-enterprise/">Kong Enterprise</a></li>
            <li><a href="http://konghq.com/cloud/">Kong Cloud</a></li>
            <li><a href="http://konghq.com/subscriptions/">Subscriptions</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a href="https://support.konghq.com" target="blank"
                >Enterprise Support</a
              >
            </li>
            <li>
              <a href="https://docs.konghq.com">Documentation</a>
            </li>
            <li><a href="http://konghq.com/partners/">Partners</a></li>
            <li><a href="http://konghq.com/webinars/">Webinars</a></li>
            <li><a href="http://konghq.com/ebooks/">Ebooks</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li><a href="http://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="http://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">News</a></li>
            <li>
              <a href="http://konghq.com/careers/">Careers <span>Hiring!</span></a>
            </li>
            <li><a href="http://konghq.com/kong-summit/">Kong Summit</a></li>
            <li><a href="http://konghq.com/contact/">Contact</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li><a href="http://konghq.com/install/">Install</a></li>
            <li><a target="blank" href="https://github.com/Kong/">GitHub</a></li>
            <li><a href="https://discuss.konghq.com/"">Kong Nation</a></li>
            <li><a href="http://konghq.com/community/">Community</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2019 &nbsp; <a href="http://konghq.com/terms/">Terms</a><b>•</b><a href="http://konghq.com/privacy/">Privacy</a></span>
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById('subscription_form').submit();
      document.getElementById('follow_up_subscription_form').submit();
      if (response.length == 0) {
        alert('reCaptcha verification failed');
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1565229681"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
      });

      function closeMenu(e) {
        var target = e.target; // Get target
        var menu = $('nav#pagesNav'); // Get menu container
        var header = $('header.navbar'); // Get header
        var toggler = $('.navbar-toggler'); // Get menu toggle btn

        // if clicked target is not the menu container/decendent of menu container, toggler or header close
        if (
          !menu.has(target).length > 0 &&
          !menu.is(target) &&
          !header.is(e.target) &&
          !toggler.is(e.target)
        ) {
          $('#pagesNav').removeClass('kong-navbar-collapse--expand');
          $('button[data-toggle="kong-expand"]').removeClass('active');
        }
      }

      // Close mobile menu when clicked outside
      $(window).on('click', function(e) {
        closeMenu(e);
      });

      // Close mobile menu on esc click
      $(document).keyup(function(e) {
        if (e.keyCode == 27) {
          closeMenu(e);
        }
      });

      // Offscreen Subnav Triggers

      jQuery('.trigger').click(function() {
        jQuery(this)
          .next()
          .addClass('active');
        jQuery('.trigger, .remove').addClass('active');
        jQuery('.kong-navbar-collapse_section').addClass('shift');
      });
      jQuery('.back').click(function() {
        jQuery('.kong-navbar-collapse_section').removeClass('shift');
        jQuery('.subnav, .trigger, .remove').removeClass('active');
      });
    </script>
    <script>
      // trigger overlay on nav hover
      jQuery('.kong-navbar-dropdown').hover(
        function(e) {
          jQuery('.overlay').addClass('active');
        }, // over
        function(e) {
          jQuery('.overlay').removeClass('active');
        } // out
      );
      jQuery(window).load(function() {
        jQuery('#oss_subnav').addClass('expand');
      });
      jQuery(window).scroll(function() {
        var scroll = jQuery(window).scrollTop();

        if (scroll >= 5) {
          jQuery('#oss_subnav').addClass('collapsed');
        } else {
          jQuery('#oss_subnav').removeClass('collapsed');
        }
      });
    </script>
  </body>

  
</html>
