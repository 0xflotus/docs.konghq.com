<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Kong JWT Signer plugin | Kong</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1565039645"
  />
  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id="/hub/kong-inc/jwt-signer/index"
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top">
  <div class="container d-flex">
    <nav id="fullNav" class="col justify-content-md-end kong-navbar_nav">
      <ul class="navbar-nav left">
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Products</a>
          <div class="list-group products">
            <div class="list-group-item flex-row flex-nowrap mega row">
                <div class="kong-navbar-dropdown_column col-md-4 offerings">
                    <h5 class="list-group-item-action">Offerings</h5>
                    <a href="http://konghq.com/kong/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong.svg" alt="Kong">
                      <div>Kong
                        <p class="mb-1 mini">The blazingly fast open source microservices API gateway.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/kong-enterprise/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-enterprise.svg" alt="Kong Enterprise">
                      <div>Kong Enterprise
                      <p class="mb-1 mini">The next-generation API platform built on top of Kong.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/cloud" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-cloud.svg" alt="Kong Cloud">
                      <div>Kong Cloud
                      <p class="mb-1 mini">Kong Enterprise innovation delivered at cloud speed.</p>
                      </div>
                    </a>
                  </div>
              <div class="kong-navbar-dropdown_column col-md-8 dark">
                <h5 class="list-group-item-action">Service Control Platform</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/products/service-control-platform" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-overview.svg" alt="Overview">
                      <div>Platform Overview
                      <p class="mb-1 mini">End-to-end control of information exchange for hybrid and multi-cloud organizations.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-manager" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Kong Manager">
                      <div>Kong Manager
                      <p class="mb-1 mini">Elegant visual interface for monitoring and managing Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/api-dev-portal" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Dev Portal">
                      <div>Kong Dev Portal
                      <p class="mb-1 mini">Single source of truth for a unified developer experience.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-vitals" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-vitals.svg" alt="Kong Vitals">
                      <div>Kong Vitals
                      <p class="mb-1 mini">Granular analytics to understand the health of Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-brain" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-brain.svg" alt="Kong Brain">
                      <div>Kong Brain
                      <p class="mb-1 mini">Intelligent automation to streamline service development and management.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-immunity" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-immunity.svg" alt="Kong Immunity">
                      <div>Kong Immunity
                      <p class="mb-1 mini">Advanced traffic anomaly detection to identify issues and threats.</p>
                      </div>
                    </a>
                  </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Solutions</a>
          <div class="list-group solutions">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="http://konghq.com/solutions/gateway" target="blank" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-apigateway.svg" alt="API Gateway">
            <div>
            API Gateway
            <p>Take control of your microservices traffic with the world's most popular API gateway.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/kubernetes-ingress" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-kubernetes.svg" alt="Kubernetes Ingress">
            <div>
            Kubernetes Ingress
            <p>Own your Kubernetes cluster by extending Kong functionality as an ingress controller.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/service-mesh/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-service-mesh.svg" alt="Service Mesh">
            <div>Service Mesh
            <p>Inject Kong as a sidecar for your services to go from mess to mesh.<br><br></p>
            </div>
            </a>
            </div>
          </div>
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item">
          <a href="https://docs.konghq.com/hub" class="nav-link">Hub</a>
        </li>
    </ul>
    <a href="http://konghq.com/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/Kogo-gradient.svg" alt="Kong">
    </a>
    <ul class="navbar-nav right">
      <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small left-trigger"><a class="nav-link">Docs</a>
          <div class="list-group docs">
          <div class="list-group-item flex-row flex-wrap">
          <div class="kong-navbar-dropdown_column col-md-6">
            <h5 class="list-group-item-action">Get Started</h5>
            <div class="list-item">
            <a href="https://konghq.com/install" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-install.svg" alt="Install">
              <div>Install
              <p>Get started with Kong now.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
                <a href="https://docs.konghq.com" class="list-group-item list-group-item-action">
                  <img src="/assets/images/nav/icn-getting-started.svg" alt="Docs">
                  <div>Kong Docs + Getting Started
                  <p>Use the 5-minute quickstart and installation guide to deploy Kong now.</p>
                  </div>
                </a>
              </div>
          </div>
          <div class="kong-navbar-dropdown_column col-md-6 dark">
              <h5 class="list-group-item-action">Learn</h5>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Deploy Kong Enterprise
            <p>Use the quickstart and reference materials to launch Kong Enterprise today.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Master Kong Vitals
            <p>Learn how to implement Vitals and optimize it for your deployment.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Launch your Dev Portal
            <p>Learn how to create and manage your Kong Dev Portal.<br><br></p>
              </div>
            </a>
            </div>
          </div>
          </div>
          </div>
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Resources</a>
          <div class="list-group resources">
            <div class="list-group-item flex-row flex-nowrap mega row">
              <div class="kong-navbar-dropdown_column col-md-3 learn">
                <h5 class="list-group-item-action">Downloads</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/blog" class="list-group-item-action"><img src="/assets/images/nav/icn-blog-16.svg" alt="blog">Blog</a>
                    <a href="http://konghq.com/ebooks" class="list-group-item-action"><img src="/assets/images/nav/icn-ebooks.svg" alt="ebooks">Ebooks</a>
                    <a href="http://konghq.com/webinars" class="list-group-item-action"><img src="/assets/images/nav/icn-webinars.svg" alt="webinars">Webinars</a>
                    <a href="http://konghq.com/briefs" class="list-group-item-action"><img src="/assets/images/nav/icn-briefs.svg" alt="briefs">Briefs</a>
                  </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-3">
                  <h5 class="list-group-item-action">Community</h5>
                  <div class="inner-wrap">
                  <a href="https://discuss.konghq.com/" class="list-group-item-action"><img src="/assets/images/nav/icn-kongnation-md.svg" alt="Kong Nation">Kong Nation</a>
                  <a href="https://github.com/Kong/" class="list-group-item-action"><img src="/assets/images/nav/icn-github-md.svg" alt="GitHub">GitHub</a>
                  <a href="http://konghq.com/community" class="list-group-item-action"><img src="/assets/images/nav/icn-meetups-md.svg" alt="meetups">Meetups</a>
                  <a href="http://konghq.com/kong-summit" class="list-group-item-action"><img src="/assets/images/nav/icn-summit.svg" alt="Kong Summit">Kong Summit</a>
                  </div>
                </div>
              <div class="kong-navbar-dropdown_column col-md-6">
                  <h5 class="list-group-item-action">Support</h5>
                  <div class="inner-wrap">
                  <a href="https://support.konghq.com" class="list-group-item-action"><img src="/assets/images/nav/icn-support.svg" alt="support">Enterprise Support Portal</a>
                  <a href="http://konghq.com/faqs/" class="list-group-item-action"><img src="/assets/images/nav/icn-faqs.svg" alt="faqs">FAQs</a>
                  </div>
                </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Company</a>
          <div class="list-group company">
          <div class="list-group-item flex-row flex-wrap">
            <div class="list-item icon">
            <a href="http://konghq.com/about-kong-inc" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-about.svg" alt="about"><span>About</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/investors" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-investors.svg" alt="investors"><span>Investors</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/careers" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-careers.svg" alt="careers"><span>Careers</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/partners" class="list-group-item list-group-item-action"><img class="partners" src="/assets/images/nav/icn-partners.svg" alt="partners"><span>Partners</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/press-room/" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-press.svg" alt="press"><span>Press</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/contact" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-contact.svg" alt="contact"><span>Contact</span></a>
            </div>
          </div>
          </div>
        </li>
        <li class="kong-navbar_nav_link kong-navbar_nav_link--cta"><a class="nav-link btn btn-outline-secondary transparent" href="http://konghq.com/install">Install Kong</a></li>
      </ul>
    </nav>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
  </div>
  <nav id="oss_subnav" class="preheader expand">
    <ul id="oss_nav">
      <li class="label"><h4>Open Source</h4></li>
      <li class="slider_line""><a href="https://konghq.com/community/">Community</a></li>
      <li class="kubernetes slider_line"><a href="https://konghq.com/solutions/kubernetes-ingress/">Kubernetes</a></li>
      <li class="install slider_line"><a href="https://konghq.com/install/">Install Kong
        <svg width="12px" height="12px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">
          <path fill="#004B80" class="st0" d="M12,10v2H0v-2H12z"></path>
          <g id="arrow">
            <polygon fill="#004B80" class="st1" points="7,5.6 8.3,4.3 9.7,5.7 6,9.4 2.3,5.7 3.7,4.3 5,5.6 5,0 7,0 	"></polygon>
          </g>
          </svg>
      </a></li>
    </ul>
    <span id="slide-line"></span>
  </nav>
</header>
<!---- Mobile Navigation ----->
<nav id="pagesNav" class="fixed-top hidden-xl-up kong-navbar-collapse">
<div class="btnwrap">
      <a class="btn" href="http://konghq.com/request-demo">Request Demo</a>
      <a href="http://konghq.com/install" class="btn btn-primary">Install</a>
    </div>
  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-left">
    <h5 class="col-12 trigger">
      <a class="nav-link">Products &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Products</a></h5>

      <div class="col-md-6">
          <h6>Offerings</h6>
          <div class="row">
            <div class="col-4">
              <a class="nav-link" href="http://konghq.com/kong/">Kong</a>
              <a class="nav-link" href="http://konghq.com/kong-enterprise/">Kong Enterprise</a>
              <a class="nav-link" href="http://konghq.com/cloud">Kong Cloud</a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <h6>Service Control Platform</h6>
          <a class="nav-link" href="http://konghq.com/products/service-control-platform">Platform Overview</a>
          <a class="nav-link" href="http://konghq.com/products/kong-manager">Kong Manager</a>
          <a class="nav-link" href="http://konghq.com/api-dev-portal">Kong Dev Portal</a>
          <a class="nav-link" href="http://konghq.com/products/kong-vitals">Kong Vitals</a>
          <a class="nav-link" href="http://konghq.com/products/kong-brain">Kong Brain</a>
          <a class="nav-link" href="http://konghq.com/products/kong-immunity">Kong Immunity</a>
        </div>


    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="trigger">
      <a class="nav-link">Solutions &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Solutions</a></h5>
      <div class="col-md-6">
              <a class="nav-link" href="http://konghq.com/solutions/gateway/">API Gateway</a>
              <a class="nav-link" href="http://konghq.com/solutions/kubernetes-ingress/">Kubernetes Ingress</a>
              <a class="nav-link" href="http://konghq.com/solutions/service-mesh/">Service Mesh</a>
      </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="remove">
      <a class="nav-link" href="https://docs.konghq.com/hub">Hub</a>
    </h5>
  </div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Docs &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Docs</a></h5>
      <div class="col-md-6">
          <h6>Get Started</h6>
          <a class="nav-link" href="https://konghq.com/install/">Install</a>
          <a class="nav-link" href="https://docs.konghq.com/">Kong Docs + Getting Started</a>
      </div>
      <div class="col-md-6">
      <h6>Learn</h6>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/">Deploy Kong Enterprise</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/">Master Kong Vitals</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/">Launch Your Dev Portal</a>
      </div>
    </div>
  </div>


  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-right">
    <h5 class="col-12 trigger">
      <a class="nav-link">Resources &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Resources</a></h5>
      <div class="col-md-6">
          <h6 class="shot-top">Downloads</h6>
          <a class="nav-link" href="http://konghq.com/blog">Blog</a>
          <a class="nav-link" href="http://konghq.com/ebooks">Ebooks</a>
          <a class="nav-link" href="http://konghq.com/webinars">Webinars</a>
          <a class="nav-link" href="http://konghq.com/briefs">Briefs</a>
        </div>
      <div class="col-md-6">
          <h6>Community</h6>
          <a class="nav-link" href="https://discuss.konghq.com/">Kong Nation</a>
          <a class="nav-link" href="https://github.com/Kong/">GitHub</a>
          <a class="nav-link" href="http://konghq.com/community/">Meetups</a>
          <a class="nav-link" href="http://konghq.com/kong-summit/">Kong Summit</a>
        </div>
        <div class="col-md-6">
          <h6>Support</h6>
          <a class="nav-link" href="https://support.konghq.com">Enterprise Support Portal</a>
          <a class="nav-link" href="http://konghq.com/faqs/">FAQs</a>
        </div>
  </div>

</div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Company &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
      <div class="subnav">
        <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Company</a></h5>
        <div class="col-md-6">
          <a class="nav-link" href="http://konghq.com/about-kong-inc">About</a>
          <a class="nav-link" href="http://konghq.com/investors">Investors</a>
          <a class="nav-link" href="/careers">Careers</a>
          <a class="nav-link" href="http://konghq.com/partners">Partners</a>
          <a class="nav-link" href="http://konghq.com/press-room/">Press</a>
          <a class="nav-link" href="http://konghq.com/contact">Contact</a>
        </div>
      </div>
  </div>
  <div class="hidden-md-up kong-navbar-collapse_section kong-navbar-collapse_section--buttons">
  </div>
</nav>
</header>
<div class="overlay"></div>


    















<!-- BEGIN PAGE OUTPUT -->

<div class="page page-extension-profile">
  
    


  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/hub/kong-inc_jwt-signer.png" alt="header icon"/>
        </div>
      

      <div class="page-header-title">
        

        <h1>Kong JWT Signer</h1>

        
      </div>

      

      
    </div>
  </header>


  

  <div class="container">

    
      <div class="versions-dropdown dropdown page-header-right">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
          Plugin Version 0.36-x
          <em>(latest)</em>
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
            
            <li  class="active" >
              <a href="/hub/kong-inc/jwt-signer/">
                0.36-x <em>(latest)</em>
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/jwt-signer/0.35-x.html">
                0.35-x 
              </a>
            </li>
          
        </ul>
      </div>
    

    

    <aside class="page-navigation">
      <span class="close-sidebar">Close Sidebar</span>
      
        <nav>
          <ul>
  <li><a href="#terminology">Terminology</a></li>
  <li><a href="#configuration">Configuration</a>
    <ul>
      <li><a href="#enabling-the-plugin-on-a-service">Enabling the plugin on a Service</a></li>
      <li><a href="#enabling-the-plugin-on-a-route">Enabling the plugin on a Route</a></li>
      <li><a href="#enabling-the-plugin-on-an-api">Enabling the plugin on an API</a></li>
      <li><a href="#global-plugins">Global plugins</a></li>
      <li><a href="#parameters">Parameters</a></li>
    </ul>
  </li>
  <li><a href="#contents">Contents</a></li>
  <li><a href="#plugin-configuration">Plugin Configuration</a></li>
  <li><a href="#plugin-configuration-parameters">Plugin Configuration Parameters</a>
    <ul>
      <li><a href="#description-of-plugin-configuration-parameters">Description of Plugin Configuration Parameters</a></li>
      <li><a href="#default-plugin-configuration-values">Default Plugin Configuration Values</a></li>
    </ul>
  </li>
  <li><a href="#note-about-signing-key-management">Note About Signing Key Management</a></li>
  <li><a href="#note-about-consumer-mapping">Note About Consumer Mapping</a></li>
  <li><a href="#kong-admin-api-endpoints">Kong Admin API Endpoints</a>
    <ul>
      <li><a href="#cached-jwks-admin-api-endpoint">Cached JWKS Admin API Endpoint</a></li>
      <li><a href="#cached-jwks-admin-api-endpoint-for-a-key-set">Cached JWKS Admin API Endpoint for a Key Set</a></li>
      <li><a href="#cached-jwks-admin-api-endpoint-for-a-key-set-rotation">Cached JWKS Admin API Endpoint for a Key Set Rotation</a></li>
    </ul>
  </li>
</ul>

        </nav>
      

      <table id="about-extn">
        <tr>
          <th colspan="2">About this Plugin</th>
        </tr>
        <tr class="publisher">
          <td>Made by</td>
          <td>
          
            
<svg width="78" height="15" xmlns="http://www.w3.org/2000/svg">
  <g fill="none" fill-rule="evenodd">
    <path d="M23.685 7.372l-1.217 1.265V12h-1.313V2.047h1.313v4.922l4.423-4.922h1.586L24.56 6.442 28.784 12h-1.572l-3.527-4.628zm5.714.861c0-.724.143-1.376.428-1.955a3.187 3.187 0 0 1 1.19-1.34c.507-.314 1.087-.471 1.739-.471 1.007 0 1.822.348 2.444 1.046.622.697.933 1.624.933 2.782v.089c0 .72-.138 1.366-.414 1.938a3.14 3.14 0 0 1-1.182 1.336c-.513.32-1.102.479-1.767.479-1.003 0-1.815-.349-2.437-1.046-.623-.697-.934-1.62-.934-2.769v-.089zm1.272.15c0 .821.19 1.48.57 1.976.381.497.89.745 1.529.745.642 0 1.153-.251 1.53-.755.379-.503.568-1.209.568-2.116 0-.81-.192-1.468-.577-1.972-.386-.503-.897-.755-1.535-.755-.624 0-1.128.248-1.51.745-.384.497-.575 1.208-.575 2.133zm8.244-3.78l.041.93c.565-.71 1.303-1.066 2.215-1.066 1.563 0 2.351.882 2.365 2.645V12h-1.265V7.105c-.004-.533-.126-.927-.365-1.182-.24-.255-.612-.383-1.118-.383-.41 0-.77.11-1.08.328-.31.219-.551.506-.725.861V12H37.72V4.604h1.196zm6.228 3.637c0-1.153.266-2.07.8-2.751.533-.682 1.239-1.022 2.119-1.022.902 0 1.606.319 2.112.957l.061-.82h1.156v7.218c0 .957-.284 1.712-.851 2.263-.568.551-1.33.827-2.287.827a3.804 3.804 0 0 1-1.566-.342c-.51-.228-.9-.54-1.168-.936l.656-.759c.542.67 1.205 1.005 1.99 1.005.614 0 1.094-.173 1.438-.52.344-.346.516-.834.516-1.463v-.635c-.506.583-1.196.875-2.071.875-.866 0-1.567-.349-2.102-1.046-.536-.697-.803-1.648-.803-2.85zm1.271.144c0 .834.171 1.489.513 1.965.342.476.82.714 1.435.714.798 0 1.383-.362 1.757-1.086V6.6c-.387-.707-.968-1.06-1.743-1.06-.615 0-1.096.24-1.442.718-.347.478-.52 1.187-.52 2.126zM58.37 12h-1.312V2.047h1.312V12zm3.398-7.396l.04.93c.566-.712 1.304-1.067 2.215-1.067 1.564 0 2.352.882 2.366 2.645V12h-1.265V7.105c-.005-.533-.126-.927-.366-1.182-.239-.255-.612-.383-1.117-.383-.41 0-.77.11-1.08.328-.31.219-.552.506-.725.861V12H60.57V4.604h1.197zm9.495 6.5c.45 0 .845-.136 1.182-.41.338-.273.524-.615.56-1.025h1.197a2.293 2.293 0 0 1-.437 1.21 2.881 2.881 0 0 1-1.077.916 3.107 3.107 0 0 1-1.425.342c-1.007 0-1.808-.336-2.403-1.009-.595-.672-.892-1.591-.892-2.758v-.212c0-.72.132-1.36.396-1.92a3.02 3.02 0 0 1 1.138-1.306c.495-.31 1.08-.465 1.754-.465.83 0 1.519.248 2.068.745.549.497.842 1.142.878 1.934h-1.196c-.037-.478-.218-.871-.544-1.179-.325-.307-.728-.461-1.206-.461-.643 0-1.14.231-1.494.694-.353.462-.53 1.131-.53 2.006v.24c0 .852.176 1.508.527 1.968.35.46.852.69 1.504.69zm4.388.233c0-.219.065-.401.195-.547.13-.146.325-.219.585-.219.26 0 .457.073.591.219a.776.776 0 0 1 .202.547c0 .21-.068.385-.202.526-.134.142-.332.212-.591.212-.26 0-.455-.07-.585-.212a.748.748 0 0 1-.195-.526z" fill="#002A49"/>
    <path fill="#149DCB" d="M5.143 11.531l-.385.487.87 1.355-.09.627H9.23l.255-.627-1.484-1.842z"/>
    <path fill="#0EB399" d="M7.162 3.284l-1.335 2.33 6.514 7.682-.186.704h2.988l.542-2.499-6.971-8.22z"/>
    <path fill="#3DB664" d="M9.93 0L8.049 1.532l-.635 1.166H8.99l2.705 3.207 1.608-1.316v-.836l-.559-.781.413-.428z"/>
    <path fill="#17BDCB" d="M3.2 8.024h-.88L0 10.96V14h2.489l.438-.57 1.921-2.478h2.776l.855-1.304-3.01-3.562z"/>
  </g>
</svg>


          
          </td>
        </tr>
        <tr class="categories">
          <td>Categories</td>
          <td>
            <ul class="categories">
            
              
              <li><a href="/hub/#authentication">Authentication</a></li>
            
            </ul>
          </td>
        </tr>
        
        
        
        
          <tr class="kong-editions">
            <th colspan="2">
              
                Bundled with...
              
            </th>
          </tr>
          <tr class="kong-compatibility">
            <td colspan="2">
              <ul class="compat-list">
              
                
                  
                  <h6>Kong Enterprise</h6>
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.36-x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.35-x
                  </li>
                
              
                
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.34-x
                  </li>
                
              
                
              
                
              
                
              
              </ul><ul class="compat-list">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              </ul>
            </td>
          </tr>
        
        
          <tr>
            <th colspan="2">Other Versions</th>
          </tr>
          <tr>
            <td colspan="2">
              <ul class="extn-versions">
              
                
              
                
                  
                  <li>
                    <a href="/hub/kong-inc/jwt-signer/0.35-x.html">
                      0.35-x </a>
                      
                  </li>
                
              
              </ul>
            </td>
          </tr>
        
      </table>

    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content show-anchor-links">
          
      

      
        <div class="alert alert-warning">
          <strong>Kong Enterprise only</strong>: This plugin is only available with a <a href="https://konghq.com/kong-enterprise-edition">Kong Enterprise subscription</a>.
        </div>

        Please inquire about Kong Enterprise by <a href="https://konghq.com/request-demo">contacting us</a> - or start a <a href="https://konghq.com/free-trial/">free trial</a> today.
        <hr>
      

      <p>The Kong JWT Signer plugin makes it possible to verify and (re-)sign
one or two tokens in a request, that the plugin refers as access token
and channel token. The plugin supports both opaque tokens (via introspection)
and signed JWT tokens (JWS tokens via signature verification).
<code class="highlighter-rouge">access_token</code> and <code class="highlighter-rouge">channel_token</code> are names of the tokens and they
can be any valid verifiable tokens. E.g. two access tokens
(one given to end user and one given to client application).</p>


      
        <hr>
        <h2 id="terminology">Terminology</h2>
        <ul>
          <li><code>plugin</code>: a plugin executing actions inside Kong before or after a request has been proxied to the upstream API.</li>

          
            <li><code>Service</code>: the Kong entity representing an external <em>upstream</em> API or microservice.</li>
          
          
            <li><code>Route</code>: the Kong entity representing a way to map downstream requests to upstream services.</li>
          
          
            <li><code>upstream service</code>: this refers to your own API/service sitting behind Kong, to which client requests are forwarded.</li>
          
          <li><code>API</code>: a legacy entity used to represent your upstream services. <strong>Deprecated</strong> in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</li>
          
        </ul>
      

      

      
        <h2 id="configuration">Configuration</h2>
        

        

        

        
          
<h3 id="enabling-the-plugin-on-a-service">Enabling the plugin on a Service</h3>

<p><strong>With a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/services/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt-signer"</span> 
</code></pre></div></div>

<p><strong>Without a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by
adding this section do your declarative configuration file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">jwt-signer</span>
  <span class="na">service</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">service</span><span class="pi">}</span>
  <span class="na">config</span><span class="pi">:</span> 
</code></pre></div></div>

<p>In both cases, <code class="highlighter-rouge">{service}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Service that this plugin configuration will target.</p>


        
        
          
<h3 id="enabling-the-plugin-on-a-route">Enabling the plugin on a Route</h3>

<p><strong>With a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#Route-object">Route</a> with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/routes/<span class="o">{</span>route<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt-signer"</span> 
</code></pre></div></div>

<p><strong>Without a database</strong></p>

<p>Configure this plugin on a <a href="/latest/admin-api/#route-object">Route</a> by
adding this section do your declarative configuration file:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">jwt-signer</span>
  <span class="na">route</span><span class="pi">:</span> <span class="pi">{</span><span class="nv">route</span><span class="pi">}</span>
  <span class="na">config</span><span class="pi">:</span> 
</code></pre></div></div>

<p>In both cases, <code class="highlighter-rouge">{route}</code> is the <code class="highlighter-rouge">id</code> or <code class="highlighter-rouge">name</code> of the Route that this plugin configuration will target.</p>


        
        
        
          
<h3 id="enabling-the-plugin-on-an-api">Enabling the plugin on an API</h3>

<p>If you are using an older version of Kong with the legacy <a href="/0.13.x/admin-api/#api-object">API
entity</a> (<strong>deprecated</strong> in favor of Services
since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">
CE 0.13.0</a> and
<a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.), you
can configure this plugin on top of such an API by making the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    <span class="nt">--data</span> <span class="s2">"name=jwt-signer"</span> 
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">api</code>: either id or name of the API that this plugin configuration will
target.</li>
</ul>

        

        <h3 id="global-plugins">Global plugins</h3>

        <ul>
          <li><strong>Using a database</strong>, all plugins can be configured using the <code>http://kong:8001/plugins/</code> endpoint.</li>
          <li><strong>Without a database</strong>, all plugins can be configured via the <code>plugins:</code> entry on the declarative configuration file.</li>
        </ul>

        <p>A plugin which is not associated to any Service, Route or Consumer (or API, if you are using an older
        version of Kong) is considered "global", and will be run on every request.
        Read the <a href="/latest/admin-api/#add-plugin">Plugin Reference</a> and the
        <a href="/latest/admin-api/#precedence">Plugin Precedence</a> sections for more information.
        </p>

        <h3 id="parameters">Parameters</h3>

        <p>Here's a list of all the parameters which can be used in this plugin's configuration: </p>

        
<table>
  <thead>
    <tr><th>form parameter</th><th>description</th></tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td>The name of the plugin to use, in this case <code>jwt-signer</code></td></tr>

    
      <tr><td><code>service_id</code></td><td>The id of the Service which this plugin will target.</td></tr>
    
    
      <tr><td><code>route_id</code></td><td>The id of the Route which this plugin will target.</td></tr>
    
      <tr><td><code>enabled</code><br /><br /><strong>default value: </strong><code>true</code></td><td>Whether this plugin will be applied.</td></tr>
    
    
    <tr><td><code>api_id</code></td><td>The id of the API which this plugin will target. <strong>Note:</strong> The <a href="/0.13.x/admin-api/#api-object">API Entity</a> is deprecated in favor of Services since <a href="https://github.com/Kong/kong/blob/master/CHANGELOG.md#0130---20180322">CE 0.13.0</a> and <a href="https://docs.konghq.com/enterprise/changelog/#0-32">EE 0.32</a>.</td></tr>
    
    
  </tbody>
</table>


      

      


      <h2 id="contents">Contents</h2>

<ul>
  <li><a href="#plugin-configuration">Plugin Configuration</a></li>
  <li><a href="#plugin-configuration-parameters">Plugin Configuration Parameters</a>
    <ul>
      <li><a href="#description-of-plugin-configuration-parameters">Description of Plugin Configuration Parameters</a>
        <ul>
          <li><a href="#configrealm">config.realm</a></li>
          <li><a href="#configaccess_token_issuer">config.access_token_issuer</a></li>
          <li><a href="#configaccess_token_keyset">config.access_token_keyset</a></li>
          <li><a href="#configaccess_token_jwks_uri">config.access_token_jwks_uri</a></li>
          <li><a href="#configaccess_token_request_header">config.access_token_request_header</a></li>
          <li><a href="#configaccess_token_leeway">config.access_token_leeway</a></li>
          <li><a href="#configaccess_token_scopes_required">config.access_token_scopes_required</a></li>
          <li><a href="#configaccess_token_scopes_claim">config.access_token_scopes_claim</a></li>
          <li><a href="#configaccess_token_consumer_claim">config.access_token_consumer_claim</a></li>
          <li><a href="#configaccess_token_consumer_by">config.access_token_consumer_by</a></li>
          <li><a href="#configaccess_token_upstream_header">config.access_token_upstream_header</a></li>
          <li><a href="#configaccess_token_upstream_leeway">config.access_token_upstream_leeway</a></li>
          <li><a href="#configaccess_token_introspection_endpoint">config.access_token_introspection_endpoint</a></li>
          <li><a href="#configaccess_token_introspection_authorization">config.access_token_introspection_authorization</a></li>
          <li><a href="#configaccess_token_introspection_body_args">config.access_token_introspection_body_args</a></li>
          <li><a href="#configaccess_token_introspection_hint">config.access_token_introspection_hint</a></li>
          <li><a href="#configaccess_token_introspection_jwt_claim">config.access_token_introspection_jwt_claim</a></li>
          <li><a href="#configaccess_token_introspection_scopes_required">config.access_token_introspection_scopes_required</a></li>
          <li><a href="#configaccess_token_introspection_scopes_claim">config.access_token_introspection_scopes_claim</a></li>
          <li><a href="#configaccess_token_introspection_consumer_claim">config.access_token_introspection_consumer_claim</a></li>
          <li><a href="#configaccess_token_introspection_consumer_by">config.access_token_introspection_consumer_by</a></li>
          <li><a href="#configaccess_token_introspection_leeway">config.access_token_introspection_leeway</a></li>
          <li><a href="#configaccess_token_signing_algorithm">config.access_token_signing_algorithm</a></li>
          <li><a href="#configaccess_token_optional">config.access_token_optional</a></li>
          <li><a href="#configverify_access_token_signature">config.verify_access_token_signature</a></li>
          <li><a href="#configverify_access_token_expiry">config.verify_access_token_expiry</a></li>
          <li><a href="#configverify_access_token_scopes">config.verify_access_token_scopes</a></li>
          <li><a href="#configverify_access_token_introspection_expiry">config.verify_access_token_introspection_expiry</a></li>
          <li><a href="#configverify_access_token_introspection_scopes">config.verify_access_token_introspection_scopes</a></li>
          <li><a href="#configcache_access_token_introspection">config.cache_access_token_introspection</a></li>
          <li><a href="#configtrust_access_token_introspection">config.trust_access_token_introspection</a></li>
          <li><a href="#configenable_access_token_introspection">config.enable_access_token_introspection</a></li>
          <li><a href="#configchannel_token_issuer">config.channel_token_issuer</a></li>
          <li><a href="#configchannel_token_keyset">config.channel_token_keyset</a></li>
          <li><a href="#configchannel_token_jwks_uri">config.channel_token_jwks_uri</a></li>
          <li><a href="#configchannel_token_request_header">config.channel_token_request_header</a></li>
          <li><a href="#configchannel_token_leeway">config.channel_token_leeway</a></li>
          <li><a href="#configchannel_token_scopes_required">config.channel_token_scopes_required</a></li>
          <li><a href="#configchannel_token_scopes_claim">config.channel_token_scopes_claim</a></li>
          <li><a href="#configchannel_token_consumer_claim">config.channel_token_consumer_claim</a></li>
          <li><a href="#configchannel_token_consumer_by">config.channel_token_consumer_by</a></li>
          <li><a href="#configchannel_token_upstream_header">config.channel_token_upstream_header</a></li>
          <li><a href="#configchannel_token_upstream_leeway">config.channel_token_upstream_leeway</a></li>
          <li><a href="#configchannel_token_introspection_endpoint">config.channel_token_introspection_endpoint</a></li>
          <li><a href="#configchannel_token_introspection_authorization">config.channel_token_introspection_authorization</a></li>
          <li><a href="#configchannel_token_introspection_body_args">config.channel_token_introspection_body_args</a></li>
          <li><a href="#configchannel_token_introspection_hint">config.channel_token_introspection_hint</a></li>
          <li><a href="#configchannel_token_introspection_jwt_claim">config.channel_token_introspection_jwt_claim</a></li>
          <li><a href="#configchannel_token_introspection_scopes_required">config.channel_token_introspection_scopes_required</a></li>
          <li><a href="#configchannel_token_introspection_scopes_claim">config.channel_token_introspection_scopes_claim</a></li>
          <li><a href="#configchannel_token_introspection_consumer_claim">config.channel_token_introspection_consumer_claim</a></li>
          <li><a href="#configchannel_token_introspection_consumer_by">config.channel_token_introspection_consumer_by</a></li>
          <li><a href="#configchannel_token_introspection_leeway">config.channel_token_introspection_leeway</a></li>
          <li><a href="#configchannel_token_signing_algorithm">config.channel_token_signing_algorithm</a></li>
          <li><a href="#configchannel_token_optional">config.channel_token_optional</a></li>
          <li><a href="#configverify_channel_token_signature">config.verify_channel_token_signature</a></li>
          <li><a href="#configverify_channel_token_expiry">config.verify_channel_token_expiry</a></li>
          <li><a href="#configverify_channel_token_scopes">config.verify_channel_token_scopes</a></li>
          <li><a href="#configverify_channel_token_introspection_expiry">config.verify_channel_token_introspection_expiry</a></li>
          <li><a href="#configverify_channel_token_introspection_scopes">config.verify_channel_token_introspection_scopes</a></li>
          <li><a href="#configcache_channel_token_introspection">config.cache_channel_token_introspection</a></li>
          <li><a href="#configtrust_channel_token_introspection">config.trust_channel_token_introspection</a></li>
          <li><a href="#configenable_channel_token_introspection">config.enable_channel_token_introspection</a></li>
        </ul>
      </li>
      <li><a href="#default-plugin-configuration-values">Default Plugin Configuration Values</a></li>
    </ul>
  </li>
  <li><a href="#note-about-signing-key-management">Note About Signing Key Management</a></li>
  <li><a href="#note-about-consumer-mapping">Note About Consumer Mapping</a></li>
  <li><a href="#kong-admin-api-endpoints">Kong Admin API Endpoints</a>
    <ul>
      <li><a href="#cached-jwks-admin-api-endpoint">Cached JWKS Admin API Endpoint</a></li>
      <li><a href="#cached-jwks-admin-api-endpoint-for-a-key-set">Cached JWKS Admin API Endpoint for a Key Set</a></li>
      <li><a href="#cached-jwks-admin-api-endpoint-for-a-key-set-rotation">Cached JWKS Admin API Endpoint for a Key Set Rotation</a></li>
    </ul>
  </li>
</ul>

<h2 id="plugin-configuration">Plugin Configuration</h2>

<p>Configure this plugin on a <a href="/latest/admin-api/#service-object">Service</a> by</p>

<p><strong>With a database</strong></p>

<p>Make the following request:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://&lt;kong&gt;:8001/service/<span class="o">{</span>service<span class="o">}</span>/plugins <span class="se">\</span>
       <span class="nt">--data</span> <span class="s2">"name=jwt-signer"</span>
</code></pre></div></div>

<p><strong>Without a database</strong></p>

<p>Add a plugin to your declarative config file, in the <code class="highlighter-rouge">plugins:</code> yaml section:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">jwt-signer</span>
  <span class="na">service</span><span class="pi">:</span>  <span class="pi">{</span><span class="nv">service</span><span class="pi">}</span>
</code></pre></div></div>

<h2 id="plugin-configuration-parameters">Plugin Configuration Parameters</h2>

<p>All the parameters are optional, but you need to specify some options to actually make it work.</p>

<p>For example signature verification cannot be done without plugin knowing about:
<code class="highlighter-rouge">config.access_token_jwks_uri</code> and/or <code class="highlighter-rouge">config.channel_token_jwks_uri</code>.</p>

<p>Also for introspection to work, you need to specify introspection endpoints:
<code class="highlighter-rouge">config.access_token_introspection_endpoint</code> and/or <code class="highlighter-rouge">config.channel_token_introspection_endpoint</code>.</p>

<h3 id="description-of-plugin-configuration-parameters">Description of Plugin Configuration Parameters</h3>

<h4 id="configrealm"><code class="highlighter-rouge">config.realm</code></h4>

<p>When authentication or authorization fails, or there is an unexpected error, the plugin will
send <code class="highlighter-rouge">WWW-Authenticate</code> header with <code class="highlighter-rouge">realm</code> attribute value of this configuration parameter.</p>

<h4 id="configenable_instrumentation"><code class="highlighter-rouge">config.enable_instrumentation</code></h4>

<p>When you are experiencing problems in production and don’t want to change logging level
on Kong nodes, which requires a reload, you can use this parameter to enable instrumentation
for the request. It will write log entries with some added information using <code class="highlighter-rouge">ngx.CRIT</code>
(CRITICAL) level.</p>

<h4 id="configaccess_token_issuer"><code class="highlighter-rouge">config.access_token_issuer</code></h4>

<p><code class="highlighter-rouge">iss</code> claim of (re-)signed access token is set to this value. Original <code class="highlighter-rouge">iss</code> claim of the
incoming token (possibly introspected) will be stored in <code class="highlighter-rouge">original_iss</code> claim of the newly
signed access token.</p>

<h4 id="configaccess_token_keyset"><code class="highlighter-rouge">config.access_token_keyset</code></h4>

<p>This configuration parameter is used to select the private key for access token signing.</p>

<h4 id="configaccess_token_jwks_uri"><code class="highlighter-rouge">config.access_token_jwks_uri</code></h4>

<p>If you want to use <code class="highlighter-rouge">config.verify_access_token_signature</code>, you must specify URI where the
plugin can fetch the public keys (JWKS) to verify the signature of the access token. If you
don’t specify one, and you pass JWT token to plugin, then the plugin will respond with
<code class="highlighter-rouge">401 Unauthorized</code>.</p>

<h4 id="configaccess_token_request_header"><code class="highlighter-rouge">config.access_token_request_header</code></h4>

<p>This parameter tells the name of the header where to look at the access token. By default
we search it from <code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code> header (the value being magic key
<code class="highlighter-rouge">authorization:bearer</code>). If you don’t want to do anything with <code class="highlighter-rouge">access token</code> then you can
set this to <code class="highlighter-rouge">null</code> or <code class="highlighter-rouge">""</code> (empty string). Any header can be used to pass the access token
to this plugin. Two predefined values are <code class="highlighter-rouge">authorization:bearer</code> and <code class="highlighter-rouge">authorization:basic</code>.</p>

<h4 id="configaccess_token_leeway"><code class="highlighter-rouge">config.access_token_leeway</code></h4>

<p>You can use this parameter to adjust clock skew between the token issuer and Kong. The value
will be added to token’s <code class="highlighter-rouge">exp</code> claim before checking token expiry against Kong servers current
time (in seconds). You can disable access token <code class="highlighter-rouge">expiry</code> verification altogether with
<code class="highlighter-rouge">config.verify_access_token_expiry</code>.</p>

<h4 id="configaccess_token_scopes_required"><code class="highlighter-rouge">config.access_token_scopes_required</code></h4>

<p>With this parameter you can specify the required values (or scopes) that are looked from a
claim specified by <code class="highlighter-rouge">config.access_token_scopes_claim</code>. E.g. <code class="highlighter-rouge">[ "employee demo-service", "superadmin" ]</code>
which can be given as <code class="highlighter-rouge">"employee demo-service,superadmin"</code> (form post) would mean that claim
need to have values <code class="highlighter-rouge">"employee"</code> and <code class="highlighter-rouge">"demo-service"</code> <strong>OR</strong> that the claim need to have value
of <code class="highlighter-rouge">"superadmin"</code> to be successfully authorized for the upstream access. If required scopes are
not found in access token, the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configaccess_token_scopes_claim"><code class="highlighter-rouge">config.access_token_scopes_claim</code></h4>

<p>With this parameter you can specify the claim in access token to be verified against values of
<code class="highlighter-rouge">config.access_token_scopes_required</code>. This supports nested claims, e.g. with Keycloak you could
use <code class="highlighter-rouge">[ "realm_access", "roles" ]</code> which can be given as <code class="highlighter-rouge">realm_access,roles</code> (form post). If the
claim is not found in access token, and you have specified <code class="highlighter-rouge">config.access_token_scopes_required</code>,
the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configaccess_token_consumer_claim"><code class="highlighter-rouge">config.access_token_consumer_claim</code></h4>

<p>When you set a value for this parameter, the plugin will try to map an arbitrary claim specified with
this configuration parameter (e.g. <code class="highlighter-rouge">sub</code> or <code class="highlighter-rouge">username</code>) in access token to Kong consumer entity. Kong
consumers have an <code class="highlighter-rouge">id</code>, a <code class="highlighter-rouge">username</code> and a <code class="highlighter-rouge">custom_id</code>. The <code class="highlighter-rouge">config.access_token_consumer_by</code> parameter
is used to tell the plugin what of these Kong consumer properties can be used for mapping. If this
parameter is enable but the mapping fails (e.g. in-existent Kong consumer), the plugin will respond
with <code class="highlighter-rouge">403 Forbidden</code>. Kong consumer mapping is useful when you want to communicate this information
to other plugins such as ACL (access control through blacklisting and whitelisting) or rate-limiting.
The plugin will also set a couple of standard Kong upstream consumer headers.</p>

<h4 id="configaccess_token_consumer_by"><code class="highlighter-rouge">config.access_token_consumer_by</code></h4>

<p>When the plugin tries to do access token to Kong consumer mapping, it tries to find a matching Kong
consumer from properties defined using this configuration parameter. The parameter can take an array of
values. Valid values are <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">custom_id</code>.</p>

<h4 id="configaccess_token_upstream_header"><code class="highlighter-rouge">config.access_token_upstream_header</code></h4>

<p>This plugin removes the <code class="highlighter-rouge">config.access_token_request_header</code> from the request after reading its
value. With <code class="highlighter-rouge">config.access_token_upstream_header</code> you can specify the upstream header where the
plugin will add the Kong signed token. If you don’t specify value for this (e.g. use <code class="highlighter-rouge">null</code> or
<code class="highlighter-rouge">""</code> (empty string), the plugin will not even try to (re-)sign the token.</p>

<h4 id="configaccess_token_upstream_leeway"><code class="highlighter-rouge">config.access_token_upstream_leeway</code></h4>

<p>If you want to add or perhaps subtract (using negative value) expiry time of the original access
token, you can specify value that is added to original access token’s <code class="highlighter-rouge">exp</code> claim.</p>

<h4 id="configaccess_token_introspection_endpoint"><code class="highlighter-rouge">config.access_token_introspection_endpoint</code></h4>

<p>When using <code class="highlighter-rouge">opaque</code> access tokens, and you want to turn on access token introspection, you need
to specify the OAuth 2.0 introspection endpoint uri with this configuration parameter. Otherwise
the plugin will not try introspection, and will instead give <code class="highlighter-rouge">401 Unauthorized</code> when using opaque
access tokens.</p>

<h4 id="configaccess_token_introspection_authorization"><code class="highlighter-rouge">config.access_token_introspection_authorization</code></h4>

<p>If the introspection endpoint requires client authentication (client being this plugin), you can
specify the <code class="highlighter-rouge">Authorization</code> header’s value with this configuration parameter. E.g. if you use
client credentials you should enter value of <code class="highlighter-rouge">"Basic base64encode('client_id:client_secret')"</code>
to this configuration parameter (you are responsible to give full string of the header and do
all the necessary encodings (e.g. base64) that is required on given endpoint.</p>

<h4 id="configaccess_token_introspection_body_args"><code class="highlighter-rouge">config.access_token_introspection_body_args</code></h4>

<p>If you need to pass additional body arguments to introspection endpoint when the plugin introspects
the opaque access token, you can use this config parameter to specify them. You should url encode
the value, e.g. <code class="highlighter-rouge">resource=</code> or <code class="highlighter-rouge">a=1&amp;b=&amp;c</code>.</p>

<h4 id="configaccess_token_introspection_hint"><code class="highlighter-rouge">config.access_token_introspection_hint</code></h4>

<p>If you need to give <code class="highlighter-rouge">hint</code> parameter when introspecting access token you can use this parameter to
specify the value of such parameter. By default we send <code class="highlighter-rouge">hint=access_token</code>.</p>

<h4 id="configaccess_token_introspection_jwt_claim"><code class="highlighter-rouge">config.access_token_introspection_jwt_claim</code></h4>

<p>If your introspection endpoint return an access token in one of the keys (or claims) in the
introspection results (<code class="highlighter-rouge">JSON</code>), we can use that value instead of the introspection results when
doing expiry verification and signing of the new token issued by Kong. E.g. if you specify
<code class="highlighter-rouge">[ "token_string" ]</code> which can be given as <code class="highlighter-rouge">"token_string"</code> (form post) to this configuration
parameter, the plugin will look for key <code class="highlighter-rouge">token_string</code> in JSON of the introspection results
and use that as an access token (instead of using introspection JSON directly). If the key
cannot be found it, the plugin will respond with <code class="highlighter-rouge">401 Unauthorized</code>. Also if the key is found,
but cannot be decoded as JWT, it will also result <code class="highlighter-rouge">401 Unauthorized</code>.</p>

<h4 id="configaccess_token_introspection_scopes_required"><code class="highlighter-rouge">config.access_token_introspection_scopes_required</code></h4>

<p>With this parameter you can specify the required values (or scopes) that are looked from an
introspection claim/property specified by <code class="highlighter-rouge">config.access_token_introspection_scopes_claim</code>.
E.g. <code class="highlighter-rouge">[ "employee demo-service", "superadmin" ]</code> which can be given as <code class="highlighter-rouge">"employee demo-service,superadmin"</code>
(form post) would mean that claim need to have values <code class="highlighter-rouge">"employee"</code> and <code class="highlighter-rouge">"demo-service"</code> <strong>OR</strong>
that the claim need to have value of <code class="highlighter-rouge">"superadmin"</code> to be successfully authorized for the upstream
access. If required scopes are not found in access token introspection results (<code class="highlighter-rouge">JSON</code>),
the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configaccess_token_introspection_scopes_claim"><code class="highlighter-rouge">config.access_token_introspection_scopes_claim</code></h4>

<p>With this parameter you can specify the claim/property in access token introspection results
(<code class="highlighter-rouge">JSON</code>) to be verified against values of <code class="highlighter-rouge">config.access_token_introspection_scopes_required</code>.
This supports nested claims, e.g. with Keycloak you could use <code class="highlighter-rouge">[ "realm_access", "roles" ]</code>
which can be given as <code class="highlighter-rouge">realm_access,roles</code> (form post). If the claim is not found in access
token introspection results, and you have specified <code class="highlighter-rouge">config.access_token_introspection_scopes_required</code>,
the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configaccess_token_introspection_consumer_claim"><code class="highlighter-rouge">config.access_token_introspection_consumer_claim</code></h4>

<p>When you set a value for this parameter, the plugin will try to map an arbitrary claim specified with
this configuration parameter (e.g. <code class="highlighter-rouge">sub</code> or <code class="highlighter-rouge">username</code>) in access token introspection results to
Kong consumer entity. Kong consumers have an <code class="highlighter-rouge">id</code>, a <code class="highlighter-rouge">username</code> and a <code class="highlighter-rouge">custom_id</code>. The
<code class="highlighter-rouge">config.access_token_introspection_consumer_by</code> parameter is used to tell the plugin what of these
Kong consumer properties can be used for mapping. If this parameter is enable but the mapping fails
(e.g. in-existent Kong consumer), the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>. Kong consumer mapping
is useful when you want to communicate this information to other plugins such as ACL (access control
through blacklisting and whitelisting) or rate-limiting. The plugin will also set a couple of standard
Kong upstream consumer headers.</p>

<h4 id="configaccess_token_introspection_consumer_by"><code class="highlighter-rouge">config.access_token_introspection_consumer_by</code></h4>

<p>When the plugin tries to do access token introspection results to Kong consumer mapping, it tries to
find a matching Kong consumer from properties defined using this configuration parameter. The parameter
can take an array of values. Valid values are <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">custom_id</code>.</p>

<h4 id="configaccess_token_introspection_leeway"><code class="highlighter-rouge">config.access_token_introspection_leeway</code></h4>

<p>You can use this parameter to adjust clock skew between the token issuer introspection results
and Kong. The value will be added to introspection results (<code class="highlighter-rouge">JSON</code>) <code class="highlighter-rouge">exp</code> claim/property before
checking token expiry against Kong servers current time (in seconds). You can disable access
token introspection <code class="highlighter-rouge">expiry</code> verification altogether with <code class="highlighter-rouge">config.verify_access_token_introspection_expiry</code>.</p>

<h4 id="configaccess_token_introspection_timeout"><code class="highlighter-rouge">config.access_token_introspection_timeout</code></h4>

<p>Timeout for introspection request. This plugin will try to introspect twice if the first request
fails for some reason. If both requests timeout, then the plugin will run two times the
<code class="highlighter-rouge">config.access_token_introspection_timeout</code> on access token introspection.</p>

<h4 id="configaccess_token_signing_algorithm"><code class="highlighter-rouge">config.access_token_signing_algorithm</code></h4>

<p>When this plugin sets the upstream header, as specified with <code class="highlighter-rouge">config.access_token_upstream_header</code>,
it will also (re-)sign the original access token using private keys of this plugin. With this
configuration parameter you can specify the algorithm that is used to sign the token. Currently
supported values are <code class="highlighter-rouge">"RS256"</code> and <code class="highlighter-rouge">"RS512"</code> (rest will be added later). <code class="highlighter-rouge">config.access_token_issuer</code>
specifies which <code class="highlighter-rouge">keyset</code> will be used to sign the new token issued by Kong, using the algorithm
specified with this configuration parameter.</p>

<h4 id="configaccess_token_optional"><code class="highlighter-rouge">config.access_token_optional</code></h4>

<p>In case when access token is not provided or no <code class="highlighter-rouge">config.access_token_request_header</code> is specified,
the plugin cannot obviously verify the access token. In that case the plugin normally responds
with <code class="highlighter-rouge">401 Unauthorized</code> (client didn’t send a token) or <code class="highlighter-rouge">500 Unexpected</code> (a configuration error).
With this parameter you can let the request to proceed even when there is no token to be checked.
If the token is provided, then this parameter has no effect (look other parameters to enable and
disable checks in that case).</p>

<h4 id="configverify_access_token_signature"><code class="highlighter-rouge">config.verify_access_token_signature</code></h4>

<p>With this configuration parameter you can quickly turn on/off the access token
signature verification.</p>

<h4 id="configverify_access_token_expiry"><code class="highlighter-rouge">config.verify_access_token_expiry</code></h4>

<p>With this configuration parameter you can quickly turn on/off the access token
expiry verification.</p>

<h4 id="configverify_access_token_scopes"><code class="highlighter-rouge">config.verify_access_token_scopes</code></h4>

<p>With this configuration parameter you can quickly turn on/off the access token
required scopes verification, specified with <code class="highlighter-rouge">config.access_token_scopes_required</code>.</p>

<h4 id="configverify_access_token_introspection_expiry"><code class="highlighter-rouge">config.verify_access_token_introspection_expiry</code></h4>

<p>With this configuration parameter you can quickly turn on/off the access token
introspection expiry verification.</p>

<h4 id="configverify_access_token_introspection_scopes"><code class="highlighter-rouge">config.verify_access_token_introspection_scopes</code></h4>

<p>With this configuration parameter you can quickly turn on/off the access token
introspection scopes verification, specified with
<code class="highlighter-rouge">config.access_token_introspection_scopes_required</code>.</p>

<h4 id="configcache_access_token_introspection"><code class="highlighter-rouge">config.cache_access_token_introspection</code></h4>

<p>Whether or not to cache access token introspection results.</p>

<h4 id="configtrust_access_token_introspection"><code class="highlighter-rouge">config.trust_access_token_introspection</code></h4>

<p>When you provide a opaque access token that the plugin introspects, and you do expiry
and scopes verification on introspection results, you probably don’t want to do another
round of checks on the payload before the plugin signs a new token. Or that you don’t
want to do checks to a JWT token provided with introspection JSON specified with
<code class="highlighter-rouge">config.access_token_introspection_jwt_claim</code>. With this parameter you can enable /
disable further checks on payload before the new token is signed. If you set this
to <code class="highlighter-rouge">true</code> the expiry or scopes are not checked on payload.</p>

<h4 id="configenable_access_token_introspection"><code class="highlighter-rouge">config.enable_access_token_introspection</code></h4>

<p>If you don’t want to support opaque access tokens, you can disable introspection by
changing this configuration parameter to <code class="highlighter-rouge">false</code>.</p>

<h4 id="configchannel_token_issuer"><code class="highlighter-rouge">config.channel_token_issuer</code></h4>

<p><code class="highlighter-rouge">iss</code> claim of (re-)signed channel token is set to this value. Original <code class="highlighter-rouge">iss</code> claim of
the incoming token (possibly introspected) will be stored in <code class="highlighter-rouge">original_iss</code> claim of
the newly signed channel token.</p>

<h4 id="configchannel_token_keyset"><code class="highlighter-rouge">config.channel_token_keyset</code></h4>

<p>This configuration parameter is used to select the private key for channel token signing.</p>

<h4 id="configchannel_token_jwks_uri"><code class="highlighter-rouge">config.channel_token_jwks_uri</code></h4>

<p>If you want to use <code class="highlighter-rouge">config.verify_channel_token_signature</code>, you must specify URI where
the plugin can fetch the public keys (JWKS) to verify the signature of the channel token.
If you don’t specify one, and you pass JWT token to plugin, then the plugin will respond
with <code class="highlighter-rouge">401 Unauthorized</code>.</p>

<h4 id="configchannel_token_request_header"><code class="highlighter-rouge">config.channel_token_request_header</code></h4>

<p>This parameter tells the name of the header where to look at the channel token. By default
we won’t look for channel token. If you don’t want to do anything with channel token then
you can set this to <code class="highlighter-rouge">null</code> or <code class="highlighter-rouge">""</code> (empty string). Any header can be used to pass the channel
token to this plugin. Two predefined values are <code class="highlighter-rouge">authorization:bearer</code> and <code class="highlighter-rouge">authorization:basic</code>.</p>

<h4 id="configchannel_token_leeway"><code class="highlighter-rouge">config.channel_token_leeway</code></h4>

<p>You can use this parameter to adjust clock skew between the token issuer and Kong. The value
will be added to token’s <code class="highlighter-rouge">exp</code> claim before checking token expiry against Kong servers current
time (in seconds). You can disable channel token <code class="highlighter-rouge">expiry</code> verification altogether with
<code class="highlighter-rouge">config.verify_channel_token_expiry</code>.</p>

<h4 id="configchannel_token_scopes_required"><code class="highlighter-rouge">config.channel_token_scopes_required</code></h4>

<p>With this parameter you can specify the required values (or scopes) that are looked from a claim
specified by <code class="highlighter-rouge">config.channel_token_scopes_claim</code>. E.g. <code class="highlighter-rouge">[ "employee demo-service", "superadmin" ]</code>
which can be given as <code class="highlighter-rouge">"employee demo-service,superadmin"</code> (form post) would mean that claim need
to have values <code class="highlighter-rouge">"employee"</code> and <code class="highlighter-rouge">"demo-service"</code> <strong>OR</strong> that the claim need to have value of
<code class="highlighter-rouge">"superadmin"</code> to be successfully authorized for the upstream access. If required scopes are not
found in channel token, the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configchannel_token_scopes_claim"><code class="highlighter-rouge">config.channel_token_scopes_claim</code></h4>

<p>With this parameter you can specify the claim in channel token to be verified against values of
<code class="highlighter-rouge">config.channel_token_scopes_required</code>. This supports nested claims, e.g. with Keycloak you could
use <code class="highlighter-rouge">[ "realm_access", "roles" ]</code> which can be given as <code class="highlighter-rouge">realm_access,roles</code> (form post).
If the claim is not found in channel token, and you have specified <code class="highlighter-rouge">config.channel_token_scopes_required</code>,
the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configchannel_token_consumer_claim"><code class="highlighter-rouge">config.channel_token_consumer_claim</code></h4>

<p>When you set a value for this parameter, the plugin will try to map an arbitrary claim specified with
this configuration parameter (e.g. <code class="highlighter-rouge">sub</code> or <code class="highlighter-rouge">username</code>) in channel token to Kong consumer entity. Kong
consumers have an <code class="highlighter-rouge">id</code>, a <code class="highlighter-rouge">username</code> and a <code class="highlighter-rouge">custom_id</code>. The <code class="highlighter-rouge">config.channel_token_consumer_by</code> parameter
is used to tell the plugin what of these Kong consumer properties can be used for mapping. If this
parameter is enable but the mapping fails (e.g. in-existent Kong consumer), the plugin will respond
with <code class="highlighter-rouge">403 Forbidden</code>. Kong consumer mapping is useful when you want to communicate this information
to other plugins such as ACL (access control through blacklisting and whitelisting) or rate-limiting.
The plugin will also set a couple of standard Kong upstream consumer headers.</p>

<h4 id="configchannel_token_consumer_by"><code class="highlighter-rouge">config.channel_token_consumer_by</code></h4>

<p>When the plugin tries to do channel token to Kong consumer mapping, it tries to find a matching Kong
consumer from properties defined using this configuration parameter. The parameter can take an array of
values. Valid values are <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">custom_id</code>.</p>

<h4 id="configchannel_token_upstream_header"><code class="highlighter-rouge">config.channel_token_upstream_header</code></h4>

<p>This plugin removes the <code class="highlighter-rouge">config.channel_token_request_header</code> from the request after reading its value.
With <code class="highlighter-rouge">config.channel_token_upstream_header</code> you can specify the upstream header where the plugin will
add the Kong signed token. If you don’t specify value for this (e.g. use <code class="highlighter-rouge">null</code> or <code class="highlighter-rouge">""</code> (empty string),
the plugin will not even try to (re-)sign the token.</p>

<h4 id="configchannel_token_upstream_leeway"><code class="highlighter-rouge">config.channel_token_upstream_leeway</code></h4>

<p>If you want to add or perhaps subtract (using negative value) expiry time of the original channel token,
you can specify value that is added to original channel token’s <code class="highlighter-rouge">exp</code> claim.</p>

<h4 id="configchannel_token_introspection_endpoint"><code class="highlighter-rouge">config.channel_token_introspection_endpoint</code></h4>

<p>When using <code class="highlighter-rouge">opaque</code> channel tokens, and you want to turn on channel token introspection, you need to
specify the OAuth 2.0 introspection endpoint uri with this configuration parameter. Otherwise the plugin
will not try introspection, and will instead give <code class="highlighter-rouge">401 Unauthorized</code> when using opaque channel tokens.</p>

<h4 id="configchannel_token_introspection_authorization"><code class="highlighter-rouge">config.channel_token_introspection_authorization</code></h4>

<p>If the introspection endpoint requires client authentication (client being this plugin), you can specify
the <code class="highlighter-rouge">Authorization</code> header’s value with this configuration parameter. E.g. if you use client credentials
you should enter value of <code class="highlighter-rouge">"Basic base64encode('client_id:client_secret')"</code> to this configuration parameter
(you are responsible to give full string of the header and do all the necessary encodings (e.g. base64)
that is required on given endpoint.</p>

<h4 id="configchannel_token_introspection_body_args"><code class="highlighter-rouge">config.channel_token_introspection_body_args</code></h4>

<p>If you need to pass additional body arguments to introspection endpoint when the plugin introspects the
opaque channel token, you can use this config parameter to specify them. You should url encode the value,
e.g. <code class="highlighter-rouge">resource=</code> or <code class="highlighter-rouge">a=1&amp;b=&amp;c</code>.</p>

<h4 id="configchannel_token_introspection_hint"><code class="highlighter-rouge">config.channel_token_introspection_hint</code></h4>

<p>If you need to give <code class="highlighter-rouge">hint</code> parameter when introspecting channel token you can use this parameter to
specify the value of such parameter. By default we don’t send a <code class="highlighter-rouge">hint</code> with channel token introspection.</p>

<h4 id="configchannel_token_introspection_jwt_claim"><code class="highlighter-rouge">config.channel_token_introspection_jwt_claim</code></h4>

<p>If your introspection endpoint return an channel token in one of the keys (or claims) in the introspection
results (<code class="highlighter-rouge">JSON</code>), we can use that value instead of the introspection results when doing expiry verification
and signing of the new token issued by Kong. E.g. if you specify <code class="highlighter-rouge">[ "token_string" ]</code> which can be given as
<code class="highlighter-rouge">"token_string"</code> (form post) to this configuration parameter, the plugin will look for key <code class="highlighter-rouge">token_string</code>
in JSON of the introspection results and use that as a channel token (instead of using introspection JSON
directly). If the key cannot be found it, the plugin will respond with <code class="highlighter-rouge">401 Unauthorized</code>. Also if the key
is found, but cannot be decoded as JWT, it will also result <code class="highlighter-rouge">401 Unauthorized</code>.</p>

<h4 id="configchannel_token_introspection_scopes_required"><code class="highlighter-rouge">config.channel_token_introspection_scopes_required</code></h4>

<p>With this parameter you can specify the required values (or scopes) that are looked from an introspection
claim/property specified by <code class="highlighter-rouge">config.channel_token_introspection_scopes_claim</code>.
E.g. <code class="highlighter-rouge">[ "employee demo-service", "superadmin" ]</code> which can be given as <code class="highlighter-rouge">"employee demo-service,superadmin"</code>
(form post) would mean that claim need to have values <code class="highlighter-rouge">"employee"</code> and <code class="highlighter-rouge">"demo-service"</code> <strong>OR</strong> that the
claim need to have value of <code class="highlighter-rouge">"superadmin"</code> to be successfully authorized for the upstream access.
If required scopes are not found in channel token introspection results (<code class="highlighter-rouge">JSON</code>), the plugin will
respond with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configchannel_token_introspection_scopes_claim"><code class="highlighter-rouge">config.channel_token_introspection_scopes_claim</code></h4>

<p>With this parameter you can specify the claim/property in channel token introspection results (<code class="highlighter-rouge">JSON</code>)
to be verified against values of <code class="highlighter-rouge">config.channel_token_introspection_scopes_required</code>. This supports
nested claims, e.g. with Keycloak you could use <code class="highlighter-rouge">[ "realm_access", "roles" ]</code> which can be given as
<code class="highlighter-rouge">realm_access,roles</code> (form post). If the claim is not found in channel token introspection results,
and you have specified <code class="highlighter-rouge">config.channel_token_introspection_scopes_required</code>, the plugin will respond
with <code class="highlighter-rouge">403 Forbidden</code>.</p>

<h4 id="configchannel_token_introspection_consumer_claim"><code class="highlighter-rouge">config.channel_token_introspection_consumer_claim</code></h4>

<p>When you set a value for this parameter, the plugin will try to map an arbitrary claim specified with
this configuration parameter (e.g. <code class="highlighter-rouge">sub</code> or <code class="highlighter-rouge">username</code>) in channel token introspection results to
Kong consumer entity. Kong consumers have an <code class="highlighter-rouge">id</code>, a <code class="highlighter-rouge">username</code> and a <code class="highlighter-rouge">custom_id</code>. The
<code class="highlighter-rouge">config.channel_token_introspection_consumer_by</code> parameter is used to tell the plugin what of these
Kong consumer properties can be used for mapping. If this parameter is enable but the mapping fails
(e.g. in-existent Kong consumer), the plugin will respond with <code class="highlighter-rouge">403 Forbidden</code>. Kong consumer mapping
is useful when you want to communicate this information to other plugins such as ACL (access control
through blacklisting and whitelisting) or rate-limiting. The plugin will also set a couple of standard
Kong upstream consumer headers.</p>

<h4 id="configchannel_token_introspection_consumer_by"><code class="highlighter-rouge">config.channel_token_introspection_consumer_by</code></h4>

<p>When the plugin tries to do channel token introspection results to Kong consumer mapping, it tries to
find a matching Kong consumer from properties defined using this configuration parameter. The parameter
can take an array of values. Valid values are <code class="highlighter-rouge">id</code>, <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">custom_id</code>.</p>

<h4 id="configchannel_token_introspection_leeway"><code class="highlighter-rouge">config.channel_token_introspection_leeway</code></h4>

<p>You can use this parameter to adjust clock skew between the token issuer introspection results and Kong.
The value will be added to introspection results (<code class="highlighter-rouge">JSON</code>) <code class="highlighter-rouge">exp</code> claim/property before checking token expiry
against Kong servers current time (in seconds). You can disable channel token introspection <code class="highlighter-rouge">expiry</code>
verification altogether with <code class="highlighter-rouge">config.verify_channel_token_introspection_expiry</code>.</p>

<h4 id="configaccess_token_introspection_timeout-1"><code class="highlighter-rouge">config.access_token_introspection_timeout</code></h4>

<p>Timeout for introspection request. This plugin will try to introspect twice if the first request
fails for some reason. If both requests timeout, then the plugin will run two times the
<code class="highlighter-rouge">config.access_token_introspection_timeout</code> on channel token introspection.</p>

<h4 id="configchannel_token_signing_algorithm"><code class="highlighter-rouge">config.channel_token_signing_algorithm</code></h4>

<p>When this plugin sets the upstream header, as specified with <code class="highlighter-rouge">config.channel_token_upstream_header</code>,
it will also (re-)sign the original channel token using private keys of this plugin. With this configuration
parameter you can specify the algorithm that is used to sign the token. Currently supported values are
<code class="highlighter-rouge">"RS256"</code> and <code class="highlighter-rouge">"RS512"</code> (rest will be added later). <code class="highlighter-rouge">config.channel_token_issuer</code> specifies which <code class="highlighter-rouge">keyset</code>
will be used to sign the new token issued by Kong, using the algorithm specified with this configuration
parameter.</p>

<h4 id="configchannel_token_optional"><code class="highlighter-rouge">config.channel_token_optional</code></h4>

<p>In case when channel token is not provided or no <code class="highlighter-rouge">config.channel_token_request_header</code> is specified,
the plugin cannot obviously verify the channel token. In that case the plugin normally responds
with <code class="highlighter-rouge">401 Unauthorized</code> (client didn’t send a token) or <code class="highlighter-rouge">500 Unexpected</code> (a configuration error).
With this parameter you can let the request to proceed even when there is no token to be checked.
If the token is provided, then this parameter has no effect (look other parameters to enable and
disable checks in that case).</p>

<h4 id="configverify_channel_token_signature"><code class="highlighter-rouge">config.verify_channel_token_signature</code></h4>

<p>With this configuration parameter you can quickly turn on/off the channel token signature verification.</p>

<h4 id="configverify_channel_token_expiry"><code class="highlighter-rouge">config.verify_channel_token_expiry</code></h4>

<p>With this configuration parameter you can quickly turn on/off the channel token expiry verification.</p>

<h4 id="configverify_channel_token_scopes"><code class="highlighter-rouge">config.verify_channel_token_scopes</code></h4>

<p>With this configuration parameter you can quickly turn on/off the channel token required scopes
verification, specified with <code class="highlighter-rouge">config.channel_token_scopes_required</code>.</p>

<h4 id="configverify_channel_token_introspection_expiry"><code class="highlighter-rouge">config.verify_channel_token_introspection_expiry</code></h4>

<p>With this configuration parameter you can quickly turn on/off the channel token introspection expiry
verification.</p>

<h4 id="configverify_channel_token_introspection_scopes"><code class="highlighter-rouge">config.verify_channel_token_introspection_scopes</code></h4>

<p>With this configuration parameter you can quickly turn on/off the channel token introspection scopes
verification, specified with <code class="highlighter-rouge">config.channel_token_introspection_scopes_required</code>.</p>

<h4 id="configcache_channel_token_introspection"><code class="highlighter-rouge">config.cache_channel_token_introspection</code></h4>

<p>Whether or not to cache channel token introspection results.</p>

<h4 id="configtrust_channel_token_introspection"><code class="highlighter-rouge">config.trust_channel_token_introspection</code></h4>

<p>When you provide a opaque channel token that the plugin introspects, and you do expiry
and scopes verification on introspection results, you probably don’t want to do another
round of checks on the payload before the plugin signs a new token. Or that you don’t
want to do checks to a JWT token provided with introspection JSON specified with
<code class="highlighter-rouge">config.channel_token_introspection_jwt_claim</code>. With this parameter you can enable /
disable further checks on payload before the new token is signed. If you set this
to <code class="highlighter-rouge">true</code> the expiry or scopes are not checked on payload.</p>

<h4 id="configenable_channel_token_introspection"><code class="highlighter-rouge">config.enable_channel_token_introspection</code></h4>

<p>If you don’t want to support opaque channel tokens, you can disable introspection by
changing this configuration parameter to <code class="highlighter-rouge">false</code>.</p>

<h3 id="default-plugin-configuration-values">Default Plugin Configuration Values</h3>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">config.realm</code></td>
      <td>value of <code class="highlighter-rouge">ngx.var.host</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_issuer</code></td>
      <td><code class="highlighter-rouge">"kong"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_keyset</code></td>
      <td><code class="highlighter-rouge">"kong"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_jwks_uri</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_scopes_required</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_scopes_claim</code></td>
      <td><code class="highlighter-rouge">[ "scope" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_consumer_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_consumer_by</code></td>
      <td><code class="highlighter-rouge">[ "username", "custom_id" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_upstream_header</code></td>
      <td><code class="highlighter-rouge">"authorization:bearer"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_upstream_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_endpoint</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_authorization</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_body_args</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_hint</code></td>
      <td><code class="highlighter-rouge">"access_token"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_jwt_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_scopes_required</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_scopes_claim</code></td>
      <td><code class="highlighter-rouge">[ "scope" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_consumer_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_consumer_by</code></td>
      <td><code class="highlighter-rouge">[ "username", "custom_id" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_introspection_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_signing_algorithm</code></td>
      <td><code class="highlighter-rouge">"RS256"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.access_token_optional</code></td>
      <td><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_access_token_signature</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_access_token_expiry</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_access_token_scopes</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_access_token_introspection_expiry</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_access_token_introspection_scopes</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.cache_access_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.trust_access_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.enable_access_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_issuer</code></td>
      <td><code class="highlighter-rouge">"kong"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_keyset</code></td>
      <td><code class="highlighter-rouge">"kong"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_jwks_uri</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_request_header</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_scopes_required</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_scopes_claim</code></td>
      <td><code class="highlighter-rouge">[ "scope" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_consumer_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_consumer_by</code></td>
      <td><code class="highlighter-rouge">[ "username", "custom_id" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_upstream_header</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_upstream_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_endpoint</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_authorization</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_body_args</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_hint</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_jwt_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_scopes_required</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_scopes_claim</code></td>
      <td><code class="highlighter-rouge">[ "scope" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_consumer_claim</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_consumer_by</code></td>
      <td><code class="highlighter-rouge">[ "username", "custom_id" ]</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_introspection_leeway</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_signing_algorithm</code></td>
      <td><code class="highlighter-rouge">"RS256"</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.channel_token_optional</code></td>
      <td><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_channel_token_signature</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_channel_token_expiry</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_channel_token_scopes</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_channel_token_introspection_expiry</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.verify_channel_token_introspection_scopes</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.cache_channel_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.trust_channel_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">config.enable_channel_token_introspection</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
  </tbody>
</table>

<h2 id="note-about-signing-key-management">Note About Signing Key Management</h2>

<p>If you specify <code class="highlighter-rouge">config.access_token_keyset</code> or <code class="highlighter-rouge">config.channel_token_keyset</code> with either
<code class="highlighter-rouge">http://</code> or <code class="highlighter-rouge">https://</code> prefix, it will mean that token signing keys are externally managed (by you),
and in that case the plugin will load the keys just like it does for <code class="highlighter-rouge">config.access_token_jwks_uri</code>
and <code class="highlighter-rouge">config.channel_token_jwks_uri</code>. If the prefix is not <code class="highlighter-rouge">http://</code> or <code class="highlighter-rouge">https://</code>
(e.g. <code class="highlighter-rouge">"my-company"</code> or <code class="highlighter-rouge">"kong"</code>), Kong will auto-generate JWKS for supported algorithms.</p>

<p>Please note that external JWKS specified with <code class="highlighter-rouge">config.access_token_keyset</code> or
<code class="highlighter-rouge">config.channel_token_keyset</code> should also contain private keys with supported <code class="highlighter-rouge">alg</code>,
either <code class="highlighter-rouge">"RS256"</code> or <code class="highlighter-rouge">"RS512"</code> for now. External URLs that contain private keys should
be protected so that only Kong can access them. ATM Kong doesn’t add any authentication
headers when it loads the keys from external endpoint, so you have to do it with network
level restrictions. If it is a common need to manage private keys externally
(instead of letting Kong to auto-generate them), we can add another parameter
for adding authentication header (possibly similar to
<code class="highlighter-rouge">config.channel_token_introspection_authorization</code>).</p>

<p>The key size (the modulo) for RSA keys is currently hard-coded to 2048 bits.</p>

<h2 id="note-about-consumer-mapping">Note About Consumer Mapping</h2>

<p>There are several parameters that provide a way to do consumer mapping:</p>

<ul>
  <li><code class="highlighter-rouge">config.access_token_consumer_claim</code></li>
  <li><code class="highlighter-rouge">config.access_token_introspection_consumer_claim</code></li>
  <li><code class="highlighter-rouge">config.channel_token_consumer_claim</code></li>
  <li><code class="highlighter-rouge">config.channel_token_introspection_consumer_claim</code></li>
</ul>

<p>Obviously you cannot map more than once. The order the plugin does the mapping is:</p>

<ol>
  <li>access token introspection results</li>
  <li>access token jwt payload</li>
  <li>access token introspection results</li>
  <li>access token jwt payload</li>
</ol>

<p>of course, depending on input (opaque or JWT).</p>

<p>When mapping is done, no other mappings are used. E.g. if access token already maps to Kong consumer,
the plugin will not try to map channel token to consumer anymore (and will not even error on that case).</p>

<p>General rule to follow would be to only map either access or channel token.</p>

<h2 id="kong-admin-api-endpoints">Kong Admin API Endpoints</h2>

<p>This plugin also providers a few Admin API endpoints, and some actions upon them.</p>

<h3 id="cached-jwks-admin-api-endpoint">Cached JWKS Admin API Endpoint</h3>

<p>The plugin will cache JWKS specified with <code class="highlighter-rouge">config.access_token_jwks_uri</code> and 
<code class="highlighter-rouge">config.channel_token_jwks_uri</code> to Kong database for quicker access to them. The plugin
further caches JWKS in Kong node’s shared memory, and on process a level memory for 
even quicker access. When the plugin is responsible for signing the tokens, it will
also store its own keys in the database.</p>

<p>Admin API endpoints will never reveal private
keys, but it will reveal the public keys. Private keys, that the plugin will auto-generate,
can only be accessed from database directly (at least for now). Private parts in JWKS include
properties such as <code class="highlighter-rouge">d</code>, <code class="highlighter-rouge">p</code>, <code class="highlighter-rouge">q</code>, <code class="highlighter-rouge">dp</code>, <code class="highlighter-rouge">dq</code>, <code class="highlighter-rouge">qi</code>, and <code class="highlighter-rouge">oth</code>. For public keys that are using
a symmetric algorithm (such as <code class="highlighter-rouge">HS256</code>) and include <code class="highlighter-rouge">k</code> parameter, that is not hidden from
admin api as that is practically used both to verify and to sign. This makes it a bit problematic
to use, and we strongly suggest using asymmetric (or public key) algorithms, it will also make
rotating the keys easier as the public keys can be shared between parties and published (without
revealing the secrets).</p>

<p>All the public keys that Kong has loaded or generated can be viewed by accessing:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET kong:8001/jwt-signer/jwks
</span></code></pre></div></div>

<p>E.g.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> GET http://&lt;kong&gt;:8001/jwt-signer/jwks
</code></pre></div></div>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1535560520731</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c1d2d9b7-ac3a-4ca4-b595-453acd78925e"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aXKFjIY80eM_H4rqhT6iaOfdL5iDHDHjag2BWLaxeJA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qDjxLGSa4jI14ctmvjMDQzZDfZJcXS6G6-wcVxLsQgrIWc_JnZ44b1ApAokFwaZsig4oNFLQYAMdapZSORI2jNlZ9lsJ-b3VZUz0gB5jGaFAyx7G1Uh46w_-2JZKI4wW8KinJ8VZayobSYS3eg6p3f34t2mDv36Uwa4B8DZKo8cE0JE8T2ne2lyS18W9bJkpfIoctcDjzsvFTg4NbEF3Y61q5v_6icxyJkB9JtS2JE1RjJxmBDOb_ETCLyIiN0Wlb9OdLX_HSdY3DRfnYNl3XAaPdqr8QifqidfdWI4YnJiJ3mYAgI-E37waZ0-1-Ykt-mpvUX1l_UvAdxqetGuC5Q"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS512"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xb_lFJbpaVuo7cWO7XADl0PsL4G97VFpFg3hIgRiJHQ"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vLY2u2q1gmzysPCbjq7mSDwh2oeRLZ3A047gn0-JsNWF2BZrgMUlB5cnKHOUPAD2ugHjUAOVMy_1d6FO2VBxV6i66KgWM_CMu0sqpmM-n7iUq8TCbpOX5mWczt3GutXPw960--LGyFTuuy2xi1wVYW1WbDIvb4oLo9b0G1eJIjvtSjmQ8tiBkiIxnRGKKxeZl0oTX99v6Z9X1aXoQ11y46l4_IGsN1b8ZWfBJ7Glyi80trWIs6z-EmZED6gdRushRT98GHofqTPRaaOnOJ1itHECj6U82ec6UU-IBtryGqUn_PQ9fUpI1Ru-0jGEcMY3aBZdZ4Uy_189ELK4jqn28w"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kong"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1535560520731</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1535560520379</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d9d5b731-55fe-4cad-829f-6aba4b2d8823"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b863b534069bfc0207197bcf831320d1cdc2cee2"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8h6tCwOYDPtzyFivNaIguQVc_yBO5eOA2kUu_MAN8s4VWn8tIfCbVvcAz3yNwQuGpkdNg8gTk9QmReXl4SE8m7aCa0iRcBBWLyPUt6TM1RkYE51rOGYhjWxo9V8ogMXSBclE6x0t8qFY00l5O34gjYzXtyvyBX7Sw5mGuNLVAzq2nsCTnIsHrIaBy70IKU3FLsJ_PRYyViXP1nfo9872q3mtn7bJ7_hqss0vDgUiNAqPztVIsrZinFbaTgXjLhBlUjFWgJx_g4p76CJkjQ3-puZRU5A0D04KvqQ_0AWcN1Q8pvwQ9V4uGHm6Bop9nUhIcZJYjjlTM9Pkx_JnVOfekw"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55b854edf35f093b4708f72dec4f15149836e8ac"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xul55cFjIY7QFMhl79y_3MWK4rHDRqTu-C2VxaPqxbLUSW-LJp8hotDeIOdMEawi2WFNUUCrOpSl33CtX3oFeq7ytLS6y5aosoQMLlguGHnU7FBNvw9kNtR41ykvLphU5YGJVr_JVFAqJPcpB9cEo6f6Mo9i8_gfsXMhkyrm5eqXDFlgDfgfJ_oaMyfkBmhLO2sjgdLguy_x6jg1Ys3WK2DfsI0q7X_esbEStEiV9M9lHOYsmdikKO-CPK6_c5zzJgiIjoND47WEtWuuOp_izV6BeojK9JFPHxcOnX71__sTWYl2iv7cZUNQQeH3Kub6gfpfVjCExy_5qKvtdMnzrw"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ba4aeae8b208ad9ae12b6610865f63961287b6d6"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f7xnpGKS5pq7l2nE0iLQ1SYX3MVeOxFDdqzTLOzU_JCNrl_w0a3f1Ry0nRPGMjONaBodUAKKgVbTKT3v88Y8-8l4BAk7lnw0fjw404MfDCt2lHaLVY_WjCHfltsUbCklta_eSN92bYQX81wmlGhwWW5kAyagTkpsPGb04zZLWTPR5fYffdYfRY1r65VmzrZaniEq4HQUr49swKmH5yyqF_HrtkpXXAcqmPlsoh1rwm1G1fsDTiNgwhJD54oZ1z5h-_8S4a0XV5cfrAQw6zzRw2Yfe6_FSXVJdJjZ_qZmY_Eqay3Wv-FDr0mZGZg6RmTtDt5208lwUcB4j49kczUhw"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.googleapis.com/oauth2/v3/certs"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1535560520379</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="cached-jwks-admin-api-endpoint-for-a-key-set">Cached JWKS Admin API Endpoint for a Key Set</h3>

<p>A particular keyset can be accessed in another endpoint:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET kong:8001/jwt-signer/jwks/&lt;name-or-id&gt;
</span></code></pre></div></div>

<p>E.g.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> GET http://&lt;kong&gt;:8001/jwt-signer/jwks/kong
</code></pre></div></div>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v6el8V8dbrKY5w2PInkM468aSuODrKcfbt-44xdDIjk"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uJzCU_TangWMFk25_JggtkVNjtFfaaz3jERYEYrsb92KFK4FpjfenYYeo8XCGLphn-NcYJroHy3aVznTvU3O8B-5z27uFgXUzk_m-fJ5C4cyqBaJS_myuMOnx0SBl-V6rIGmbdAd0rxsR9SK4JXaZ7xPnQKl8Z6N_Be2iWzf8RUzgM51x7RLQWr55DXBz5IS0O3uYi0z2_xaTyhvZ01aGMGO8Jom1QZkSf2SBGVvQiff464wB_R9Uw8bnbDw6SI0A7JbvSTj80dsoB5YJaR6OZ7XzJX53J1-efiEPc-JTXnqsN1xd-7DbrwpGSui7cGU79H7rG2o-DdVtz649JVXHw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SBFmMBtMQzjQEYPDQ_7H5emJzfjX4-FBVE22_SRy5oU"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rPcrSYQKnJNfMd0AF2t8JGSRdSSOeEPwSpPNyq6T13NXWLBDzzmZC8gNURFrsB8hkeY_KUNe3rVZz__6Vp7_h5PxWXKIUFJT18Gl8mSJ_4ohWUFziWdLV1rliZ671Uo5My2_McgRFI2DfHCWCe5XL5ApKPv9YFT684_FfKpnvTIn7_rVoyQYp3g9Ud_7X5hJGEuBa3HKSGPhn-zh1A0kxnLwNrLms4t3bQZMamuR0R3XYXr76OwU0xQMsqy3_DwV1DJ0z9o0gFV8GSkYWYllVNwfGPXiTSUvTKWIARGV60jUaoYB1sG5yXyhgBcWn-XX5wcOG--aGfdWwlnYF7p_ow"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The <code class="highlighter-rouge">http://&lt;kong&gt;:8001/jwt-signer/jwks/kong</code> being the URL that you can give to your
upstream services for them to verify Kong issued tokens. The response is a standard
JWKS endpoint response. The <code class="highlighter-rouge">kong</code> suffix in the URI is the one that you can specify
with <code class="highlighter-rouge">config.access_token_issuer</code> and/or <code class="highlighter-rouge">config.channel_token_issuer</code>.</p>

<p>You can also make a loop-back to this endpoint by routing Kong proxy to this URL.
Then you can use authentication plugin to protect access to this endpoint,
if that is needed.</p>

<p>You can also <code class="highlighter-rouge">DELETE</code> a keyset by issuing following:</p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">DELETE kong:8001/jwt-signer/jwks/&lt;name-or-id&gt;
</span></code></pre></div></div>

<p>E.g.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> DELETE http://&lt;kong&gt;:8001/jwt-signer/jwks/kong
</code></pre></div></div>

<p>The plugin will automatically reload or regenerate missing JWKS if it cannot
find a cached ones. The plugin will also try to reload JWKS if it cannot verify
the signature of original access token and/or channel token, e.g. in case where
the original issuer has rotated its keys and signed with the new one that is not
found in Kong cache.</p>

<h3 id="cached-jwks-admin-api-endpoint-for-a-key-set-rotation">Cached JWKS Admin API Endpoint for a Key Set Rotation</h3>

<p>Sometime you may want to rotate the keys Kong uses for signing tokens specified with
<code class="highlighter-rouge">config.access_token_keyset</code> and <code class="highlighter-rouge">config.channel_token_keyset</code>, or perhaps
reload tokens specified with <code class="highlighter-rouge">config.access_token_jwks_uri</code> and
<code class="highlighter-rouge">config.channel_token_jwks_uri</code>. Kong will store and use at maximum two set of keys:
<strong>current</strong> and <strong>previous</strong>. If you want Kong to forget the previous keys, you need to
rotate keys <strong>twice</strong>, as it will effectively store replace both <code class="highlighter-rouge">current</code> and <code class="highlighter-rouge">previous</code>
with newly generated tokens OR reloaded tokens (in case the keys are loaded from external
uri).</p>

<p>To rotate keys you can send <code class="highlighter-rouge">POST</code> request:</p>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST kong:8001/jwt-signer/jwks/&lt;name-or-id&gt;/rotate
</span></code></pre></div></div>

<p>E.g.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-X</span> POST http://&lt;kong&gt;:8001/jwt-signer/jwks/kong/rotate
</code></pre></div></div>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WL-MciVclsUiIOo1IFBozrFmCIGHcYieGGny3RiENbU"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sOIf20LLUMcwaScetGnnljjkla_uZ1xQbWOy5cUjiDqku1MqiRgSvI9lM0A6USa4xtqGEnAhE-wZG7fqdWIUPgm3gZxmB6JjIV3E32PjWUtiVAiJUId3dMaGn4FSzU-TTKFAIB-xfO_0qoccaGfjsh2E5qeBGK1IBznnaw3ShnqdB53kJkSS0xgZ3NyCwh4zfTb0XeJq0l8U9xS3IdaVMj5EBOFvo-DBMneyICgLQaLIEB2KQ64aN2al4sLhKCL_Ui02s1F0igLdUr0nyhe7iFK6YIyhERMviDmv_HW7CfFcNVvB-dbpIfW0Z9SX4CtkpaAHdY4HPZFneJ4VtqYQLQ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6EIBzS288AfTm1atFHICYZ4SvWY3X9jnZEYQT3uKfXw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zpxT7SlEmnWxquVwELysCCmrAkAvJb8eYHk3DLKEvjDDUVjA8u6KFoCBL6ySRg59kZESZ_30A0Oi1wWO85kUySlL_rtn-1PYPCUX_Yhsdoq0dYmD388l5VxRDdwVQh6c4VnbTZbJGk7RDm-dBe2xNwdfNs_C5f4pf-nGMyk1kqfgVRoYkrXuMAwd4xbeb-gh7ZdBNQO-LkMlLVGKbFe5bsnvG2ht202qx_VdHjN-spxbRUANCDRpPTAM1uEdB15EijZDLnwXZCywUsb0WIKA0bxxEJtH6tO7g8EujYqZB3Z-TaCq-dtq8lKT2FoRNx6-Zc3zVsRHb5RWqV2pgrKWZQ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v6el8V8dbrKY5w2PInkM468aSuODrKcfbt-44xdDIjk"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uJzCU_TangWMFk25_JggtkVNjtFfaaz3jERYEYrsb92KFK4FpjfenYYeo8XCGLphn-NcYJroHy3aVznTvU3O8B-5z27uFgXUzk_m-fJ5C4cyqBaJS_myuMOnx0SBl-V6rIGmbdAd0rxsR9SK4JXaZ7xPnQKl8Z6N_Be2iWzf8RUzgM51x7RLQWr55DXBz5IS0O3uYi0z2_xaTyhvZ01aGMGO8Jom1QZkSf2SBGVvQiff464wB_R9Uw8bnbDw6SI0A7JbvSTj80dsoB5YJaR6OZ7XzJX53J1-efiEPc-JTXnqsN1xd-7DbrwpGSui7cGU79H7rG2o-DdVtz649JVXHw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS512"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SBFmMBtMQzjQEYPDQ_7H5emJzfjX4-FBVE22_SRy5oU"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rPcrSYQKnJNfMd0AF2t8JGSRdSSOeEPwSpPNyq6T13NXWLBDzzmZC8gNURFrsB8hkeY_KUNe3rVZz__6Vp7_h5PxWXKIUFJT18Gl8mSJ_4ohWUFziWdLV1rliZ671Uo5My2_McgRFI2DfHCWCe5XL5ApKPv9YFT684_FfKpnvTIn7_rVoyQYp3g9Ud_7X5hJGEuBa3HKSGPhn-zh1A0kxnLwNrLms4t3bQZMamuR0R3XYXr76OwU0xQMsqy3_DwV1DJ0z9o0gFV8GSkYWYllVNwfGPXiTSUvTKWIARGV60jUaoYB1sG5yXyhgBcWn-XX5wcOG--aGfdWwlnYF7p_ow"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>


      

      
    
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <script>
/* eslint-disable */
  window.intercomSettings = {
    app_id: "gwoi3d8y"
  };
</script>

<script>
/* eslint-disable */
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/gwoi3d8y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>
 -->


    
<footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
            <iframe src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c" width="100%" height="60" type="text/html" frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </div>
        <div class="social">

          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
              aria-label="Meetup"
              class="fa fa-meetup"
              aria-hidden="true"
            ></i
          ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://github.com/kong/kong" target="blank" class="btn-gh">
              <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i> Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li><a href="http://konghq.com/kong/">Kong</a></li>
            <li><a href="http://konghq.com/kong-enterprise/">Kong Enterprise</a></li>
            <li><a href="http://konghq.com/cloud/">Kong Cloud</a></li>
            <li><a href="http://konghq.com/subscriptions/">Subscriptions</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a href="https://support.konghq.com" target="blank"
                >Enterprise Support</a
              >
            </li>
            <li>
              <a href="https://docs.konghq.com">Documentation</a>
            </li>
            <li><a href="http://konghq.com/partners/">Partners</a></li>
            <li><a href="http://konghq.com/webinars/">Webinars</a></li>
            <li><a href="http://konghq.com/ebooks/">Ebooks</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li><a href="http://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="http://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">News</a></li>
            <li>
              <a href="http://konghq.com/careers/">Careers <span>Hiring!</span></a>
            </li>
            <li><a href="http://konghq.com/kong-summit/">Kong Summit</a></li>
            <li><a href="http://konghq.com/contact/">Contact</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li><a href="http://konghq.com/install/">Install</a></li>
            <li><a target="blank" href="https://github.com/Kong/">GitHub</a></li>
            <li><a href="https://discuss.konghq.com/"">Kong Nation</a></li>
            <li><a href="http://konghq.com/community/">Community</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2019 &nbsp; <a href="http://konghq.com/terms/">Terms</a><b>•</b><a href="http://konghq.com/privacy/">Privacy</a></span>
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById('subscription_form').submit();
      document.getElementById('follow_up_subscription_form').submit();
      if (response.length == 0) {
        alert('reCaptcha verification failed');
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1565039645"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
      });

      function closeMenu(e) {
        var target = e.target; // Get target
        var menu = $('nav#pagesNav'); // Get menu container
        var header = $('header.navbar'); // Get header
        var toggler = $('.navbar-toggler'); // Get menu toggle btn

        // if clicked target is not the menu container/decendent of menu container, toggler or header close
        if (
          !menu.has(target).length > 0 &&
          !menu.is(target) &&
          !header.is(e.target) &&
          !toggler.is(e.target)
        ) {
          $('#pagesNav').removeClass('kong-navbar-collapse--expand');
          $('button[data-toggle="kong-expand"]').removeClass('active');
        }
      }

      // Close mobile menu when clicked outside
      $(window).on('click', function(e) {
        closeMenu(e);
      });

      // Close mobile menu on esc click
      $(document).keyup(function(e) {
        if (e.keyCode == 27) {
          closeMenu(e);
        }
      });

      // Offscreen Subnav Triggers

      jQuery('.trigger').click(function() {
        jQuery(this)
          .next()
          .addClass('active');
        jQuery('.trigger, .remove').addClass('active');
        jQuery('.kong-navbar-collapse_section').addClass('shift');
      });
      jQuery('.back').click(function() {
        jQuery('.kong-navbar-collapse_section').removeClass('shift');
        jQuery('.subnav, .trigger, .remove').removeClass('active');
      });
    </script>
    <script>
      // trigger overlay on nav hover
      jQuery('.kong-navbar-dropdown').hover(
        function(e) {
          jQuery('.overlay').addClass('active');
        }, // over
        function(e) {
          jQuery('.overlay').removeClass('active');
        } // out
      );
      jQuery(window).load(function() {
        jQuery('#oss_subnav').addClass('expand');
      });
      jQuery(window).scroll(function() {
        var scroll = jQuery(window).scrollTop();

        if (scroll >= 5) {
          jQuery('#oss_subnav').addClass('collapsed');
        } else {
          jQuery('#oss_subnav').removeClass('collapsed');
        }
      });
    </script>
  </body>

  
</html>
