<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>OpenID Connect plugin | Kong</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1553372466"
  />
  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id="/hub/kong-inc/openid-connect/0.31-x"
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top">
  <div class="container d-flex">
    <nav id="fullNav" class="col justify-content-md-end kong-navbar_nav">
      <ul class="navbar-nav left">
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Products</a>
          <div class="list-group products">
            <div class="list-group-item flex-row flex-nowrap mega row">
              <div class="kong-navbar-dropdown_column col-md-6">
                <h5 class="list-group-item-action">Service Control Platform</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/products/service-control-platform" class="list-group-item-action">Platform Overview</a>
                    <a href="http://konghq.com/products/kong-manager" class="list-group-item-action">Kong Manager</a>
                    <a href="http://konghq.com/api-dev-portal" class="list-group-item-action">Kong Dev Portal</a>
                    <a href="http://konghq.com/products/kong-vitals" class="list-group-item-action">Kong Vitals</a>
                    <a href="http://konghq.com/products/kong-brain" class="list-group-item-action">Kong Brain</a>
                    <a href="http://konghq.com/products/kong-immunity" class="list-group-item-action">Kong Immunity</a>
                  </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-6 offerings">
                <h5 class="list-group-item-action">Offerings</h5>
                <a href="http://konghq.com/kong/" class="list-group-item-action col-md-4">
                  Kong
                  <p class="mb-1 mini">The blazingly fast open source microservices API gateway.</p>
                </a>
                <a href="http://konghq.com/kong-enterprise/" class="list-group-item-action col-md-4">
                  Kong Enterprise
                  <p class="mb-1 mini">The next-generation API platform built on top of Kong.</p>
                </a>
                <a href="http://konghq.com/cloud" class="list-group-item-action col-md-4">
                  Kong Cloud
                  <p class="mb-1 mini">Kong Enterprise innovation delivered at cloud speed.</p>
                </a>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Solutions</a>
          <div class="list-group solutions">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="http://konghq.com/solutions/gateway" target="blank" class="list-group-item list-group-item-action">API Gateway
            <p>Take control of your microservices traffic with the world's most popular API gateway.</p>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/kubernetes-ingress" class="list-group-item list-group-item-action">Kubernetes Ingress
            <p>Own your Kubernetes cluster by extending Kong functionality as an ingress controller.</p>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/service-mesh/" class="list-group-item list-group-item-action">Service Mesh
            <p>Inject Kong as a sidecar for your services to go from mess to mesh.<br><br></p>
            </a>
            </div>
          </div>
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Open Source</a>
          <div class="list-group open-source">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="http://konghq.com/install" class="list-group-item list-group-item-action">Install
            <p>Deploy Kong on your environment and platform of choice.<br><br><br></p></a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/kubernetes-ingress" class="list-group-item list-group-item-action">Kubernetes Ingress
            <p>Own your Kubernetes cluster by extending Kong functionality as an ingress controller.</p></a>
            </div>
            <div class="list-item">
            <a href="https://github.com/Kong/" target="blank" class="list-group-item list-group-item-action">GitHub
            <p>Find code or file an issue for Kong’s code/documentation.<br><br></p></a>
            </div>
            <div class="list-item">
            <a href="https://discuss.konghq.com/" class="list-group-item list-group-item-action">Kong Nation
            <p>Get help from Kong engineers and community members.<br><br></p></a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/community" class="list-group-item list-group-item-action">Community
            <p>Join the Kong community to find help or contribute to Kong.<br><br><br></p></a>
            </div>
          </div>
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item">
          <a href="https://docs.konghq.com/hub" class="nav-link">Hub</a>
        </li>
    </ul>
    <a href="http://konghq.com/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/Kogo-gradient.svg" alt="Kong">
    </a>
    <ul class="navbar-nav right">
      <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Docs</a>
          <div class="list-group docs">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="https://docs.konghq.com" class="list-group-item list-group-item-action">Kong Docs + Getting Started
              <p>Use the 5-minute quickstart and installation guide to deploy Kong now.</p></a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise" class="list-group-item list-group-item-action">Deploy Kong Enterprise
            <p>Use the quickstart and reference materials to launch Kong Enterprise today.</p></a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/latest/vitals" class="list-group-item list-group-item-action">Master Kong Vitals
            <p>Learn how to implement Vitals and optimize it for your deployment.</p></a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/" class="list-group-item list-group-item-action">Launch your Dev Portal
            <p>Learn how to create and manage your Kong Dev Portal.<br><br></p></a>
            </div>
          </div>
          </div>
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Resources</a>
          <div class="list-group products resources">
            <div class="list-group-item flex-row flex-nowrap mega row">
              <div class="kong-navbar-dropdown_column col-md-4">
                <h5 class="list-group-item-action">Connect</h5>
                <div class="inner-wrap">
                <a href="http://konghq.com/community" class="list-group-item-action">Community</a>
                <a href="https://discuss.konghq.com/" class="list-group-item-action">Kong Nation</a>
                <a href="https://github.com/Kong/" class="list-group-item-action">GitHub</a>
                <a href="http://konghq.com/kong-summit" class="list-group-item-action">Kong Summit</a>
                </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-2">
                <h5 class="list-group-item-action">Get Support</h5>
                <div class="inner-wrap">
                <a href="https://support.konghq.com" class="list-group-item-action">Enterprise Support Portal</a>
                <a href="http://konghq.com/faqs/" class="list-group-item-action">FAQs</a>
                </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-6 learn">
                <h5 class="list-group-item-action">Learn</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/blog" class="list-group-item-action col-md-3">Blog</a>
                    <a href="http://konghq.com/ebooks" class="list-group-item-action col-md-3">Ebooks</a>
                    <a href="http://konghq.com/webinars" class="list-group-item-action col-md-3">Webinars</a>
                    <a href="http://konghq.com/briefs" class="list-group-item-action col-md-3">Briefs</a>
                  </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Company</a>
          <div class="list-group company">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item icon">
            <a href="http://konghq.com/about-kong-inc" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-about.svg" alt="about"><span>About</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/investors" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-investors.svg" alt="investors"><span>Investors</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/careers" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-careers.svg" alt="careers"><span>Careers</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/partners" class="list-group-item list-group-item-action"><img class="partners" src="/assets/images/nav/icn-partners.svg" alt="partners"><span>Partners</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/brand" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-press.svg" alt="press"><span>Press</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/contact" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-contact.svg" alt="contact"><span>Contact</span></a>
            </div>
          </div>
          </div>
        </li>
        <li class="kong-navbar_nav_link kong-navbar_nav_link--cta"><a class="nav-link btn btn-outline-secondary transparent" href="http://konghq.com/request-demo">Request Demo</a></li>
      </ul>
    </nav>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
  </div>
</header>
<!---- Mobile Navigation ----->
<nav id="pagesNav" class="fixed-top hidden-xl-up kong-navbar-collapse">
<div class="btnwrap">
      <a class="btn" href="http://konghq.com/request-demo">Request Demo</a>
      <a href="http://konghq.com/install" class="btn btn-primary">Installation</a>
    </div>
  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-left">
    <h5 class="col-12 trigger">
      <a class="nav-link">Products &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Products</a></h5>
        <div class="col-md-6">
          <h6>Service Control Platform</h6>
          <a class="nav-link" href="http://konghq.com/products/service-control-platform">Platform Overview</a>
          <a class="nav-link" href="http://konghq.com/products/kong-manager">Kong Manager</a>
          <a class="nav-link" href="http://konghq.com/api-dev-portal">Kong Dev Portal</a>
          <a class="nav-link" href="http://konghq.com/products/kong-vitals">Kong Vitals</a>
          <a class="nav-link" href="http://konghq.com/products/kong-brain">Kong Brain</a>
          <a class="nav-link" href="http://konghq.com/products/kong-immunity">Kong Immunity</a>
        </div>

        <div class="col-md-6">
          <h6>Offerings</h6>
          <div class="row">
            <div class="col-4">
              <a class="nav-link" href="http://konghq.com/kong/">Kong</a>
              <a class="nav-link" href="http://konghq.com/kong-enterprise/">Kong Enterprise</a>
              <a class="nav-link" href="http://konghq.com/cloud">Kong Cloud</a>
            </div>
          </div>
        </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="trigger">
      <a class="nav-link">Solutions &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Solutions</a></h5>
      <div class="col-md-6">
              <a class="nav-link" href="http://konghq.com/solutions/gateway/">API Gateway</a>
              <a class="nav-link" href="http://konghq.com/solutions/kubernetes-ingress/">Kubernetes Ingress</a>
              <a class="nav-link" href="http://konghq.com/solutions/service-mesh/">Service Mesh</a>
      </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="trigger">
      <a class="nav-link">Open Source &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Open Source</a></h5>
      <div class="col-md-6">
        <a class="nav-link" href="http://konghq.com/install/">Install</a>
        <a class="nav-link"  target="blank" href="https://github.com/Kong/">GitHub</a>
        <a class="nav-link" href="https://discuss.konghq.com/">Kong Nation</a>
        <a class="nav-link" href="http://konghq.com/community/">Community</a>
      </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="remove">
      <a class="nav-link" href="https://docs.konghq.com/hub">Hub</a>
    </h5>
  </div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Docs &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Docs</a></h5>
      <div class="col-md-6">
      <a class="nav-link" href="https://docs.konghq.com/">Kong</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/">Kong Enterprise</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/latest/vitals/">Kong Vitals</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/">Dev Portal</a>
      </div>
    </div>
  </div>


  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-right">
    <h5 class="col-12 trigger">
      <a class="nav-link">Resources &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Resources</a></h5>
      <div class="col-md-6">
          <h6>Connect</h6>
          <a class="nav-link" href="http://konghq.com/community/">Community</a>
          <a class="nav-link" href="https://discuss.konghq.com/">Kong Nation</a>
          <a class="nav-link" href="https://github.com/Kong/">GitHub</a>
          <a class="nav-link" href="http://konghq.com/kong-summit/">Kong Summit</a>
        </div>
        <div class="col-md-6">
          <h6>Get Support</h6>
          <a class="nav-link" href="https://support.konghq.com">Enterprise Support Portal</a>
        </div>

        <div class="col-md-6">
          <h6 class="shot-top">Learn</h6>
          <a class="nav-link" href="http://konghq.com/blog">Blog</a>
          <a class="nav-link" href="http://konghq.com/ebooks">Ebooks</a>
          <a class="nav-link" href="http://konghq.com/webinars">Webinars</a>
          <a class="nav-link" href="http://konghq.com/briefs">Briefs</a>
        </div>
  </div>

</div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Company &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
      <div class="subnav">
        <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Company</a></h5>
        <div class="col-md-6">
          <a class="nav-link" href="http://konghq.com/about-kong-inc">About</a>
          <a class="nav-link" href="http://konghq.com/investors">Investors</a>
          <a class="nav-link" href="/careers">Careers</a>
          <a class="nav-link" href="http://konghq.com/partners">Partners</a>
          <a class="nav-link" href="http://konghq.com/brand">Press</a>
          <a class="nav-link" href="http://konghq.com/contact">Contact</a>
        </div>
      </div>
  </div>
  <div class="hidden-md-up kong-navbar-collapse_section kong-navbar-collapse_section--buttons">
  </div>
</nav>
</header>
<div class="overlay"></div>


    















<!-- BEGIN PAGE OUTPUT -->

<div class="page page-extension-profile">
  
    


  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/hub/kong-inc_openid-connect.png" />
        </div>
      

      <div class="page-header-title">
        

        <h1>OpenID Connect</h1>

        
      </div>

      

      
    </div>
  </header>


  

  <div class="container">

    
      <div class="versions-dropdown dropdown page-header-right">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
          Plugin Version 0.31-x
          
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
            
            <li >
              <a href="/hub/kong-inc/openid-connect/">
                0.34-x <em>(latest)</em>
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/openid-connect/0.33-x.html">
                0.33-x 
              </a>
            </li>
          
            
            <li >
              <a href="/hub/kong-inc/openid-connect/0.32-x.html">
                0.32-x 
              </a>
            </li>
          
            
            <li  class="active" >
              <a href="/hub/kong-inc/openid-connect/0.31-x.html">
                0.31-x 
              </a>
            </li>
          
        </ul>
      </div>
    

    

    <aside class="page-navigation">
      <span class="close-sidebar">Close Sidebar</span>
      
        <nav>
          <ul>
  <li><a href="#terminology">Terminology</a></li>
  <li><a href="#configuration">Configuration</a>
    <ul>
      <li><a href="#global-plugins">Global plugins</a></li>
      <li><a href="#parameters">Parameters</a></li>
      <li><a href="#kong-openid-connect-plugin">Kong OpenID Connect Plugin</a></li>
      <li><a href="#contents">Contents</a></li>
      <li><a href="#terminology">Terminology</a></li>
      <li><a href="#use-cases">Use Cases</a></li>
      <li><a href="#features">Features</a></li>
      <li><a href="#openid-connect-plugin">OpenID Connect Plugin</a></li>
      <li><a href="#compatibility">Compatibility</a></li>
    </ul>
  </li>
</ul>

        </nav>
      

      <table id="about-extn">
        <tr>
          <th colspan="2">About this Plugin</th>
        </tr>
        <tr class="publisher">
          <td>Made by</td>
          <td>
          
            
<svg width="78" height="15" xmlns="http://www.w3.org/2000/svg">
  <g fill="none" fill-rule="evenodd">
    <path d="M23.685 7.372l-1.217 1.265V12h-1.313V2.047h1.313v4.922l4.423-4.922h1.586L24.56 6.442 28.784 12h-1.572l-3.527-4.628zm5.714.861c0-.724.143-1.376.428-1.955a3.187 3.187 0 0 1 1.19-1.34c.507-.314 1.087-.471 1.739-.471 1.007 0 1.822.348 2.444 1.046.622.697.933 1.624.933 2.782v.089c0 .72-.138 1.366-.414 1.938a3.14 3.14 0 0 1-1.182 1.336c-.513.32-1.102.479-1.767.479-1.003 0-1.815-.349-2.437-1.046-.623-.697-.934-1.62-.934-2.769v-.089zm1.272.15c0 .821.19 1.48.57 1.976.381.497.89.745 1.529.745.642 0 1.153-.251 1.53-.755.379-.503.568-1.209.568-2.116 0-.81-.192-1.468-.577-1.972-.386-.503-.897-.755-1.535-.755-.624 0-1.128.248-1.51.745-.384.497-.575 1.208-.575 2.133zm8.244-3.78l.041.93c.565-.71 1.303-1.066 2.215-1.066 1.563 0 2.351.882 2.365 2.645V12h-1.265V7.105c-.004-.533-.126-.927-.365-1.182-.24-.255-.612-.383-1.118-.383-.41 0-.77.11-1.08.328-.31.219-.551.506-.725.861V12H37.72V4.604h1.196zm6.228 3.637c0-1.153.266-2.07.8-2.751.533-.682 1.239-1.022 2.119-1.022.902 0 1.606.319 2.112.957l.061-.82h1.156v7.218c0 .957-.284 1.712-.851 2.263-.568.551-1.33.827-2.287.827a3.804 3.804 0 0 1-1.566-.342c-.51-.228-.9-.54-1.168-.936l.656-.759c.542.67 1.205 1.005 1.99 1.005.614 0 1.094-.173 1.438-.52.344-.346.516-.834.516-1.463v-.635c-.506.583-1.196.875-2.071.875-.866 0-1.567-.349-2.102-1.046-.536-.697-.803-1.648-.803-2.85zm1.271.144c0 .834.171 1.489.513 1.965.342.476.82.714 1.435.714.798 0 1.383-.362 1.757-1.086V6.6c-.387-.707-.968-1.06-1.743-1.06-.615 0-1.096.24-1.442.718-.347.478-.52 1.187-.52 2.126zM58.37 12h-1.312V2.047h1.312V12zm3.398-7.396l.04.93c.566-.712 1.304-1.067 2.215-1.067 1.564 0 2.352.882 2.366 2.645V12h-1.265V7.105c-.005-.533-.126-.927-.366-1.182-.239-.255-.612-.383-1.117-.383-.41 0-.77.11-1.08.328-.31.219-.552.506-.725.861V12H60.57V4.604h1.197zm9.495 6.5c.45 0 .845-.136 1.182-.41.338-.273.524-.615.56-1.025h1.197a2.293 2.293 0 0 1-.437 1.21 2.881 2.881 0 0 1-1.077.916 3.107 3.107 0 0 1-1.425.342c-1.007 0-1.808-.336-2.403-1.009-.595-.672-.892-1.591-.892-2.758v-.212c0-.72.132-1.36.396-1.92a3.02 3.02 0 0 1 1.138-1.306c.495-.31 1.08-.465 1.754-.465.83 0 1.519.248 2.068.745.549.497.842 1.142.878 1.934h-1.196c-.037-.478-.218-.871-.544-1.179-.325-.307-.728-.461-1.206-.461-.643 0-1.14.231-1.494.694-.353.462-.53 1.131-.53 2.006v.24c0 .852.176 1.508.527 1.968.35.46.852.69 1.504.69zm4.388.233c0-.219.065-.401.195-.547.13-.146.325-.219.585-.219.26 0 .457.073.591.219a.776.776 0 0 1 .202.547c0 .21-.068.385-.202.526-.134.142-.332.212-.591.212-.26 0-.455-.07-.585-.212a.748.748 0 0 1-.195-.526z" fill="#002A49"/>
    <path fill="#149DCB" d="M5.143 11.531l-.385.487.87 1.355-.09.627H9.23l.255-.627-1.484-1.842z"/>
    <path fill="#0EB399" d="M7.162 3.284l-1.335 2.33 6.514 7.682-.186.704h2.988l.542-2.499-6.971-8.22z"/>
    <path fill="#3DB664" d="M9.93 0L8.049 1.532l-.635 1.166H8.99l2.705 3.207 1.608-1.316v-.836l-.559-.781.413-.428z"/>
    <path fill="#17BDCB" d="M3.2 8.024h-.88L0 10.96V14h2.489l.438-.57 1.921-2.478h2.776l.855-1.304-3.01-3.562z"/>
  </g>
</svg>


          
          </td>
        </tr>
        <tr class="categories">
          <td>Categories</td>
          <td>
            <ul class="categories">
            
              
              <li><a href="/hub/#authentication">Authentication</a></li>
            
            </ul>
          </td>
        </tr>
        
        
        
        
          <tr class="kong-editions">
            <th colspan="2">
              
                Bundled with...
              
            </th>
          </tr>
          <tr class="kong-compatibility">
            <td colspan="2">
              <ul class="compat-list">
              
                
              
                
              
                
              
                
                  
                  <h6>Kong Enterprise</h6>
                  
                  <li>
                  
                    <i class="fa fa-check"></i>
                  0.31-x
                  </li>
                
              
              </ul><ul class="compat-list">
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
                
              
              </ul>
            </td>
          </tr>
        
        
          <tr>
            <th colspan="2">Other Versions</th>
          </tr>
          <tr>
            <td colspan="2">
              <ul class="extn-versions">
              
                
                  
                  <li>
                    <a href="/hub/kong-inc/openid-connect/">
                      0.34-x </a>
                      <em>(latest)</em>
                  </li>
                
              
                
                  
                  <li>
                    <a href="/hub/kong-inc/openid-connect/0.33-x.html">
                      0.33-x </a>
                      
                  </li>
                
              
                
                  
                  <li>
                    <a href="/hub/kong-inc/openid-connect/0.32-x.html">
                      0.32-x </a>
                      
                  </li>
                
              
                
              
              </ul>
            </td>
          </tr>
        
      </table>

    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content show-anchor-links">
          
      

      
        <div class="alert alert-warning">
          <strong>Kong Enterprise only</strong>: This plugin is only available with a <a href="https://konghq.com/kong-enterprise-edition">Kong Enterprise subscription</a>.
        </div>

        Please inquire about Kong Enterprise by <a href="https://konghq.com/request-demo">contacting us</a> - or start a <a href="https://konghq.com/free-trial/">free trial</a> today.
        <hr>
      

      <p>OpenID Connect (<a href="http://openid.net/specs/openid-connect-core-1_0.html">1.0</a>) plugin allows the integration with a 3rd party
identity provider (IdP) or <a href="/plugins/oauth2-authentication/">Kong OAuth 2.0 Plugin</a> in a standardized way.
This plugin can be used to implement Kong as a (proxying) <a href="https://tools.ietf.org/html/rfc6749">OAuth 2.0</a> resource
server (RS) and / or as an OpenID Connect relying party (RP) between the client
and the upstream service.</p>

<p>The plugin supports several types of credentials, including:</p>

<ul>
  <li>Signed <a href="https://tools.ietf.org/html/rfc7519">JWT</a> access tokens (<a href="https://tools.ietf.org/html/rfc7515">JWS</a>) with the standardized signing algorithms (<a href="https://tools.ietf.org/html/rfc7518">JWA</a>)</li>
  <li>Opaque access tokens with either Kong OAuth 2.0 plugin issued tokens or
3rd party IdP issued ones through token introspection (IdP needs to support it)</li>
  <li>Username and password through the OAuth 2.0 password grant (the plugin will
automatically exchange such credentials with access token by calling the IdP’s token
endpoint)</li>
  <li>Client id and secret through the OAuth 2.0 client credentials grant (the plugin
will automatically exchange such credentials with access token by calling the IdP’s
token endpoint)</li>
  <li>Authorization code that the OpenID Connect plugin can retrieve from the client when using
OpenID Connect authorization code flow</li>
  <li>Session cookie credentials that the plugin can setup between the client and Kong
(usually used with web browser clients together with authorization code grant)</li>
</ul>

<p>This plugin can automatically refresh the access token using a refresh token.</p>

<p>You can either let the plugin to exclusively talk your IdP as a trusted client
(and let it do all the credential exchange) or you can let clients talk to IdP
directly, and then present access token to the upstream service protected with
the OpenID Connect plugin (or you can do both).</p>

<p>Some of the capabilities of the plugin are listed below:</p>

<ul>
  <li><a href="https://tools.ietf.org/html/rfc7033">WebFinger</a> and <a href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery</a></li>
  <li><a href="http://openid.net/specs/openid-connect-core-1_0.html#IDToken">ID Token</a> verification</li>
  <li><a href="http://openid.net/specs/openid-connect-core-1_0.html#UserInfo">UserInfo</a> endpoint data injecting</li>
  <li><a href="http://openid.net/specs/openid-connect-session-1_0.html#RPLogout">RP-Initiated Logout</a></li>
  <li><a href="https://tools.ietf.org/html/rfc7009">OAuth 2.0 Token Revocation</a> during the logout (optionally)</li>
  <li><a href="https://tools.ietf.org/html/rfc7662">OAuth 2.0 Token Introspection</a> support</li>
  <li><a href="https://tools.ietf.org/html/rfc7636">OAuth 2.0 Proof Key for Code Exchange</a> (PKCE) support</li>
  <li>Standard and configurable claims verification</li>
  <li>Caching (optional) of token, introspection and user info endpoint request</li>
</ul>

<p>The plugin has been tested with several OpenID Connect capable providers such as:</p>

<ul>
  <li><a href="https://auth0.com/docs/protocols/oidc">Auth0</a></li>
  <li><a href="https://connect2id.com/products/server">Connect2id</a></li>
  <li><a href="https://github.com/coreos/dex/blob/master/Documentation/openid-connect.md">Dex</a></li>
  <li><a href="https://gluu.org/docs/ce/api-guide/openid-connect-api/">Gluu</a></li>
  <li><a href="https://developers.google.com/identity/protocols/OpenIDConnect">Google</a></li>
  <li><a href="https://identityserver4.readthedocs.io/">IdentityServer4</a></li>
  <li><a href="http://www.keycloak.org/documentation.html">Keycloak</a></li>
  <li><a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-protocols-openid-connect-code">Microsoft Azure Active Directory v1</a></li>
  <li><a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-v2-protocols-oidc">Microsoft Azure Active Directory v2</a></li>
  <li>Microsoft Live Connect</li>
  <li><a href="https://developer.okta.com/docs/api/resources/oidc.html">Okta</a></li>
  <li><a href="https://developers.onelogin.com/openid-connect">OneLogin</a></li>
  <li><a href="https://backstage.forgerock.com/docs/openam/13.5/admin-guide/#chap-openid-connect">OpenAM</a></li>
  <li><a href="https://developer.paypal.com/docs/integration/direct/identity/log-in-with-paypal/">Paypal</a></li>
  <li><a href="https://documentation.pingidentity.com/pingfederate/">PingFederate</a></li>
  <li><a href="https://developer.salesforce.com/page/Inside_OpenID_Connect_on_Force.com">Salesforce</a></li>
  <li><a href="https://developer.yahoo.com/oauth2/guide/openid_connect/">Yahoo!</a></li>
</ul>

<p>As long as your provider supports OpenID Connect standards the plugin should
work, even if it is not specifically tested against it. Let us know if you
want your provider to be tested and added to the list.</p>

<p>Once applied, any user with a valid credential can access the Service/API.
To restrict usage to only some of the authenticated users, also add the
<a href="/plugins/acl/">ACL</a> plugin (not covered here) and create whitelist or
blacklist groups of users.</p>


      
        <hr>
        <h2 id="terminology">Terminology</h2>
        <ul>
          <li><code>plugin</code>: a plugin executing actions inside Kong before or after a request has been proxied to the upstream API.</li>

          
          
          
            <li><code>upstream service</code>: this refers to your own API/service sitting behind Kong, to which client requests are forwarded.</li>
          
        </ul>
      

      

      
        <h2 id="configuration">Configuration</h2>
        
        
        
        

        <h3 id="global-plugins">Global plugins</h3>

        <p>All plugins can be configured using the <code>http://kong:8001/plugins/</code> endpoint. A plugin which is not associated to any Service,
          Route or Consumer (or API, if you are using an older version of Kong) is considered "global", and will be run on every request.
          Read the <a href="/latest/admin-api/#add-plugin">Plugin Reference</a> and the
          <a href="/latest/admin-api/#precedence">Plugin Precedence</a> sections for more information.
        </p>

        <h3 id="parameters">Parameters</h3>

        <p>Here's a list of all the parameters which can be used in this plugin's configuration: </p>

        
<table>
  <thead>
    <tr><th>form parameter</th><th>default</th><th>description</th></tr>
  </thead>
  <tbody>
    <tr><td><code>name</code></td><td></td><td>The name of the plugin to use, in this case <code></code></td></tr>

    
    
      <tr><td><code>enabled</code></td><td><code>true</code></td><td>Whether this plugin will be applied.</td></tr>
    
    
    
  </tbody>
</table>


      

      


      <h3 id="kong-openid-connect-plugin">Kong OpenID Connect Plugin</h3>

<p>The Kong OpenID Connect plugin provides a general-purpose OpenID Connect toolkit.</p>

<h3 id="contents">Contents</h3>

<ul>
  <li><a href="#terminology">Terminology</a></li>
  <li><a href="#use-cases">Use Cases</a></li>
  <li><a href="#features">Features</a></li>
  <li><a href="#openid-connect-plugin">OpenID Connect Plugin</a>
    <ul>
      <li><a href="#configuration-parameters">Configuration Parameters</a></li>
      <li><a href="#authorization">Authorization</a></li>
      <li><a href="#usage">Usage</a></li>
    </ul>
  </li>
  <li><a href="#compatibility">Compatibility</a></li>
</ul>

<h3 id="terminology">Terminology</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Term</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">OP</code></td>
      <td>OpenID Connect Provider</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">RP</code></td>
      <td>OpenID Connect Relying Party</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JOSE</code></td>
      <td>JSON Object Signing and Encryption</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JWA</code></td>
      <td>JSON Web Algorithms</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JWT</code></td>
      <td>JSON Web Token</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JWS</code></td>
      <td>JSON Web Signature</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JWE</code></td>
      <td>JSON Web Encryption</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">JWK</code></td>
      <td>JSON Web Key</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">PKCE</code></td>
      <td>Proof-Key for Code Exchange</td>
    </tr>
  </tbody>
</table>

<h3 id="use-cases">Use Cases</h3>

<h4 id="protecting-server-to-server-api-access">Protecting Server to Server API Access</h4>

<p>For server-to-server we recommend you to use OAuth 2.0 <strong>client credentials</strong> grant
that is enhanced with OpenID Connect features (such as standardized security
feature, and automatic discovery). Client credentials are easier to revoke than
say password credentials without affecting too many things.</p>

<h4 id="protecting-interactive-browser-based-api--web-site-access">Protecting Interactive Browser based API / Web Site Access</h4>

<p>The best method to use here is to use OpenID Connect Authentication using
*authorization code** flow. Kong sets up a session with the browser. After
initial authentication the browser will send the cookie automatically —
even when making API requests using JavaScript. With authorization code
flow you can usually utilize stronger authentication methods such as
two-factor authentication on your identity provider.</p>

<h4 id="protecting-access-to-apis-from-1st-party-client">Protecting Access to APIs from 1st Party Client</h4>

<p>Here you can use OAuth 2.0 <strong>password grant</strong> that is enhanced with OpenID
Connect features.</p>

<h4 id="protecting-access-to-apis-with-stateless-jwt-tokens">Protecting Access to APIs with Stateless JWT Tokens</h4>

<p>When you have JWT (or JWS to be more specific) available for your client,
that is possibly issued directly from the identity provider (e.g. by using
implicit flow), and want you to use that token to access API protected by
Kong, you should use a plugin that provides you OpenID Connect aware
stateless verification.</p>

<h4 id="accessing-apis-from-basic-authentication-aware-client">Accessing APIs from Basic Authentication Aware Client</h4>

<p>Basic authentication is supported in many 3rd party clients. One such client
is Microsoft Excel. The <code class="highlighter-rouge">openid-connect</code> plugin allows you to supply username
and password or client id and client secret using normal basic authentication
headers.</p>

<h3 id="features">Features</h3>

<h4 id="openid-connect-discovery">OpenID Connect Discovery</h4>

<p>The plugins do support OpenID Connect Discovery as defined in
<a href="http://openid.net/specs/openid-connect-discovery-1_0.html">the specification</a>.</p>

<p><img src="/assets/images/docs/ee/plugins/openid-connect-discovery.png" alt="OpenID Connect Discovery Sequence Diagram" title="OpenID Connect Discovery Sequence Diagram" /></p>

<h4 id="jwa-signing-algorithms">JWA Signing Algorithms</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Algorithm</th>
      <th style="text-align: center">Signing</th>
      <th style="text-align: center">Verification</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">HS256</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">HS384</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">HS512</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">RS256</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">RS384</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code> ¹</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">RS512</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">ES256</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">ES384</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">ES512</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">PS256</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">PS384</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">PS512</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code> ²</td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p>¹⁾ there is currently no support for using <code class="highlighter-rouge">SHA384</code> with RSA signatures,
   since there’s no gain in either computation time nor message size
   compared to using <code class="highlighter-rouge">SHA256</code> or <code class="highlighter-rouge">SHA512</code>, respectively.</p>

<p>²⁾ for security purposes we have decided not to support <code class="highlighter-rouge">none</code>
   signing algorithm at this point. We might add it later, though.</p>

<p>At this point we are mostly focusing on the <code class="highlighter-rouge">RP</code> side of OpenID
Connect, and that’s why we have not bothered with signing algorithms
as none of our plugins do use them. The signature verification support
is rather complete.</p>

<h4 id="jwt-serialization-formats">JWT Serialization Formats</h4>

<p>This is what the plugins currently support for <code class="highlighter-rouge">JWT</code> serializations.
The table may change in a future as further features get implemented.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Compact Serialization</th>
      <th style="text-align: center">JSON Serialization</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">JWS</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">JWE</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<h3 id="openid-connect-plugin">OpenID Connect Plugin</h3>

<p>The OpenID Connect plugin supports a variety of authentication and authorization methods:</p>

<ul>
  <li>OAuth 2.0 Password Grant</li>
  <li>OAuth 2.0 Client Credentials Grant</li>
  <li>OpenID Connect 1.0 / OAuth 2.0 Authorization Code Flows</li>
  <li>JWT Bearer Tokens (both signature and claims validations)</li>
  <li>OAuth 2.0 Introspection (verifying opaque tokens)</li>
  <li>Kong OAuth 2.0 Authentication Plugin issued tokens</li>
  <li>Refreshing expired access token with refresh token, if available</li>
  <li>Session authentication with a HTTP Only session cookie sent by this plugin</li>
</ul>

<p>This plugin <strong>exchanges</strong> credentials and injects <strong>access token</strong> as a <strong>bearer</strong>
token into <code class="highlighter-rouge">Authorization</code> HTTP header.</p>

<h4 id="configuration-parameters">Configuration Parameters</h4>

<p>As OpenID Connect can be used in many ways, the plugin has many parameters. Some of the settings
are used only in some flows, and others are used more broadly. Generally speaking, while parameters are optional,
requirements will vary depending on your use case and identity provider.</p>

<h5 id="descriptions">Descriptions</h5>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Parameter ¹</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">issuer</code></td>
      <td>The issuer <code class="highlighter-rouge">url</code> from which OpenID Connect configuration can be discovered.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_arg</code></td>
      <td>Allows you to define client argument name used to pick up the right client configuration.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_id</code></td>
      <td>The <code class="highlighter-rouge">client_id</code> of the OpenID Connect client registered in OpenID Connect Provider.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_secret</code></td>
      <td>The <code class="highlighter-rouge">client_secret</code> of the OpenID Connect client registered in OpenID Connect Provider.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">redirect_uri</code></td>
      <td>The <code class="highlighter-rouge">redirect_uri</code> of the client defined with <code class="highlighter-rouge">client_id</code> (also used as a redirection uri on authorization code flow).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_redirect_uri</code></td>
      <td>If <code class="highlighter-rouge">login_action</code> is <code class="highlighter-rouge">redirect</code>, here you can set up the redirection url for that.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_redirect_uri</code></td>
      <td>On logout this is the url where the client is redirected after logout is done (used also for <code class="highlighter-rouge">post_logout_redirect_uri</code>)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">scopes</code></td>
      <td>The scopes to be requested from OP.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">response_mode</code></td>
      <td>The response mode used with authorization endpoint (e.g. authorization code flow)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">auth_methods</code></td>
      <td>The supported authentication methods you want to enable.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">audience</code></td>
      <td>The audience that are allowed to receive access token (specifically for <code class="highlighter-rouge">aud</code> claim verification).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">domains</code></td>
      <td>The domains to be verified against the <code class="highlighter-rouge">hd</code> claim.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">max_age</code></td>
      <td>The <code class="highlighter-rouge">max_age</code> (in seconds) for the previous authentication, specifically the <code class="highlighter-rouge">auth_time</code> claim.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_cookie_name</code></td>
      <td>The name of authorization code flow cookie that is used for verifying the responses from OpenID Connect provider.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">session_cookie_name</code></td>
      <td>The name of session cookie when session authentication is enabled.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">jwt_session_cookie</code></td>
      <td>Name of the cookie that contains a value for a claim defined with <code class="highlighter-rouge">session_claim</code> (used only for additional JWT verification).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">jwt_session_claim</code></td>
      <td>Name of the claim that is checked against the <code class="highlighter-rouge">session_cookie</code> (used only for additional JWT verification).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">reverify</code></td>
      <td>When <code class="highlighter-rouge">session</code> authentication method is used, you can enable reverification of signatures and claims of the tokens using this parameter.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">id_token_param_name</code></td>
      <td>The name of the payload parameter where the ID token is delivered for verification.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">id_token_param_type</code></td>
      <td>The types of delivery mechanisms for the ID token parameter.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_names</code></td>
      <td>Extra arguments names that you want to include in authorization endpoint query string</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_values</code></td>
      <td>Values for the extra arguments that you want to include in authorization endpoint query string</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_client</code></td>
      <td>These parameters are passed from client request to authorization endpoint (use this for parameters such as <code class="highlighter-rouge">login_hint</code>).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_post_args_names</code></td>
      <td>Extra arguments names that you want to include in token endpoint post args.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_post_args_values</code></td>
      <td>Values for the extra arguments that you want to include in token endpoint post args.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_client</code></td>
      <td>When Kong calls token endpoint, you can specify the headers that Kong will pass to token endpoint from client request headers.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_replay</code></td>
      <td>When Kong calls token endpoint, you can specify the headers that you want the Kong to send back to the client.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_prefix</code></td>
      <td>If you want you can prefix the token endpoint headers with a string to differentiate them from other headers.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_grants</code></td>
      <td>You can limit the grants for which the token headers are replayed.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_access_token_header</code></td>
      <td>The name of upstream header where the access token is injected.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_access_token_header</code></td>
      <td>The name of downstream header where the access token is injected.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_access_token_jwk_header</code></td>
      <td>The name of upstream header where the JWK used for Access token verification is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_access_token_jwk_header</code></td>
      <td>The name of downstream header where the JWK used for Access token verification is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_id_token_header</code></td>
      <td>The name of upstream header where the ID token is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_id_token_header</code></td>
      <td>The name of downstream header where the ID token is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_id_token_jwk_header</code></td>
      <td>The name of upstream header where the JWK used for ID token verification is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_id_token_jwk_header</code></td>
      <td>The name of downstream header where the JWK used for ID token verification is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_refresh_token_header</code></td>
      <td>The name of upstream header where the Refresh token is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_refresh_token_header</code></td>
      <td>The name of downstream header where the Refresh token is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_user_info_header</code></td>
      <td>The name of upstream header where the User Info is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_user_info_header</code></td>
      <td>The name of downstream header where the User Info is injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_introspection_header</code></td>
      <td>The name of upstream header where the introspection results are injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_introspection_header</code></td>
      <td>The name of downstream header where the introspection results are injected (if any).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">introspection_endpoint</code></td>
      <td>The url of introspection endpoint that can be used if the OP doesn’t announce a non-standard introspection endpoint in discovery document.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_methods</code></td>
      <td>Other <code class="highlighter-rouge">login_*</code> parameters depend on this, and they are only used if matching authentication method is used.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_action</code></td>
      <td>Controls what to do after successful authentication when using a matching login method defined with <code class="highlighter-rouge">login_methods</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_tokens</code></td>
      <td>If you set <code class="highlighter-rouge">login_action</code> to <code class="highlighter-rouge">redirect</code> or <code class="highlighter-rouge">response</code>, this parameter configures what tokens are returned in url hash (<code class="highlighter-rouge">redirect</code>) or response body (<code class="highlighter-rouge">response</code>)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_redirect_mode</code></td>
      <td>Defines how you want to pass <code class="highlighter-rouge">login_tokens</code> in case of <code class="highlighter-rouge">login_action</code> of <code class="highlighter-rouge">redirect</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_query_arg</code></td>
      <td>A query argument found in request that means that we should do a logout.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_post_arg</code></td>
      <td>A post argument found in request that means that we should do a logout.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_uri_suffix</code></td>
      <td>If request uri ends with specific string, that means that we should do a logout.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_methods</code></td>
      <td>List of HTTP methods that can be used for logout.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_revoke</code></td>
      <td>Revoke tokens from IdP on logout by calling <code class="highlighter-rouge">revocation_endpoint</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">revocation_endpoint</code></td>
      <td>If <code class="highlighter-rouge">revocation_endpoint</code> is not specified in discovery (as it is not standardized by OpenID Connect), you can specify it manually.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">end_session_endpoint</code></td>
      <td>If <code class="highlighter-rouge">end_session_endpoint</code> is not specified in discovery, you can specify it manually (e.g. you can use your own non-OpenID Connect logout endpoint).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer_claim</code></td>
      <td>Name of the claim that is used to find a consumer.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer_by</code></td>
      <td>Search consumer by this (or these) fields.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">anonymous</code></td>
      <td>If <code class="highlighter-rouge">consumer_claim</code> is specified, but consumer is not found, allow fallback to a consumer defined by this property.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">leeway</code></td>
      <td>The leeway (in seconds) that is used to adjust the possible clock skew between the OP and Kong (used in all time related verifications).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_parameters</code></td>
      <td>Enables or disables verification of the plugin parameters against the discovery documentation rules (for debugging).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_nonce</code></td>
      <td>Enables or disables verification of the nonce used in authorization code flow (for debugging).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_signature</code></td>
      <td>Enables or disables verification of the signature (for debugging).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_claims</code></td>
      <td>Enables or disables verification of the claims (for debugging).</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_introspection</code></td>
      <td>Enables of disables caching of introspection request results.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_tokens</code></td>
      <td>Enables of disables caching of token endpoint request results.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_user_info</code></td>
      <td>Enables of disables caching of user info request results.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">http_version</code></td>
      <td>The HTTP version to use between Kong and OP.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">ssl_verify</code></td>
      <td>Whether or not should Kong verify SSL Certificates when communicating to OP.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">timeout</code></td>
      <td>The timeout value (in seconds) that is used for the Network IO.</td>
    </tr>
  </tbody>
</table>

<h5 id="types-optionality-and-defaults">Types, Optionality and Defaults</h5>

<p>While there are a lot of parameters, most of them are optional
as you can see below.</p>

<p><code class="highlighter-rouge">—</code> in default column means that there is no (static) default.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Parameter ¹</th>
      <th style="text-align: center">Type</th>
      <th style="text-align: center">Required</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">issuer</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">url</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_arg</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">client_id</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_id</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code> (many auth methods need this)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">client_secret</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code> (many auth methods need this)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">redirect_uri</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code> (request uri)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_redirect_uri</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_redirect_uri</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">scopes</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"open_id"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">response_mode</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"query"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">auth_methods</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"password"</code>, <code class="highlighter-rouge">"client_credentials"</code>, <code class="highlighter-rouge">"authorization_code"</code>, <code class="highlighter-rouge">"bearer"</code>, <code class="highlighter-rouge">"introspection"</code>, <code class="highlighter-rouge">"kong_oauth2"</code>, <code class="highlighter-rouge">"refresh_token"</code>, <code class="highlighter-rouge">"session"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">audience</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">domains</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">max_age</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">number</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_cookie_name</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"authorization"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">session_cookie_name</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"session"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">jwt_session_cookie</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">jwt_session_claim</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"sid"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">reverify</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">id_token_param_name</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">id_token_param_type</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"query", "header", "body"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_names</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_values</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">authorization_query_args_client</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_post_args_names</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_post_args_values</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_client</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_replay</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_prefix</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">token_headers_grants</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_access_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"authorization:bearer"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_access_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_access_token_jwk_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_access_token_jwk_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_id_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_id_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_id_token_jwk_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_id_token_jwk_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_refresh_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_refresh_token_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_user_info_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_user_info_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream_introspection_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">downstream_introspection_header</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">introspection_endpoint</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">url</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_methods</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"authorization_code"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_action</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"upstream"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_tokens</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"id_token"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">login_redirect_mode</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"fragment"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_query_arg</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_post_arg</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_uri_suffix</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_methods</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"POST", "DELETE"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">logout_revoke</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">false</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">revocation_endpoint</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">url</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code> (OpenID Connect Discovery)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">end_session_endpoint</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">url</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code> (OpenID Connect Discovery)</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer_claim</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer_by</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">array</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">"username", "custom_id"</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">anonymous</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">string</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">—</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">leeway</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">number</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">0</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_parameters</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_nonce</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_signature</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">verify_claims</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_introspection</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_tokens</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cache_user_info</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">http_version</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">number</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">1.1</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">ssl_verify</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">boolean</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">true</code></td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">timeout</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">number</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
      <td><code class="highlighter-rouge">10000</code></td>
    </tr>
  </tbody>
</table>

<p>¹⁾ all the config parameters should be prefixed with <code class="highlighter-rouge">config.</code>.</p>

<h5 id="configissuer">config.issuer</h5>

<p>The OpenID Provider configuration and JWKS are discovered using the
<code class="highlighter-rouge">config.issuer</code> configuration parameter. Set this to a location where
the plugin will find the <code class="highlighter-rouge">/.well-known/openid-configuration</code> discovery
endpoint. This parameter accepts only URLs.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">https://accounts.google.com/</code></li>
  <li><code class="highlighter-rouge">https://accounts.google.com/.well-known/openid-configuration</code></li>
</ul>

<h5 id="configclient_arg">config.client_arg</h5>

<p>Sometimes you need to use different client or client parameters,
e.g. when you use this plugin in front of multiple services.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">client_id</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p>This argument is used to pick up the right configuration to
from following config parameters:</p>

<ul>
  <li><code class="highlighter-rouge">config.client_id</code></li>
  <li><code class="highlighter-rouge">config.client_secret</code></li>
  <li><code class="highlighter-rouge">config.redirect_uri</code></li>
  <li><code class="highlighter-rouge">config.login_redirect_uri</code></li>
  <li><code class="highlighter-rouge">config.logout_redirect_uri</code></li>
</ul>

<p>If you want to override default <code class="highlighter-rouge">client_id</code> value you can use
this config parameter to define one. Then we look for value
in following order (the default <code class="highlighter-rouge">client_id</code> is used here as
example):</p>

<ul>
  <li>header <code class="highlighter-rouge">X-Client-ID</code> or <code class="highlighter-rouge">Client-ID</code></li>
  <li>query argument <code class="highlighter-rouge">client_id</code></li>
  <li>post argument <code class="highlighter-rouge">client_id</code></li>
</ul>

<p>If you specify <code class="highlighter-rouge">config.client_arg</code> with value <code class="highlighter-rouge">client_confg</code> then
the plugin tries to find value from:</p>

<ul>
  <li>header <code class="highlighter-rouge">X-Client-Config</code> or <code class="highlighter-rouge">Client-Config</code></li>
  <li>query argument <code class="highlighter-rouge">client_config</code></li>
  <li>post argument <code class="highlighter-rouge">client_config</code></li>
</ul>

<p>The value stored in the parameter can be <code class="highlighter-rouge">integer</code> or actual
<code class="highlighter-rouge">client_id</code> found in <code class="highlighter-rouge">config.client_id</code>. In cass it is an integer,
that is used to pick up correct parameters by index from the following:</p>

<ul>
  <li><code class="highlighter-rouge">config.client_id</code></li>
  <li><code class="highlighter-rouge">config.client_secret</code></li>
  <li><code class="highlighter-rouge">config.redirect_uri</code></li>
  <li><code class="highlighter-rouge">config.login_redirect_uri</code></li>
  <li><code class="highlighter-rouge">config.logout_redirect_uri</code></li>
</ul>

<p>Indexing starts from <code class="highlighter-rouge">1</code>. If no such index is found, then the index of <code class="highlighter-rouge">1</code>
is used. You can also you the actual <code class="highlighter-rouge">client_id</code> and then we use the index
of the <code class="highlighter-rouge">config.client_id</code> to rest of the parameters (and fallback to <code class="highlighter-rouge">1</code> if
not found in specified index).</p>

<h5 id="configclient_id">config.client_id</h5>

<p>With this parameter specify the <code class="highlighter-rouge">client_id</code> of your client
that you have registered in OpenID Connect Provider. This
is the client that authenticates Kong with your OpenID
Provider. It can be considered a trusted client or confidential
client. This parameter can also be an array as this plugin
supports multiple clients. The right one is then picked up
by matching to a request parameter (defined with <code class="highlighter-rouge">config.client_arg</code>).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> In many cases you will need to configure this to allow Kong
to work as a trusted client. If you only do e.g. JWT bearer token
verification, you won’t need to configure this.</p>

<h5 id="configclient_secret">config.client_secret</h5>

<p>With this parameter specify the <code class="highlighter-rouge">client_secret</code> of your client
that you have registered in OpenID Connect Provider. As mentioned
above, also this can be an array of client secrets.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> In many cases you will need to configure this to allow Kong
to work as a trusted client. If you only do e.g. JWT bearer token
verification, you won’t need to configure this.</p>

<h5 id="configredirect_uri">config.redirect_uri</h5>

<p>Specify where you want the browser to be redirected (from IdP) in
case of a successful login. The ID Token will be appended
as an URL fragment to the redirect URL. If this parameter
is not specified, the ID Token will be returned instead
of redirect. This as <code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code> can
also be an array if different clients use different
redirect uris.</p>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"https://example.com/"</code></li>
</ul>

<h5 id="configlogin_redirect_uri">config.login_redirect_uri</h5>

<p>When <code class="highlighter-rouge">config.login_action</code> is set to <code class="highlighter-rouge">redirect</code>, this configuration parameter
contains the url for the redirection. It can also be an array,
so that you can pick up different <code class="highlighter-rouge">login_redirect_uri</code> depending
on the selected <code class="highlighter-rouge">client</code>.</p>

<h5 id="configlogout_redirect_uri">config.logout_redirect_uri</h5>

<p>When logout is requested you can use this configuration parameter
to define url to be redirected after a successful logout. If relying
party initiated logout is used, this logout redirect uri will be used
as <code class="highlighter-rouge">post_logout_redirect_uri</code> passed to IdP. It can also be an array,
so that you can pick up different <code class="highlighter-rouge">logiout_redirect_uri</code> depending
on the selected <code class="highlighter-rouge">client</code>.</p>

<h5 id="configscopes">config.scopes</h5>

<p>Scopes requested when authenticating.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"openid"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"openid"</code></li>
  <li><code class="highlighter-rouge">"openid,profile,email"</code></li>
  <li><code class="highlighter-rouge">"openid,profile,email,offline_access"</code></li>
</ul>

<h5 id="configresponse_mode">config.response_mode</h5>

<p>When Kong talks to authorization endpoint this value instructs
OP to respond in a specific way (if OP supports different response modes):</p>

<p>Response mode can be one of these:</p>

<ul>
  <li><code class="highlighter-rouge">query</code> (the default)</li>
  <li><code class="highlighter-rouge">form_post</code></li>
  <li><code class="highlighter-rouge">fragment</code></li>
</ul>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"form_post"</code></li>
  <li><code class="highlighter-rouge">"fragment"</code></li>
</ul>

<h5 id="configauth_methods">config.auth_methods</h5>

<p>This so called all-in-one plugin supports many different methods to
authenticate the request using 3rd party OP. This parameter is an
array that lists all the authentication methods that you want the
plugin to accept, and the array can contain following values:</p>

<ul>
  <li><code class="highlighter-rouge">"password"</code></li>
  <li><code class="highlighter-rouge">"client_credentials"</code></li>
  <li><code class="highlighter-rouge">"authorization_code"</code></li>
  <li><code class="highlighter-rouge">"bearer"</code></li>
  <li><code class="highlighter-rouge">"introspection"</code></li>
  <li><code class="highlighter-rouge">"kong_oauth2"</code></li>
  <li><code class="highlighter-rouge">"refresh_token"</code></li>
  <li><code class="highlighter-rouge">"session"</code></li>
</ul>

<p><em>password</em></p>

<p>This enables password grant. To use this authentication method you
can either <code class="highlighter-rouge">Authorization: Basic username:password</code> header where
<code class="highlighter-rouge">username:password</code> can optionally be base64 encoded as defined in
HTTP Basic authentication specification. You can also send <code class="highlighter-rouge">username</code>
and <code class="highlighter-rouge">password</code> fields with those names to Kong as a payload.</p>

<p><em>client_credentials</em></p>

<p>Similar to <code class="highlighter-rouge">password</code> grant, but this time you have to send <code class="highlighter-rouge">client_id</code>
and <code class="highlighter-rouge">client_secret</code> as <code class="highlighter-rouge">Authorization: Basic client_id:client_secret</code>
header. You can also send <code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code> as a payload
to Kong (with those names).</p>

<p><em>authorization_code</em></p>

<p>This enables (mostly) interactive authorization code flow, where Kong
initiates the process and sends redirect to OP to the client. Authorization
code flow is also the one that we use as the last fallback (when enabled)
if no other authentication methods match the request.</p>

<p><em>bearer</em></p>

<p>This enables Kong to look for <code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code> header. The
<code class="highlighter-rouge">&lt;token&gt;</code> can either be a value token (signed JWT token aka JWS token) or
it can be opaque token. For value tokens Kong does signature verification
and standard claims verification (e.g. expiration checks, and many other
OpenID Connect standardized claims). For opaque tokens Kong can try to
<code class="highlighter-rouge">introspect</code> them, if introspection is enabled as one of the authentication
methods.</p>

<p><em>introspection</em></p>

<p>If a bearer token is provided as opaque token, Kong can try to verify it
by using introspection.</p>

<p><em>kong_oauth2</em></p>

<p>A special version of opaque tokens are the ones issued by Kong OAuth 2.0
authentication plugin. This plugin can be used to verify those as well.</p>

<p><em>session</em></p>

<p>Kong can optionally setup session using HTTP only cookie between the client
and Kong. That can also be used for authenticating the request. This is
especially nice when used together with authorization code flow.</p>

<p><em>refresh_token</em></p>

<p>If refresh token is available for Kong, this authentication method enables
Kong to automatically refresh the access token using the refresh token.</p>

<h5 id="configaudience">config.audience</h5>

<p>List the access token audience with this config parameter.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"https://example.com/api/v2/"</code></li>
  <li><code class="highlighter-rouge">"https://example.com/api/v2/,https://example.com/api/v3/"</code></li>
</ul>

<h5 id="configdomains">config.domains</h5>

<p>With this config parameter you may specify the domains that are allowed
to use the API. The token’s <code class="highlighter-rouge">hd</code> claim (hosted domain) is verified
against the ´config.domains`.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"example.com"</code></li>
  <li><code class="highlighter-rouge">"example.com,company.com"</code></li>
</ul>

<h5 id="configmax_age">config.max_age</h5>

<p>This configuration parameter is used to configure <code class="highlighter-rouge">auth_time</code> claim
verification. With this parameter you may restrict the use of the API
with too old id tokens. The <code class="highlighter-rouge">max_age</code> is specified in seconds.</p>

<p><strong>Note:</strong> <code class="highlighter-rouge">config.leeway</code> may affect the calculation as well.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">0</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">86400</code></li>
  <li><code class="highlighter-rouge">1800</code></li>
</ul>

<h5 id="configauthorization_cookie_name">config.authorization_cookie_name</h5>

<p>When this plugin initiates authorization code flow, it will store
some state information (for verification etc.) to a cookie that is
sent to a client together with 302 redirect to IdP’s authorization
endpoint.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"authorization"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p>If you want to use different name for the cookie, you can use this
parameter to define one.</p>

<h5 id="configsession_cookie_name">config.session_cookie_name</h5>

<p>When this plugin initiates a session (on successful login) with
the client it will send a cookie to a client. With this parameter
you can specify the name of the cookie that client receives.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"session"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<h5 id="configjwt_session_cookie">config.jwt_session_cookie</h5>

<p>Defines a name of the cookie that contains a value for a claim that is
specified with <code class="highlighter-rouge">config.jwt_session_claim</code> (and which is by default <code class="highlighter-rouge">sid</code>)
in a JWT access token.</p>

<p>If you don’t specify value for this, then the claim is not checked.
This is not a standard OpenID Connect feature but it is added here
for added verification of a JWT value token (your identity provider
or additional service should issue the cookie, and that cookie
should be HTTP only and sent to Kong (as well) when accessing
upstream API service).</p>

<p>This parameter is only used when authenticating with stateless
JWT bearer tokens (for other authentication methods we currently
ignore this).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"sid"</code></li>
  <li><code class="highlighter-rouge">"session_state"</code></li>
</ul>

<h5 id="configjwt_session_claim">config.jwt_session_claim</h5>

<p>With this you can configure a claim in JWT access token that is verified
against a cookie with a name that is configured with <code class="highlighter-rouge">config.jwt_session_cookie</code>
parameter. If no name for cookie is specified, the verification is
skipped.</p>

<p>This parameter is only used when authenticating with stateless
JWT bearer tokens (for other authentication methods we currently
ignore this).</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"sid"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"sid"</code></li>
  <li><code class="highlighter-rouge">"session_state"</code></li>
</ul>

<h5 id="configreverify">config.reverify</h5>

<p>If you are utilizing session based authentication method. Then by
default we trust that alone and do not do further verifications.
If you enable reverification, then Kong will recheck the possible
signature and the claims on each request.</p>

<h5 id="configid_token_param_name">config.id_token_param_name</h5>

<p>Because there is no such standard that defines how the id token should
be send to a server for verification this parameter solves one half of
the puzzle by defining the parameters name where the plugin should look
for the id token.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"id_token"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"idtoken"</code></li>
  <li><code class="highlighter-rouge">"idt"</code></li>
  <li><code class="highlighter-rouge">"X-ID-Token"</code></li>
</ul>

<h5 id="configid_token_param_type">config.id_token_param_type</h5>

<p>This parameter is the another half of the puzzle of how the id token
is delivered for verification (another one being <code class="highlighter-rouge">config.id_token_param_name</code>).
The HTTP protocol provides a few methods for information delivery to
the server:</p>

<ol>
  <li>URL Query String</li>
  <li>HTTP Headers</li>
  <li>HTTP Body</li>
</ol>

<p>(servers do not generally deal with url <code class="highlighter-rouge">#framents</code>).</p>

<p>For query string and HTTP headers we do look for a value defined with
<code class="highlighter-rouge">config.id_token_param_type</code>. For HTTP Body we support several ways of delivery:</p>

<ol>
  <li><code class="highlighter-rouge">application/x-www-form-urlencoded</code></li>
  <li><code class="highlighter-rouge">multipart/form-data</code></li>
  <li><code class="highlighter-rouge">application/json</code></li>
  <li><code class="highlighter-rouge">raw</code></li>
</ol>

<p>For <code class="highlighter-rouge">1</code>, <code class="highlighter-rouge">2</code>, and <code class="highlighter-rouge">3</code> we look for a value defined with <code class="highlighter-rouge">config.id_token_param_type</code>
For <code class="highlighter-rouge">4</code> we accept the raw body as an id token, and do not consider
<code class="highlighter-rouge">config.id_token_param_type</code> (and do not care about the <code class="highlighter-rouge">Content-Type</code> header).</p>

<p>Based on the above the supported values for this configuration parameter
are (or any combination of them):</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Value</th>
      <th style="text-align: center">Enabled by Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"query"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
      <td>If specified, tries to find id token from the URL’s query string.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"header"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
      <td>If specified, tries to find id token from the HTTP header.</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"body"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">yes</code></td>
      <td>If specified, tries to find id token from the HTTP request body (according to the possibilities defined above).</td>
    </tr>
  </tbody>
</table>

<p>Here are the unconfigured defaults:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"query,header,body"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<h5 id="configauthorization_query_args_names">config.authorization_query_args_names</h5>

<p>Extra arguments names that you want to include in authorization
endpoint query string.</p>

<h5 id="configauthorization_query_args_values">config.authorization_query_args_values</h5>

<p>Values for the extra arguments that you want to include in
authorization endpoint query string.</p>

<h5 id="configauthorization_query_args_client">config.authorization_query_args_client</h5>

<p>Extra dynamic arguments that are passed from client to authorization
endpoint. E.g. specify arguments such as <code class="highlighter-rouge">login_hint</code> with this config
parameter.</p>

<h5 id="configtoken_post_args_names">config.token_post_args_names</h5>

<p>Extra arguments names that you want to include in token
endpoint post args.</p>

<h5 id="configtoken_post_args_values">config.token_post_args_values</h5>

<p>Values for the extra arguments that you want to include
in token endpoint post args.</p>

<h5 id="configtoken_headers_client">config.token_headers_client</h5>

<p>When Kong calls token endpoint, you can specify the headers
that Kong will pass to token endpoint from client request
headers.</p>

<h5 id="configtoken_headers_replay">config.token_headers_replay</h5>

<p>When Kong calls token endpoint, you can specify the headers
(from the token endpoint response) that you want the Kong
to send back to the client.</p>

<h5 id="configtoken_headers_prefix">config.token_headers_prefix</h5>

<p>If you want you can prefix the token endpoint headers with
a string to differentiate them from other headers.</p>

<h5 id="configtoken_headers_grants">config.token_headers_grants</h5>

<p>You can limit the grants for which the token headers are replayed:</p>

<ul>
  <li><code class="highlighter-rouge">"password"</code></li>
  <li><code class="highlighter-rouge">"client_credentials"</code></li>
  <li><code class="highlighter-rouge">"authorization_code"</code></li>
</ul>

<h5 id="configupstream_access_token_header">config.upstream_access_token_header</h5>

<p>Specify a name of the <code class="highlighter-rouge">upstream</code> header where the access token is
injected. By default this is set to a special value
<code class="highlighter-rouge">authrorization:bearer</code> which means that the access token is injected
as <code class="highlighter-rouge">Authorization</code> header and the values is set as a <code class="highlighter-rouge">bearer</code> token.</p>

<h5 id="configdownstream_access_token_header">config.downstream_access_token_header</h5>

<p>If you want to inject access token in downstream headers (response),
you can use this configuration parameter to specify the name of the header
where the access token is injected. By default we don’t inject access token
in response headers.</p>

<h5 id="configupstream_access_token_jwk_header">config.upstream_access_token_jwk_header</h5>

<p>With this configuration parameter you can specify the name of the
header that Kong will inject to a request before proxying to upstream
service. The value will be set to a JWK that was used to verify the
access token. This is used when the JWT access token is available.</p>

<h5 id="configdownstream_access_token_jwk_header">config.downstream_access_token_jwk_header</h5>

<p>Similar to above, but this time for downstream (response).</p>

<h5 id="configupstream_id_token_header">config.upstream_id_token_header</h5>

<p>Specify a name of the <code class="highlighter-rouge">upstream</code> header where the id token is
injected (if any). By default we don’t inject id tokens to
upstream headers.</p>

<h5 id="configdownstream_id_token_header">config.downstream_id_token_header</h5>

<p>Specify a name of the <code class="highlighter-rouge">downstream</code> (response) header where the
id token is injected (if any). By default we don’t inject
id tokens to downstream headers.</p>

<h5 id="configupstream_id_token_jwk_header">config.upstream_id_token_jwk_header</h5>

<p>With this configuration parameter you can specify the name of the
header that Kong will inject to a request before proxying to upstream
service. The value will be set to a JWK that was used to verify the
id token. This is used when the JWT id token is available.</p>

<h5 id="configdownstream_id_token_jwk_header">config.downstream_id_token_jwk_header</h5>

<p>Similar to above, but this time for downstream (response).</p>

<h5 id="configupstream_refresh_token_header">config.upstream_refresh_token_header</h5>

<p>Specify a name of the <code class="highlighter-rouge">upstream</code> header where the refresh token is
injected (if any). By default we don’t inject refresh tokens to
upstream headers.</p>

<h5 id="configdownstream_refresh_token_header">config.downstream_refresh_token_header</h5>

<p>Specify a name of the <code class="highlighter-rouge">downstream</code> (response) header where the
refresh token is injected (if any). By default we don’t inject
refresh tokens to downstream headers.</p>

<h5 id="configupstream_user_info_header">config.upstream_user_info_header</h5>

<p>With this configuration parameter you can specify the name of the
header that Kong will inject to a request before proxying to upstream
service. The value will be set to a OpenID Connect standard User Info
(JSON document), if the plugin is able to retrieve that.</p>

<h5 id="configdownstream_user_info_header">config.downstream_user_info_header</h5>

<p>Similar to above, but this time for downstream (response).</p>

<h5 id="configupstream_introspection_header">config.upstream_introspection_header</h5>

<p>When you try to login with opaque access token, Kong tries to
authenticate the request using standard OAuth 2.0 Introspection.
If that succeeds and you want to pass the introspection results
to upstream, you can do so by setting this parameter.</p>

<h5 id="configdownstream_introspection_header">config.downstream_introspection_header</h5>

<p>Similar to above, but this time for downstream (response).</p>

<h5 id="configintrospection_endpoint">config.introspection_endpoint</h5>

<p>OAuth 2.0 introspection endpoint is not defined in OpenID Connect
standards or OpenID Connect Discovery. Still some OpenID providers
announce the introspection endpoint in discovery document. Kong
tries hard to figure out the introspection endpoint, but sometimes
it is not possible through automation. With this configuration
parameter you can specify a URL for your issuer’s introspection
endpoint.</p>

<h5 id="configlogin_methods">config.login_methods</h5>

<p>With this configuration parameter you can adjust plugin to only
use other <code class="highlighter-rouge">config.login_*</code> parameters when there is a matching
authentication method used. Possible values:</p>

<ul>
  <li><code class="highlighter-rouge">"password"</code></li>
  <li><code class="highlighter-rouge">"client_credentials"</code></li>
  <li><code class="highlighter-rouge">"authorization_code"</code></li>
  <li><code class="highlighter-rouge">"bearer"</code></li>
  <li><code class="highlighter-rouge">"introspection"</code></li>
  <li><code class="highlighter-rouge">"kong_oauth2"</code></li>
  <li><code class="highlighter-rouge">"session"</code></li>
</ul>

<p>By default this is configured only for <code class="highlighter-rouge">authorization_code</code>.
Non matching grants will be proxied to upstream regardless of
<code class="highlighter-rouge">config.login_action</code>.</p>

<h5 id="configlogin_action">config.login_action</h5>

<p>When the authentication is done with a method specified with
<code class="highlighter-rouge">config.login_methods</code>, this configuration parameter enables
you to decide what Kong does next. The possible actions are:</p>

<ol>
  <li><code class="highlighter-rouge">"upstream"</code> — after authentication, Kong reverse proxies the request to upstream service (this is the default)</li>
  <li><code class="highlighter-rouge">"response"</code> — after authentication, Kong returns response that by default contains <code class="highlighter-rouge">id token</code> (if any)</li>
  <li><code class="highlighter-rouge">"redirect"</code> — after authentication, Kong sends a redirect response to client with redirection uri taken from <code class="highlighter-rouge">config.login.redirect_uri</code></li>
</ol>

<h5 id="configlogin_tokens">config.login_tokens</h5>

<p>If the <code class="highlighter-rouge">login_action</code> is set to <code class="highlighter-rouge">response</code> or <code class="highlighter-rouge">redirect</code>, you can specify
the tokens to be returned (if available) or added to redirection uri’s hash.</p>

<h5 id="configlogin_redirect_mode">config.login_redirect_mode</h5>

<p>When <code class="highlighter-rouge">config.login_action</code> is set to <code class="highlighter-rouge">redirect</code>, this configuration parameter
is used to define how you want to pass <code class="highlighter-rouge">login_tokens with </code>login_redirect_uri`.
The options are:</p>

<ul>
  <li><code class="highlighter-rouge">"fragment"</code> (default)</li>
  <li><code class="highlighter-rouge">"query"</code></li>
  <li><code class="highlighter-rouge">"form_post"</code> (not yet implemented)</li>
</ul>

<p><code class="highlighter-rouge">fragment</code> means that <code class="highlighter-rouge">login_tokens</code> are appended to <code class="highlighter-rouge">login_redirect_uri</code>’s
uri fragment (<code class="highlighter-rouge">#</code>) so that they are only accessible to the client. <code class="highlighter-rouge">query</code>
means that <code class="highlighter-rouge">login_tokens</code> are appended to <code class="highlighter-rouge">login_redirect_uri</code>’s query string
(<code class="highlighter-rouge">?</code>) making it available both to the client and the server. In future we are
going to enable third option <code class="highlighter-rouge">form_post</code> which will, instead of doing <code class="highlighter-rouge">302</code>
redirect will make a HTTP POST to <code class="highlighter-rouge">login_redirect_uri</code> with the tokens as
HTTP POST arguments in HTTP POST request’s body.</p>

<h5 id="configlogout_query_arg">config.logout_query_arg</h5>

<p>If you want to enable logout by query argument, use this parameter to
define name of the query argument.</p>

<h5 id="configlogout_post_arg">config.logout_post_arg</h5>

<p>If you want to enable logout by post argument, use this parameter to
define name of the post argument.</p>

<h5 id="configlogout_uri_suffix">config.logout_uri_suffix</h5>

<p>If you want to enable logout by uri suffix, use this parameter to
define the suffix.</p>

<h5 id="configlogout_methods">config.logout_methods</h5>

<p>Specify HTTP methods that are allowed for logout. You can use these
methods:</p>

<ul>
  <li><code class="highlighter-rouge">"POST"</code></li>
  <li><code class="highlighter-rouge">"GET"</code></li>
  <li><code class="highlighter-rouge">"DELETE"</code></li>
</ul>

<p>By default <code class="highlighter-rouge">"POST"</code> and <code class="highlighter-rouge">"DELETE"</code> are enabled.</p>

<h5 id="configlogout_revoke">config.logout_revoke</h5>

<p>If you want also try to revoke the tokens on logout by calling IdP’s
revocation endpoint, you can use this parameter to enable it. By default
the plugin does not call revocation endpoint.</p>

<h5 id="configrevocation_endpoint">config.revocation_endpoint</h5>

<p>If revocation endpoint is not defined in OpenID Connect discovery document,
you can use this parameter to define one manually.</p>

<h5 id="configend_session_endpoint">config.end_session_endpoint</h5>

<p>Usually this is defined in OpenID Connect discovery document, but you can
use this parameter to define one manually. If either this parameter is specified
or end session endpoint is found in discovery document, this plugin will,
on logout, redirect client to here.</p>

<h5 id="configconsumer_claim">config.consumer_claim</h5>

<p>Define the name of the claim that you want to use for consumer mapping.
Setting this value will also make it possible to limit access to only
those tokens that have a matching consumer in Kong. A good value for
this setting is <code class="highlighter-rouge">"sub"</code>. The claim value will be loaded from ID token,
if provided or access token or introspection results. If no match is
found a <code class="highlighter-rouge">403</code> error is returned. In case you have defined <code class="highlighter-rouge">config.anonymous</code>
the anonymous consumer will be searched as well, and will be used as a
fallback if found.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"sub"</code></li>
  <li><code class="highlighter-rouge">"username"</code></li>
</ul>

<h5 id="configconsumer_by">config.consumer_by</h5>

<p>This can be defined as an array of these values:</p>

<ul>
  <li><code class="highlighter-rouge">"id"</code> — search consumer by <code class="highlighter-rouge">id</code>,</li>
  <li><code class="highlighter-rouge">"custom_id"</code> — search consumer by <code class="highlighter-rouge">custom_id</code>, or</li>
  <li><code class="highlighter-rouge">"username"</code> — search consumer by <code class="highlighter-rouge">username</code></li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">"custom_id"</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"custom_id"</code></li>
  <li><code class="highlighter-rouge">"username,custom_id"</code></li>
  <li><code class="highlighter-rouge">"id,custom_id,username"</code></li>
</ul>

<h5 id="configanonymous">config.anonymous</h5>

<p>If consumer is not found and <code class="highlighter-rouge">config.consumer_claim</code> is defined,
you can use this value to fallback to an anonymous consumer. Set
this value to <code class="highlighter-rouge">id</code> of the consumer that you want to fallback. If
fallback fails <code class="highlighter-rouge">401</code> will be returned.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">none</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">"f4bc9005-7488-4fe5-9861-17a4e7cb31eb"</code></li>
</ul>

<h5 id="configleeway">config.leeway</h5>

<p>This configuration parameter is used to adjust possible clock skew
between the <code class="highlighter-rouge">OP</code> and <code class="highlighter-rouge">Kong</code>. The <code class="highlighter-rouge">config.leeway</code> is taken in account
in all the time related verifications. The <code class="highlighter-rouge">leeway</code> is specified in
seconds. Leeway is also used when checking session expiration, aka
when to refresh the access token if refresh token is available.</p>

<h5 id="configverify_parameters">config.verify_parameters</h5>

<p>For debugging purposes you can turn off parameter verification. Sometimes
providers announce erroneous information in their discovery documents
(e.g. they don’t announce features that they actually do support). This
parameter turns all the discovery based parameter validations off. It can
be safely turned off. Please always check Kong error logs, as the plugins
in this suite usually give very clear information of what went wrong.</p>

<h5 id="configverify_nonce">config.verify_nonce</h5>

<p>For debugging purposes you can turn off nonce verification. Please always
check Kong error logs, as the plugins in this suite usually give very clear
information of what went wrong. Turning off the verification of nonce is not
a good idea in production as it is a security feature, If your identity provider
doesn’t support it, then it might be reasonable to try turning this off.</p>

<h5 id="configverify_signature">config.verify_signature</h5>

<p>You can turn off all the signature verification with this option. Generally
it is not recommended, but you can use this for debugging purposes.
Claims will still be verified.</p>

<h5 id="configverify_claims">config.verify_claims</h5>

<p>You can turn off all the claims verification with this option. Generally
it is not recommended, but you can use this for debugging purposes.
Signature will still be verified.</p>

<h5 id="configcache_introspection">config.cache_introspection</h5>

<p>You can turn off caching of introspection request with this parameter.</p>

<h5 id="configcache_tokens">config.cache_tokens</h5>

<p>You can turn off caching of token endpoint request with this parameter.</p>

<h5 id="configcache_user_info">config.cache_user_info</h5>

<p>You can turn off caching of user info request with this parameter.</p>

<h5 id="confighttp_version">config.http_version</h5>

<p>Specifies the HTTP version that is used for communicating with the
OP. It can either be <code class="highlighter-rouge">1.1</code> or <code class="highlighter-rouge">1.0</code>.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">1.1</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">1.0</code></li>
  <li><code class="highlighter-rouge">1.1</code></li>
</ul>

<h5 id="configssl_verify">config.ssl_verify</h5>

<p>Specifies whether or not the plugin should verify the certificates
used in SSL/TLS communication.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">true</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">true</code></li>
  <li><code class="highlighter-rouge">false</code></li>
</ul>

<h5 id="configtimeout">config.timeout</h5>

<p>Specified the timeouts for HTTP requests used in non-blocking communications
 between <code class="highlighter-rouge">Kong</code> and <code class="highlighter-rouge">OP</code>, and between <code class="highlighter-rouge">Kong</code> and the <code class="highlighter-rouge">Client</code>. This parameter
 is specified in milliseconds.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Default</th>
      <th style="text-align: center">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">10000</code></td>
      <td style="text-align: center"><code class="highlighter-rouge">no</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Examples:</strong></p>

<ul>
  <li><code class="highlighter-rouge">10000</code></li>
  <li><code class="highlighter-rouge">30000</code></li>
  <li><code class="highlighter-rouge">5000</code></li>
</ul>

<h4 id="authorization">Authorization</h4>

<p><code class="highlighter-rouge">openid-connect</code> plugin supports different authentication / authorization
methods in one plugin. The plugin figures out the method used for
authentication by looking the request headers or parameters (and also
plugin configuration parameter <code class="highlighter-rouge">config.auth_methods</code>).</p>

<h5 id="authorization-code-grant">Authorization Code Grant</h5>

<p>Authorization Code grant is default (if enabled) that Kong tries when there is
no other credentials supplied. With authorization code flow Kong sends a
HTTP redirect response to the client, and initiates the authorization code flow.
After the client authenticates on identity provider, the provider sends the
client back to Kong where Kong validates the parameters and then goes on with
exchanging the authorization code with the tokens by calling token endpoint
of the identity provider.</p>

<h5 id="resource-owner-password-credentials-grant">Resource Owner Password Credentials Grant</h5>

<p>The plugin looks for <code class="highlighter-rouge">Authorization: Basic &lt;username&gt;:&lt;password&gt;</code> header to
determine the username and password. <code class="highlighter-rouge">&lt;username&gt;:&lt;password&gt;</code> pair can (and should)
be base64 encoded (HTTP Basic Authentication). Alternatively you can send
<code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">password</code> in url (<code class="highlighter-rouge">GET</code>) or body (<code class="highlighter-rouge">POST</code>) arguments using
<code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">password</code> fields.</p>

<h5 id="client-credentials-grant">Client Credentials Grant</h5>

<p>The plugin looks for <code class="highlighter-rouge">Authorization: Basic &lt;client_id&gt;:&lt;client_secret&gt;</code> header to
determine the username and password. <code class="highlighter-rouge">&lt;client_id&gt;:&lt;client_secret&gt;</code> pair can (and should)
be base64 encoded (HTTP Basic Authentication). Alternatively you can send
<code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code> in url (<code class="highlighter-rouge">GET</code>) or body (<code class="highlighter-rouge">POST</code>) arguments using
<code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code> fields.</p>

<h5 id="jwt-bearer-token">JWT Bearer Token</h5>

<p>When the client has an JWT access token available. E.g. it could have retrieved one
directly from identity provider by using implicit flow, or it could have received it
by other means. That token an then be used as a bearer token that is presented in
an authorization header (<code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code>).  The JWT token (or JWS
in this case) will be verified for signature and standard claims before it gets
accepted.</p>

<h5 id="opaque-bearer-token">Opaque Bearer Token</h5>

<p>Similar to JWT bearer tokens, but this time Kong will figure out through introspection
whether or not to trust this token. Also the opaque access tokens are presented in an
authorization header (<code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code>).</p>

<h5 id="kong-oauth-20-authentication-plugin-issued-opaque-access-tokens">Kong OAuth 2.0 Authentication Plugin issued Opaque Access Tokens</h5>

<p>The plugin will also accept tokens that are issued by Kong OAuth 2.0 Authentication Plugin,
and it can be used to verify them. It duplicates some verification code from Kong OAuth 2.0
plugin, but this plugin does not provide any identity provider functionality as the Kong OAuth
2.0 plugin does. Similar to JWT Bearer tokens and opaque bearer tokens, the Kong issued opaque
tokens are presented in an authorization header (<code class="highlighter-rouge">Authorization: Bearer &lt;token&gt;</code>).</p>

<h5 id="session-cookie">Session Cookie</h5>

<p>When the client has authenticated with one of the supported authentication methods mentioned
above, this plugin can also (optionally) send a HTTP Only session cookie to the client. This
cookie can be used to authenticate further requests This works especially nicely with
Authorization Code Grant that is usually used with interactive browser sessions. Session cookie
is presented to this plugin by setting the cookie header (e.g. <code class="highlighter-rouge">Cookie: session=…</code>).</p>

<h5 id="refresh-token">Refresh Token</h5>

<p>While this plugin does not accept refresh token directly from the client, it does support
automatic refreshing of access tokens if there is a refresh token received from a token
endpoint. With all methods there may not be a refresh token available, though (e.g. the
bearer token ones).</p>

<h4 id="usage">Usage</h4>

<p>Here are the step by step usage instructions. The examples are executed
using <a href="https://httpie.org/">HTTPie</a>. Before proceeding, please <strong>NOTE</strong>
that this usage example is for testing purposes and that you should
not send confidential information to <code class="highlighter-rouge">httpbin.org</code> that is used here
for illustrative purposes.</p>

<h5 id="1-loading-the-plugin">1. Loading the Plugin</h5>

<p>Remember to tell Kong to load this custom plugin by adding the following
in Kong’s config file:</p>

<div class="language-ini highlighter-rouge"><pre class="highlight"><code><span class="py">custom_plugins</span> <span class="p">=</span> <span class="s">openid-connect</span>
</code></pre>
</div>

<h5 id="2-creating-the-api">2. Creating the API</h5>

<p>To create an API we execute the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http post :8001/apis                          <span class="se">\</span>
    <span class="nv">name</span><span class="o">=</span>openid-connect-demo                    <span class="se">\</span>
    <span class="nv">uris</span><span class="o">=</span>/                                      <span class="se">\</span>
    <span class="nv">upstream_url</span><span class="o">=</span>http://httpbin.org/anything -v
</code></pre>
</div>
<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/apis</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json, */*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">91</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8001</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.9.9</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openid-connect-demo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upstream_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://httpbin.org/anything"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Access-Control-Allow-Origin</span><span class="p">:</span> <span class="s">*</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Mon, 14 Aug 2017 17:09:43 GMT</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">kong/0.10.3</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502730583000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"http_if_terminated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"https_only"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f5331dd8-4dc8-4272-8537-199598e660ad"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openid-connect-demo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"strip_uri"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upstream_connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upstream_read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upstream_send_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"upstream_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://httpbin.org/anything"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"uris"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"/"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="3-checking-the-api">3. Checking the API</h5>

<p>Check that the API works by issuing the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http :8000 -v
</code></pre>
</div>

<p>And you should get output similar to this:</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8000</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.9.9</span>
</code></pre>
</div>
<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Access-Control-Allow-Credentials</span><span class="p">:</span> <span class="s">true</span>
<span class="na">Access-Control-Allow-Origin</span><span class="p">:</span> <span class="s">*</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">390</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Mon, 14 Aug 2017 17:12:16 GMT</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">meinheld/0.6.1</span>
<span class="na">Via</span><span class="p">:</span> <span class="s">kong/0.10.3</span>
<span class="na">X-Kong-Proxy-Latency</span><span class="p">:</span> <span class="s">181</span>
<span class="na">X-Kong-Upstream-Latency</span><span class="p">:</span> <span class="s">828</span>
<span class="na">X-Powered-By</span><span class="p">:</span> <span class="s">Flask</span>
<span class="na">X-Processed-Time</span><span class="p">:</span> <span class="s">0.00134587287903</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"form"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Accept"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*/*"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Accept-Encoding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gzip, deflate"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Connection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"httpbin.org"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"User-Agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HTTPie/0.9.9"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"X-Forwarded-Host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localhost"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"json"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1, 37.33.72.184"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/anything"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="4-enabling-the-plugin">4. Enabling the Plugin</h5>

<p>To enable <code class="highlighter-rouge">openid-connect</code> plugin for the API,
execute the following command (on production you
shouldn’t disable SSL verification):</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http post :8001/apis/openid-connect-demo/plugins  <span class="se">\</span>
    <span class="nv">name</span><span class="o">=</span>openid-connect                             <span class="se">\</span>
    config.issuer<span class="o">=</span>&lt;ISSUER&gt;                          <span class="se">\</span>
    config.client_id<span class="o">=</span>&lt;CLIENT_ID&gt;                    <span class="se">\</span>
    config.client_secret<span class="o">=</span>&lt;CLIENT_SECRET&gt;            <span class="se">\</span>
    config.redirect_uri<span class="o">=</span>&lt;REDIRECT_URI&gt;              <span class="se">\</span>
    config.ssl_verify<span class="o">=</span><span class="nb">false</span> -v
</code></pre>
</div>

<p>On successful call you will get output similar to this:</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/apis/openid-connect-demo/plugins</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json, */*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">256</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8001</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.9.9</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"config.client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATdm9WUNmfGzdE0pyRApY66pnfHVJNMI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"config.client_secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kaSFMAJSEQVlYl4Crvf4Sl9WIM0rP3gVxbhT3GAhPDTzRbzxKh3pxHnNWMhhRrcN"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"config.issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://kong-demo.eu.auth0.com/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"config.ssl_verify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openid-connect"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Access-Control-Allow-Origin</span><span class="p">:</span> <span class="s">*</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Mon, 14 Aug 2017 17:22:27 GMT</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">kong/0.10.3</span>
<span class="na">Transfer-Encoding</span><span class="p">:</span> <span class="s">chunked</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"api_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f5331dd8-4dc8-4272-8537-199598e660ad"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"auth_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_credentials"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"introspection"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"kong_oauth2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"refresh_token"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"session"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"&lt;CLIENT_ID&gt;"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"client_secret"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"&lt;CLIENT_SECRET&gt;"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"consumer_by"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"custom_id"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"http_version"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id_token_param_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"header"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"body"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ISSUER&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"leeway"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"login_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"login_tokens"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"id_token"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"response_mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reverify"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"openid"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"ssl_verify"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"upstream_access_token_header"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorization:bearer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"verify_claims"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"verify_nonce"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"verify_parameters"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"verify_signature"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502731347000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4a91a0ef-1632-491d-a4e3-b8f98f75dcda"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openid-connect"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h5 id="5-try-the-api">5. Try the API</h5>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http :8000 -v
</code></pre>
</div>

<p>As you might have expected, it doesn’t work anymore:</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">GET</span> <span class="nn">/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">*/*</span>
<span class="na">Accept-Encoding</span><span class="p">:</span> <span class="s">gzip, deflate</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">localhost:8000</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">HTTPie/0.9.9</span>
</code></pre>
</div>

<p>as it gives this redirect as a reply:</p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Moved Temporarily</span>
<span class="na">Connection</span><span class="p">:</span> <span class="s">keep-alive</span>
<span class="na">Content-Length</span><span class="p">:</span> <span class="s">167</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html</span>
<span class="na">Date</span><span class="p">:</span> <span class="s">Mon, 14 Aug 2017 17:24:59 GMT</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">https://&lt;ISSUER&gt;/authorize?scope=openid&amp;client_id=&lt;CLIENT_ID&gt;&amp;response_mode=query&amp;state=y2J74-KJFzogFXEtWgwDzl-Y&amp;nonce=J-Ylp3E4dIQIhgutGFo3JOOU&amp;redirect_uri=&lt;REDIRECT_URI&gt;&amp;response_type=code</span>
<span class="na">Server</span><span class="p">:</span> <span class="s">kong/0.10.3</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">authorization=&lt;COOKIE&gt;; Path=/; HttpOnly</span>
</code></pre>
</div>
<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;&lt;title&gt;</span>302 Found<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
  <span class="nt">&lt;body</span> <span class="na">bgcolor=</span><span class="s">"white"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;center&gt;&lt;h1&gt;</span>302 Found<span class="nt">&lt;/h1&gt;&lt;/center&gt;</span>
    <span class="nt">&lt;hr&gt;&lt;center&gt;</span>openresty/1.11.2.2<span class="nt">&lt;/center&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>Now, at this point you could try to open the page using a browser and
see if you can go through the authorization code flow, and after that
get an reply from httpbin.org. Please check that your redirect uri is
correctly registered as the identity provider should redirect the
browser back to Kong url where this plugin is enabled (it can be the same
API or it can be different API).</p>

<p>You could also try another ways, like for example password grant
(and please try other authentication methods as well):</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http :8000 Authorization:<span class="s2">"Basic &lt;username&gt;:&lt;password&gt;"</span>
</code></pre>
</div>

<p>Then start playing with plugin configuration, e.g. set some upstream
and downstream headers:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>http patch :8001/plugins/&lt;PLUGIN_ID&gt;
    config.upstream_access_token_jwk_header<span class="o">=</span>x_access_token_jwk
    config.upstream_id_token_header<span class="o">=</span>x_id_token
    config.upstream_id_token_jwk_header<span class="o">=</span>x_id_token_jwk
    config.upstream_refresh_token_header<span class="o">=</span>x_refresh_token
    config.upstream_user_info_header<span class="o">=</span>x_user_info
    config.upstream_introspection_header<span class="o">=</span>x_introspection
    config.downstream_access_token_jwk_header<span class="o">=</span>x_access_token_jwk
    config.downstream_id_token_header<span class="o">=</span>x_id_token
    config.downstream_id_token_jwk_header<span class="o">=</span>x_id_token_jwk
    config.downstream_refresh_token_header<span class="o">=</span>x_refresh_token
    config.downstream_user_info_header<span class="o">=</span>x_user_info
    config.downstream_introspection_header<span class="o">=</span>x_introspection -v
</code></pre>
</div>

<p>And make an authenticated request again to see how this affects
the request and response headers.</p>

<h3 id="compatibility">Compatibility</h3>

<p>The library behind these plugins have been tested with several OpenID
Connect Providers, and we do expect the plugins to work with them as
well.</p>

<h4 id="cloud-providers">Cloud Providers</h4>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th style="text-align: center">Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://auth0.com/">Auth0</a></td>
      <td style="text-align: center"><a href="https://auth0.com/docs/protocols/oidc">Docs</a> / <a href="https://demo.auth0.com/.well-known/openid-configuration">Discovery</a> / <a href="https://demo.auth0.com/.well-known/jwks.json">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.okta.com/">Okta</a></td>
      <td style="text-align: center"><a href="https://developer.okta.com/docs/api/resources/oidc.html">Docs</a> / <a href="https://demo.oktapreview.com/.well-known/openid-configuration">Discovery</a> / <a href="https://demo.oktapreview.com/oauth2/v1/keys">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.onelogin.com/">OneLogin</a></td>
      <td style="text-align: center"><a href="https://developers.onelogin.com/openid-connect">Docs</a> / <a href="https://openid-connect.onelogin.com/oidc/.well-known/openid-configuration">Discovery</a> / <a href="https://openid-connect.onelogin.com/oidc/certs">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.google.com/">Google</a></td>
      <td style="text-align: center"><a href="https://developers.google.com/identity/protocols/OpenIDConnect">Docs</a> / <a href="https://accounts.google.com/.well-known/openid-configuration">Discovery</a> / <a href="https://www.googleapis.com/oauth2/v3/certs">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.microsoft.com/">Microsoft</a> Live Connect</td>
      <td style="text-align: center">Docs / <a href="https://login.live.com/.well-known/openid-configuration">Discovery</a> / <a href="https://nexus.passport.com/public/partner/discovery/key">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.microsoft.com/">Microsoft</a> Azure AD</td>
      <td style="text-align: center"><a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-v2-protocols-oidc">Docs</a> / <a href="https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration">Discovery</a> / <a href="https://login.microsoftonline.com/organizations/discovery/v2.0/keys">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.yahoo.com/">Yahoo!</a></td>
      <td style="text-align: center"><a href="https://developer.yahoo.com/oauth2/guide/openid_connect/">Docs</a> / <a href="https://api.login.yahoo.com/.well-known/openid-configuration">Discovery</a> / <a href="https://login.yahoo.com/openid/v1/certs">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.salesforce.com/f">Salesforce</a></td>
      <td style="text-align: center"><a href="https://developer.salesforce.com/page/Inside_OpenID_Connect_on_Force.com">Docs</a> / <a href="https://test.salesforce.com/.well-known/openid-configuration">Discovery</a> / <a href="https://test.salesforce.com/id/keys">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.paypal.com/">Paypal</a></td>
      <td style="text-align: center"><a href="https://developer.paypal.com/docs/integration/direct/identity/log-in-with-paypal/">Docs</a> / <a href="https://www.paypal.com/.well-known/openid-configuration">Discovery</a> / Keys</td>
    </tr>
  </tbody>
</table>

<h4 id="on-premises">On Premises</h4>

<table>
  <thead>
    <tr>
      <th>Provider</th>
      <th style="text-align: center">Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://connect2id.com/">Connect2id</a></td>
      <td style="text-align: center"><a href="https://connect2id.com/products/server">Docs</a> / <a href="https://demo.c2id.com/c2id/.well-known/openid-configuration">Discovery</a> / <a href="https://demo.c2id.com/c2id/jwks.json">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.pingidentity.com/">PingFederate</a></td>
      <td style="text-align: center"><a href="https://documentation.pingidentity.com/pingfederate/pf84/">Docs</a> / Discovery / Keys</td>
    </tr>
    <tr>
      <td><a href="http://identityserver.io/">IdentityServer4</a></td>
      <td style="text-align: center"><a href="https://identityserver4.readthedocs.io/">Docs</a> / <a href="https://demo.identityserver.io/.well-known/openid-configuration">Discovery</a> / <a href="https://demo.identityserver.io/.well-known/openid-configuration/jwks">Keys</a></td>
    </tr>
    <tr>
      <td><a href="https://www.forgerock.com/platform/access-management/">OpenAM</a></td>
      <td style="text-align: center"><a href="https://backstage.forgerock.com/docs/openam/13.5/admin-guide/chap-openid-connect">Docs</a> / Discovery / Keys</td>
    </tr>
    <tr>
      <td><a href="https://gluu.org/">Gluu</a></td>
      <td style="text-align: center"><a href="https://gluu.org/docs/ce/api-guide/openid-connect-api/">Docs</a> / Discovery / Keys</td>
    </tr>
    <tr>
      <td><a href="http://www.keycloak.org/">Keycloak</a></td>
      <td style="text-align: center"><a href="https://keycloak.gitbooks.io/documentation/securing_apps/topics/oidc/oidc-generic.html">Docs</a> / Discovery / Keys</td>
    </tr>
    <tr>
      <td><a href="https://github.com/coreos/dex">Dex</a></td>
      <td style="text-align: center"><a href="https://github.com/coreos/dex/blob/master/Documentation/openid-connect.md">Docs</a> / Discovery / Keys</td>
    </tr>
  </tbody>
</table>


      

      
    
        </div>
      </div>
    </div>
  </div>
</div>

<!-- <script>
/* eslint-disable */
  window.intercomSettings = {
    app_id: "gwoi3d8y"
  };
</script>

<script>
/* eslint-disable */
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/gwoi3d8y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>
 -->


    
<footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
            <iframe src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c" width="100%" height="60" type="text/html" frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </div>
        <div class="social">

          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
              aria-label="Meetup"
              class="fa fa-meetup"
              aria-hidden="true"
            ></i
          ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://github.com/kong/kong" target="blank" class="btn-gh">
              <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i> Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li><a href="http://konghq.com/kong/">Kong</a></li>
            <li><a href="http://konghq.com/kong-enterprise/">Kong Enterprise</a></li>
            <li><a href="http://konghq.com/cloud/">Kong Cloud</a></li>
            <li><a href="http://konghq.com/subscriptions/">Subscriptions</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a href="https://support.konghq.com" target="blank"
                >Enterprise Support</a
              >
            </li>
            <li>
              <a href="https://docs.konghq.com">Documentation</a>
            </li>
            <li><a href="http://konghq.com/partners/">Partners</a></li>
            <li><a href="http://konghq.com/webinars/">Webinars</a></li>
            <li><a href="http://konghq.com/ebooks/">Ebooks</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li><a href="http://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="http://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">News</a></li>
            <li>
              <a href="http://konghq.com/careers/">Careers <span>Hiring!</span></a>
            </li>
            <li><a href="http://konghq.com/kong-summit/">Kong Summit</a></li>
            <li><a href="http://konghq.com/contact/">Contact</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li><a href="http://konghq.com/install/">Install</a></li>
            <li><a target="blank" href="https://github.com/Kong/">GitHub</a></li>
            <li><a href="https://discuss.konghq.com/"">Kong Nation</a></li>
            <li><a href="http://konghq.com/community/">Community</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2019 &nbsp; <a href="http://konghq.com/terms/">Terms</a><b>•</b><a href="http://konghq.com/privacy/">Privacy</a></span>
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById('subscription_form').submit();
      document.getElementById('follow_up_subscription_form').submit();
      if (response.length == 0) {
        alert('reCaptcha verification failed');
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1553372466"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
      });

      function closeMenu(e) {
        var target = e.target; // Get target
        var menu = $('nav#pagesNav'); // Get menu container
        var header = $('header.navbar'); // Get header
        var toggler = $('.navbar-toggler'); // Get menu toggle btn

        // if clicked target is not the menu container/decendent of menu container, toggler or header close
        if (
          !menu.has(target).length > 0 &&
          !menu.is(target) &&
          !header.is(e.target) &&
          !toggler.is(e.target)
        ) {
          $('#pagesNav').removeClass('kong-navbar-collapse--expand');
          $('button[data-toggle="kong-expand"]').removeClass('active');
        }
      }

      // Close mobile menu when clicked outside
      $(window).on('click', function(e) {
        closeMenu(e);
      });

      // Close mobile menu on esc click
      $(document).keyup(function(e) {
        if (e.keyCode == 27) {
          closeMenu(e);
        }
      });

      // Offscreen Subnav Triggers

      jQuery('.trigger').click(function() {
        jQuery(this)
          .next()
          .addClass('active');
        jQuery('.trigger, .remove').addClass('active');
        jQuery('.kong-navbar-collapse_section').addClass('shift');
      });
      jQuery('.back').click(function() {
        jQuery('.kong-navbar-collapse_section').removeClass('shift');
        jQuery('.subnav, .trigger, .remove').removeClass('active');
      });
    </script>
    <script>
      // trigger overlay on nav hover
      jQuery('.kong-navbar-dropdown').hover(
        function(e) {
          jQuery('.overlay').addClass('active');
        }, // over
        function(e) {
          jQuery('.overlay').removeClass('active');
        } // out
      );
    </script>
  </body>

  
</html>
