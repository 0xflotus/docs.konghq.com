<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Configuration Reference - v0.13.x | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1565393564"
  />
  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id=""
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top">
  <div class="container d-flex">
    <nav id="fullNav" class="col justify-content-md-end kong-navbar_nav">
      <ul class="navbar-nav left">
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Products</a>
          <div class="list-group products">
            <div class="list-group-item flex-row flex-nowrap mega row">
                <div class="kong-navbar-dropdown_column col-md-4 offerings">
                    <h5 class="list-group-item-action">Offerings</h5>
                    <a href="http://konghq.com/kong/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong.svg" alt="Kong">
                      <div>Kong
                        <p class="mb-1 mini">The blazingly fast open source microservices API gateway.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/kong-enterprise/" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-enterprise.svg" alt="Kong Enterprise">
                      <div>Kong Enterprise
                      <p class="mb-1 mini">The next-generation API platform built on top of Kong.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/cloud" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-kong-cloud.svg" alt="Kong Cloud">
                      <div>Kong Cloud
                      <p class="mb-1 mini">Kong Enterprise innovation delivered at cloud speed.</p>
                      </div>
                    </a>
                  </div>
              <div class="kong-navbar-dropdown_column col-md-8 dark">
                <h5 class="list-group-item-action">Service Control Platform</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/products/service-control-platform" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-overview.svg" alt="Overview">
                      <div>Platform Overview
                      <p class="mb-1 mini">End-to-end control of information exchange for hybrid and multi-cloud organizations.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-manager" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Kong Manager">
                      <div>Kong Manager
                      <p class="mb-1 mini">Elegant visual interface for monitoring and managing Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/api-dev-portal" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-manager.svg" alt="Dev Portal">
                      <div>Kong Dev Portal
                      <p class="mb-1 mini">Single source of truth for a unified developer experience.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-vitals" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-vitals.svg" alt="Kong Vitals">
                      <div>Kong Vitals
                      <p class="mb-1 mini">Granular analytics to understand the health of Kong Enterprise.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-brain" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-brain.svg" alt="Kong Brain">
                      <div>Kong Brain
                      <p class="mb-1 mini">Intelligent automation to streamline service development and management.</p>
                      </div>
                    </a>
                    <a href="http://konghq.com/products/kong-immunity" class="list-group-item-action">
                      <img src="/assets/images/nav/icn-immunity.svg" alt="Kong Immunity">
                      <div>Kong Immunity
                      <p class="mb-1 mini">Advanced traffic anomaly detection to identify issues and threats.</p>
                      </div>
                    </a>
                  </div>
              </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Solutions</a>
          <div class="list-group solutions">
          <div class="list-group-item flex-row flex-nowrap">
            <div class="list-item">
            <a href="http://konghq.com/solutions/gateway" target="blank" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-apigateway.svg" alt="API Gateway">
            <div>
            API Gateway
            <p>Take control of your microservices traffic with the world's most popular API gateway.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/kubernetes-ingress" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-kubernetes.svg" alt="Kubernetes Ingress">
            <div>
            Kubernetes Ingress
            <p>Own your Kubernetes cluster by extending Kong functionality as an ingress controller.</p>
            </div>
            </a>
            </div>
            <div class="list-item">
            <a href="http://konghq.com/solutions/service-mesh/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-service-mesh.svg" alt="Service Mesh">
            <div>Service Mesh
            <p>Inject Kong as a sidecar for your services to go from mess to mesh.<br><br></p>
            </div>
            </a>
            </div>
          </div>
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item">
          <a href="https://docs.konghq.com/hub" class="nav-link">Plugins</a>
        </li>
    </ul>
    <a href="http://konghq.com/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/Kogo-gradient.svg" alt="Kong">
    </a>
    <ul class="navbar-nav right">
      <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small left-trigger"><a class="nav-link">Docs</a>
          <div class="list-group docs">
          <div class="list-group-item flex-row flex-wrap">
          <div class="kong-navbar-dropdown_column col-md-6">
            <h5 class="list-group-item-action">Get Started</h5>
            <div class="list-item">
            <a href="https://konghq.com/install" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-install.svg" alt="Install">
              <div>Install
              <p>Get started with Kong now.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
                <a href="https://docs.konghq.com" class="list-group-item list-group-item-action">
                  <img src="/assets/images/nav/icn-getting-started.svg" alt="Docs">
                  <div>Kong Docs + Getting Started
                  <p>Use the 5-minute quickstart and installation guide to deploy Kong now.</p>
                  </div>
                </a>
              </div>
          </div>
          <div class="kong-navbar-dropdown_column col-md-6 dark">
              <h5 class="list-group-item-action">Learn</h5>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Deploy Kong Enterprise
            <p>Use the quickstart and reference materials to launch Kong Enterprise today.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Master Kong Vitals
            <p>Learn how to implement Vitals and optimize it for your deployment.</p>
              </div>
            </a>
            </div>
            <div class="list-item">
            <a href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/" class="list-group-item list-group-item-action">
              <img src="/assets/images/nav/icn-documentation.svg" alt="Documentation">
              <div>Launch your Dev Portal
            <p>Learn how to create and manage your Kong Dev Portal.<br><br></p>
              </div>
            </a>
            </div>
          </div>
          </div>
          </div>
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown--columns">
          <a class="nav-link">Resources</a>
          <div class="list-group resources">
            <div class="list-group-item flex-row flex-nowrap mega row">
              <div class="kong-navbar-dropdown_column col-md-3 learn">
                <h5 class="list-group-item-action">Downloads</h5>
                  <div class="inner-wrap">
                    <a href="http://konghq.com/blog" class="list-group-item-action"><img src="/assets/images/nav/icn-blog-16.svg" alt="blog">Blog</a>
                    <a href="http://konghq.com/ebooks" class="list-group-item-action"><img src="/assets/images/nav/icn-ebooks.svg" alt="ebooks">Ebooks</a>
                    <a href="http://konghq.com/webinars" class="list-group-item-action"><img src="/assets/images/nav/icn-webinars.svg" alt="webinars">Webinars</a>
                    <a href="http://konghq.com/briefs" class="list-group-item-action"><img src="/assets/images/nav/icn-briefs.svg" alt="briefs">Briefs</a>
                  </div>
              </div>
              <div class="kong-navbar-dropdown_column col-md-3">
                  <h5 class="list-group-item-action">Community</h5>
                  <div class="inner-wrap">
                  <a href="https://discuss.konghq.com/" class="list-group-item-action"><img src="/assets/images/nav/icn-kongnation-md.svg" alt="Kong Nation">Kong Nation</a>
                  <a href="https://github.com/Kong/" class="list-group-item-action"><img src="/assets/images/nav/icn-github-md.svg" alt="GitHub">GitHub</a>
                  <a href="http://konghq.com/community" class="list-group-item-action"><img src="/assets/images/nav/icn-meetups-md.svg" alt="meetups">Meetups</a>
                  <a href="http://konghq.com/kong-summit" class="list-group-item-action"><img src="/assets/images/nav/icn-summit.svg" alt="Kong Summit">Kong Summit</a>
                  </div>
                </div>
              <div class="kong-navbar-dropdown_column col-md-6">
                  <h5 class="list-group-item-action">Support</h5>
                  <div class="inner-wrap">
                  <a href="https://support.konghq.com" class="list-group-item-action"><img src="/assets/images/nav/icn-support.svg" alt="support">Enterprise Support Portal</a>
                  <a href="http://konghq.com/faqs/" class="list-group-item-action"><img src="/assets/images/nav/icn-faqs.svg" alt="faqs">FAQs</a>
                  </div>
                </div>
            </div> <!-- list-group-item -->
          </div> <!-- list-group -->
        </li>
        <li class="navbar-item kong-navbar-dropdown kong-navbar-dropdown-small"><a class="nav-link">Company</a>
          <div class="list-group company">
          <div class="list-group-item flex-row flex-wrap">
            <div class="list-item icon">
            <a href="http://konghq.com/about-kong-inc" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-about.svg" alt="about"><span>About</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/investors" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-investors.svg" alt="investors"><span>Investors</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/careers" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-careers.svg" alt="careers"><span>Careers</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/partners" class="list-group-item list-group-item-action"><img class="partners" src="/assets/images/nav/icn-partners.svg" alt="partners"><span>Partners</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/press-room/" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-press.svg" alt="press"><span>Press</span></a>
            </div>
            <div class="list-item icon">
            <a href="http://konghq.com/contact" class="list-group-item list-group-item-action"><img src="/assets/images/nav/icn-contact.svg" alt="contact"><span>Contact</span></a>
            </div>
          </div>
          </div>
        </li>
        <li class="kong-navbar_nav_link kong-navbar_nav_link--cta"><a class="nav-link btn btn-outline-secondary transparent" href="http://konghq.com/install">Install Kong</a></li>
      </ul>
    </nav>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
  </div>
  <nav id="oss_subnav" class="preheader expand">
    <ul id="oss_nav">
      <li class="label"><h4>Open Source</h4></li>
      <li class="slider_line""><a href="https://konghq.com/community/">Community</a></li>
      <li class="kubernetes slider_line"><a href="https://konghq.com/solutions/kubernetes-ingress/">Kubernetes</a></li>
      <li class="install slider_line"><a href="https://konghq.com/install/">Install Kong
        <svg width="12px" height="12px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 12 12" style="enable-background:new 0 0 12 12;" xml:space="preserve">
          <path fill="#004B80" class="st0" d="M12,10v2H0v-2H12z"></path>
          <g id="arrow">
            <polygon fill="#004B80" class="st1" points="7,5.6 8.3,4.3 9.7,5.7 6,9.4 2.3,5.7 3.7,4.3 5,5.6 5,0 7,0 	"></polygon>
          </g>
          </svg>
      </a></li>
    </ul>
    <span id="slide-line"></span>
  </nav>
</header>
<!---- Mobile Navigation ----->
<nav id="pagesNav" class="fixed-top hidden-xl-up kong-navbar-collapse">
<div class="btnwrap">
      <a class="btn" href="http://konghq.com/request-demo">Request Demo</a>
      <a href="http://konghq.com/install" class="btn btn-primary">Install</a>
    </div>
  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-left">
    <h5 class="col-12 trigger">
      <a class="nav-link">Products &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Products</a></h5>

      <div class="col-md-6">
          <h6>Offerings</h6>
          <div class="row">
            <div class="col-4">
              <a class="nav-link" href="http://konghq.com/kong/">Kong</a>
              <a class="nav-link" href="http://konghq.com/kong-enterprise/">Kong Enterprise</a>
              <a class="nav-link" href="http://konghq.com/cloud">Kong Cloud</a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <h6>Service Control Platform</h6>
          <a class="nav-link" href="http://konghq.com/products/service-control-platform">Platform Overview</a>
          <a class="nav-link" href="http://konghq.com/products/kong-manager">Kong Manager</a>
          <a class="nav-link" href="http://konghq.com/api-dev-portal">Kong Dev Portal</a>
          <a class="nav-link" href="http://konghq.com/products/kong-vitals">Kong Vitals</a>
          <a class="nav-link" href="http://konghq.com/products/kong-brain">Kong Brain</a>
          <a class="nav-link" href="http://konghq.com/products/kong-immunity">Kong Immunity</a>
        </div>


    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="trigger">
      <a class="nav-link">Solutions &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
    <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Solutions</a></h5>
      <div class="col-md-6">
              <a class="nav-link" href="http://konghq.com/solutions/gateway/">API Gateway</a>
              <a class="nav-link" href="http://konghq.com/solutions/kubernetes-ingress/">Kubernetes Ingress</a>
              <a class="nav-link" href="http://konghq.com/solutions/service-mesh/">Service Mesh</a>
      </div>
    </div>
  </div>

  <div class="kong-navbar-collapse_section section-left">
    <h5 class="remove">
      <a class="nav-link" href="https://docs.konghq.com/hub">Plugins</a>
    </h5>
  </div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Docs &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Docs</a></h5>
      <div class="col-md-6">
          <h6>Get Started</h6>
          <a class="nav-link" href="https://konghq.com/install/">Install</a>
          <a class="nav-link" href="https://docs.konghq.com/">Kong Docs + Getting Started</a>
      </div>
      <div class="col-md-6">
      <h6>Learn</h6>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/">Deploy Kong Enterprise</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/0.35-x/admin-api/vitals/">Master Kong Vitals</a>
      <a class="nav-link" href="https://docs.konghq.com/enterprise/latest/developer-portal/introduction/">Launch Your Dev Portal</a>
      </div>
    </div>
  </div>


  <div class="kong-navbar-collapse_section row no-gutters justify-content-between section-right">
    <h5 class="col-12 trigger">
      <a class="nav-link">Resources &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
    <div class="subnav">
      <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Resources</a></h5>
      <div class="col-md-6">
          <h6 class="shot-top">Downloads</h6>
          <a class="nav-link" href="http://konghq.com/blog">Blog</a>
          <a class="nav-link" href="http://konghq.com/ebooks">Ebooks</a>
          <a class="nav-link" href="http://konghq.com/webinars">Webinars</a>
          <a class="nav-link" href="http://konghq.com/briefs">Briefs</a>
        </div>
      <div class="col-md-6">
          <h6>Community</h6>
          <a class="nav-link" href="https://discuss.konghq.com/">Kong Nation</a>
          <a class="nav-link" href="https://github.com/Kong/">GitHub</a>
          <a class="nav-link" href="http://konghq.com/community/">Meetups</a>
          <a class="nav-link" href="http://konghq.com/kong-summit/">Kong Summit</a>
        </div>
        <div class="col-md-6">
          <h6>Support</h6>
          <a class="nav-link" href="https://support.konghq.com">Enterprise Support Portal</a>
          <a class="nav-link" href="http://konghq.com/faqs/">FAQs</a>
        </div>
  </div>

</div>

  <div class="kong-navbar-collapse_section section-right">
    <h5 class="trigger">
      <a class="nav-link">Company &nbsp;<i class="fas fa-chevron-right"></i></a>
    </h5>
      <div class="subnav">
        <h5 class="col-12"><a class="back nav-link"><i class="fas fa-chevron-left"></i>&nbsp; Company</a></h5>
        <div class="col-md-6">
          <a class="nav-link" href="http://konghq.com/about-kong-inc">About</a>
          <a class="nav-link" href="http://konghq.com/investors">Investors</a>
          <a class="nav-link" href="/careers">Careers</a>
          <a class="nav-link" href="http://konghq.com/partners">Partners</a>
          <a class="nav-link" href="http://konghq.com/press-room/">Press</a>
          <a class="nav-link" href="http://konghq.com/contact">Contact</a>
        </div>
      </div>
  </div>
  <div class="hidden-md-up kong-navbar-collapse_section kong-navbar-collapse_section--buttons">
  </div>
</nav>
</header>
<div class="overlay"></div>


    <div class="page ">
  <header class="page-header">
    <div class="container">
      <div class="edit-this-page">
        <a target="_blank" href="https://github.com/Kong/docs.konghq.com/tree/master/app/0.13.x/configuration.md"><i class="fa fa-github"></i>
          Edit this Page</a>
      </div>
      <nav class="docs-navigation">
        <a href="/"  class="active" >Kong</a>
        <a href="/enterprise" >Kong Enterprise</a>
        <span class="sidebar-toggle">Open Sidebar</span>
      </nav>
      <div class="page-header-icon">
        <img src="/assets/images/icons/icn-documentation-ce.svg"
          alt="Documentation" />
      </div>
      <div class="page-header-title">
        <h1>Configuration Reference</h1>
      </div>

      
      <div class="versions-dropdown dropdown page-header-right ">
        <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
          aria-expanded="false">
          Version 0.13.x
          
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
          
          <li >
            <a href="/1.2.x" >
              1.2.x <em>(latest)</em>
            </a>
          </li>
          
          <li >
            <a href="/1.1.x" >
              1.1.x 
            </a>
          </li>
          
          <li >
            <a href="/1.0.x" >
              1.0.x 
            </a>
          </li>
          
          <li >
            <a href="/0.14.x" >
              0.14.x 
            </a>
          </li>
          
          <li  class="active" >
            <a href="/0.13.x"  class="active" >
              0.13.x 
            </a>
          </li>
          
          <li >
            <a href="/0.12.x" >
              0.12.x 
            </a>
          </li>
          
          <li >
            <a href="/0.11.x" >
              0.11.x 
            </a>
          </li>
          
          <li >
            <a href="/0.10.x" >
              0.10.x 
            </a>
          </li>
          
          <li >
            <a href="/0.9.x" >
              0.9.x 
            </a>
          </li>
          
          <li >
            <a href="/0.8.x" >
              0.8.x 
            </a>
          </li>
          
          <li >
            <a href="/0.7.x" >
              0.7.x 
            </a>
          </li>
          
          <li >
            <a href="/0.6.x" >
              0.6.x 
            </a>
          </li>
          
          <li >
            <a href="/0.5.x" >
              0.5.x 
            </a>
          </li>
          
          <li >
            <a href="/0.4.x" >
              0.4.x 
            </a>
          </li>
          
          <li >
            <a href="/0.3.x" >
              0.3.x 
            </a>
          </li>
          
          <li >
            <a href="/0.2.x" >
              0.2.x 
            </a>
          </li>
          
        </ul>
        <div id="getkong-algolia-search" class="search-input">
          <i class="fa fa-search"></i>
          <input type="text" placeholder="Search" id="getkong-algolia-search-input" />
        </div>
      </div>
      
    </div>
  </header>

  <div class="container">
    <aside class="page-navigation">
      <span class="close-sidebar"></span>
      

      
      <nav>
        
        <h5>Getting Started</h5>
        
        <ul>
          
          
          <li>
            <a href="/0.13.x/getting-started/introduction"  >
              Introduction
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/getting-started/quickstart"  >
              Five-minute quickstart
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/getting-started/configuring-a-service"  >
              Configuring a Service
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/getting-started/enabling-plugins"  >
              Enabling Plugins
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/getting-started/adding-consumers"  >
              Adding Consumers
            </a>
            
          </li>
          
        </ul>
      </nav>
      
      <nav>
        
        <h5>Guides &amp; References</h5>
        
        <ul>
          
          
          <li>
            <a href="/0.13.x/configuration"  class="active" >
              Configuration reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/cli"  >
              CLI reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/proxy"  >
              Proxy reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/auth"  >
              Authentication reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/loadbalancing"  >
              Load balancing reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/health-checks-circuit-breakers"  >
              Health checks and circuit breakers reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/clustering"  >
              Clustering reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/network"  >
              Network &amp; Firewall
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/lua-reference/"  >
              Public Lua API reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/secure-admin-api"  >
              Securing the Admin API
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/plugin-development"  >
              Plugin Development Guide
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/plugin-development" >Introduction</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/file-structure" >File structure</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/custom-logic" >Implement custom logic</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/plugin-configuration" >Plugin configuration</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/access-the-datastore" >Access the datastore</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/custom-entities" >Store custom entities</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/entities-cache" >Caching custom entities</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/admin-api" >Extending the Admin API</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/tests" >Writing tests</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/plugin-development/distribution" >(un)Install your plugin</a>
                
              </li>
              
            </ul>
            
          </li>
          
        </ul>
      </nav>
      
      <nav>
        
        <a href="/0.13.x/admin-api/">
          <h5>Admin API</h5>
        </a>
        
        <ul>
          
          
          <li>
            <a href="/0.13.x/admin-api/#supported-content-types"  >
              Supported Content Types
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#information-routes"  >
              Information routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-node-information" >Retrieve node information</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-node-status" >Retrieve node status</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#service-object"  >
              Service Object
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-service" >Add Service</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-service" >Retrieve Service</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-services" >List Services</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-service" >Update Service</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-service" >Delete Service</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#route-object"  >
              Route Object
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-route" >Add Route</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-route" >Retrieve Route</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-routes" >List Routes</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-routes-associated-to-a-service" >List Routes associated to a Service</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-route" >Update Route</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-route" >Delete Route</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#api-object"  >
              API Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-api" >Add API</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-api" >Retrieve API</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-apis" >List APIs</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-api" >Update API</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-create-api" >Update or create API</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-api" >Delete API</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#consumer-object"  >
              Consumer Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#create-consumer" >Create Consumer</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-consumer" >Retrieve Consumer</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-consumers" >List Consumers</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-consumer" >Update Consumer</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-create-consumer" >Update or create Consumer</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-consumer" >Delete Consumer</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#plugin-object"  >
              Plugin Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-plugin" >Add Plugin</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-plugin" >Retrieve Plugin</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-all-plugins" >List all Plugins</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-plugin" >Update Plugin</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-add-plugin" >Update or Add Plugin</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-plugin" >Delete Plugin</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-enabled-plugins" >Retrieve Enabled Plugins</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-plugin-schema" >Retrieve Plugin Schema</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#certificate-object"  >
              Certificate Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-certificate" >Add Certificate</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-certificate" >Retrieve Certificate</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-certificates" >List Certificates</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-certificate" >Update Certificate</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-create-certificate" >Update or Create Certificate</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-certificate" >Delete Certificate</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#sni-objects"  >
              SNI Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-sni" >Add SNI</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-sni" >Retrieve SNI</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-snis" >List SNIs</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-sni" >Update SNI</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-create-sni" >Update or Create SNI</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-sni" >Delete SNI</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#upstream-objects"  >
              Upstream Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-upstream" >Add Upstream</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#retrieve-upstream" >Retrieve Upstream</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-upstreams" >List all Upstreams</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-upstream" >Update Upstream</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#update-or-create-upstream" >Update or create Upstream</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-upstream" >Delete Upstream</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#show-upstream-health-for-node" >Show Upstream health for node</a>
                
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.13.x/admin-api/#target-object"  >
              Target Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.13.x/admin-api/#add-target" >Add Target</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-targets" >List Targets</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#list-all-targets" >List All Targets</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#delete-target" >Delete Target</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#set-target-as-healthy" >Set Target as Healthy</a>
                
              </li>
              
              
              <li>
                <a href="/0.13.x/admin-api/#set-target-as-unhealthy" >Set Target as Unhealthy</a>
                
              </li>
              
            </ul>
            
          </li>
          
        </ul>
      </nav>
      
    </aside>

    <div class="page-content-container" id="documentation">
      <div class="page-content">
        <div class="content show-anchor-links">
          
          <div class="alert alert-ee">
            Maybe you were looking for the <a href="/enterprise"><strong>Enterprise Documentation</strong></a>
            instead?
          </div>
          
          
          <div class="alert alert-warning">
            <strong>Careful!</strong> You are browsing documentation for an outdated version of Kong. Go <a href="/latest">here</a>
            to browse the documentation for the latest version.
          </div>
          

          
          
          <h2 id="table-of-contents">Table of Contents</h2>
          <ul>
  <li><a href="#configuration-loading" class="scroll-to">Configuration loading</a></li>
  <li><a href="#verifying-your-configuration" class="scroll-to">Verifying your configuration</a></li>
  <li><a href="#environment-variables" class="scroll-to">Environment variables</a></li>
  <li><a href="#custom-nginx-configuration--embedding-kong" class="scroll-to">Custom Nginx configuration &amp; embedding Kong</a>
    <ul>
      <li><a href="#custom-nginx-configuration" class="scroll-to">Custom Nginx configuration</a></li>
      <li><a href="#embedding-kong-in-openresty" class="scroll-to">Embedding Kong in OpenResty</a></li>
      <li><a href="#serving-both-a-website-and-your-apis-from-kong" class="scroll-to">Serving both a website and your APIs from Kong</a></li>
    </ul>
  </li>
  <li><a href="#properties-reference" class="scroll-to">Properties reference</a>
    <ul>
      <li><a href="#general-section" class="scroll-to">General section</a>
        <ul>
          <li><a href="#prefix" class="scroll-to">prefix</a></li>
          <li><a href="#log_level" class="scroll-to">log_level</a></li>
          <li><a href="#proxy_access_log" class="scroll-to">proxy_access_log</a></li>
          <li><a href="#proxy_error_log" class="scroll-to">proxy_error_log</a></li>
          <li><a href="#admin_access_log" class="scroll-to">admin_access_log</a></li>
          <li><a href="#admin_error_log" class="scroll-to">admin_error_log</a></li>
          <li><a href="#custom_plugins" class="scroll-to">custom_plugins</a></li>
          <li><a href="#anonymous_reports" class="scroll-to">anonymous_reports</a></li>
        </ul>
      </li>
      <li><a href="#nginx-section" class="scroll-to">Nginx section</a>
        <ul>
          <li><a href="#proxy_listen" class="scroll-to">proxy_listen</a></li>
          <li><a href="#admin_listen" class="scroll-to">admin_listen</a></li>
          <li><a href="#nginx_user" class="scroll-to">nginx_user</a></li>
          <li><a href="#nginx_worker_processes" class="scroll-to">nginx_worker_processes</a></li>
          <li><a href="#nginx_daemon" class="scroll-to">nginx_daemon</a></li>
          <li><a href="#mem_cache_size" class="scroll-to">mem_cache_size</a></li>
          <li><a href="#ssl_cipher_suite" class="scroll-to">ssl_cipher_suite</a></li>
          <li><a href="#ssl_ciphers" class="scroll-to">ssl_ciphers</a></li>
          <li><a href="#ssl_cert" class="scroll-to">ssl_cert</a></li>
          <li><a href="#ssl_cert_key" class="scroll-to">ssl_cert_key</a></li>
          <li><a href="#client_ssl" class="scroll-to">client_ssl</a></li>
          <li><a href="#client_ssl_cert" class="scroll-to">client_ssl_cert</a></li>
          <li><a href="#client_ssl_cert_key" class="scroll-to">client_ssl_cert_key</a></li>
          <li><a href="#admin_ssl_cert" class="scroll-to">admin_ssl_cert</a></li>
          <li><a href="#admin_ssl_cert_key" class="scroll-to">admin_ssl_cert_key</a></li>
          <li><a href="#upstream_keepalive" class="scroll-to">upstream_keepalive</a></li>
          <li><a href="#server_tokens" class="scroll-to">server_tokens</a></li>
          <li><a href="#latency_tokens" class="scroll-to">latency_tokens</a></li>
          <li><a href="#trusted_ips" class="scroll-to">trusted_ips</a></li>
          <li><a href="#real_ip_header" class="scroll-to">real_ip_header</a></li>
          <li><a href="#real_ip_recursive" class="scroll-to">real_ip_recursive</a></li>
          <li><a href="#client_max_body_size" class="scroll-to">client_max_body_size</a></li>
          <li><a href="#client_body_buffer_size" class="scroll-to">client_body_buffer_size</a></li>
          <li><a href="#error_default_type" class="scroll-to">error_default_type</a></li>
        </ul>
      </li>
      <li><a href="#datastore-section" class="scroll-to">Datastore section</a>
        <ul>
          <li><a href="#database" class="scroll-to">database</a></li>
          <li><a href="#postgres-settings" class="scroll-to">Postgres settings</a></li>
          <li><a href="#cassandra-settings" class="scroll-to">Cassandra settings</a></li>
        </ul>
      </li>
      <li><a href="#datastore-cache-section" class="scroll-to">Datastore cache section</a>
        <ul>
          <li><a href="#db_update_frequency" class="scroll-to">db_update_frequency</a></li>
          <li><a href="#db_update_propagation" class="scroll-to">db_update_propagation</a></li>
          <li><a href="#db_cache_ttl" class="scroll-to">db_cache_ttl</a></li>
        </ul>
      </li>
      <li><a href="#dns-resolver-section" class="scroll-to">DNS resolver section</a>
        <ul>
          <li><a href="#dns_resolver" class="scroll-to">dns_resolver</a></li>
          <li><a href="#dns_hostsfile" class="scroll-to">dns_hostsfile</a></li>
          <li><a href="#dns_order" class="scroll-to">dns_order</a></li>
          <li><a href="#dns_stale_ttl" class="scroll-to">dns_stale_ttl</a></li>
          <li><a href="#dns_not_found_ttl" class="scroll-to">dns_not_found_ttl</a></li>
          <li><a href="#dns_error_ttl" class="scroll-to">dns_error_ttl</a></li>
          <li><a href="#dns_no_sync" class="scroll-to">dns_no_sync</a></li>
        </ul>
      </li>
      <li><a href="#development--miscellaneous-section" class="scroll-to">Development &amp; miscellaneous section</a>
        <ul>
          <li><a href="#lua_ssl_trusted_certificate" class="scroll-to">lua_ssl_trusted_certificate</a></li>
          <li><a href="#lua_ssl_verify_depth" class="scroll-to">lua_ssl_verify_depth</a></li>
          <li><a href="#lua_package_path" class="scroll-to">lua_package_path</a></li>
          <li><a href="#lua_package_cpath" class="scroll-to">lua_package_cpath</a></li>
          <li><a href="#lua_socket_pool_size" class="scroll-to">lua_socket_pool_size</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

          

          <h2 id="configuration-loading">Configuration loading</h2>

<p>Kong comes with a default configuration file that can be found at
<code class="highlighter-rouge">/etc/kong/kong.conf.default</code> if you installed Kong via one of the official
packages. To start configuring Kong, you can copy this file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cp</span> /etc/kong/kong.conf.default /etc/kong/kong.conf
</code></pre></div></div>

<p>Kong will operate with default settings should all the values in your
configuration be commented-out. Upon starting, Kong looks for several
default locations that might contain a configuration file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/kong/kong.conf
/etc/kong.conf
</code></pre></div></div>

<p>You can override this behavior by specifying a custom path for your
configuration file using the <code class="highlighter-rouge">-c / --conf</code> argument in the CLI:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kong start <span class="nt">--conf</span> /path/to/kong.conf
</code></pre></div></div>

<p>The configuration format is straightforward: simply uncomment any property
(comments are defined by the <code class="highlighter-rouge">#</code> character) and modify it to your needs.
Booleans values can be specified as <code class="highlighter-rouge">on/off</code> or <code class="highlighter-rouge">true</code>/<code class="highlighter-rouge">false</code> for convenience.</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h2 id="verifying-your-configuration">Verifying your configuration</h2>

<p>You can verify the integrity of your settings with the <code class="highlighter-rouge">check</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kong check &lt;path/to/kong.conf&gt;
configuration at &lt;path/to/kong.conf&gt; is valid
</code></pre></div></div>

<p>This command will take into account the environment variables you have
currently set, and will error out in case your settings are invalid.</p>

<p>Additionally, you can also use the CLI in debug mode to have more insight
as to what properties Kong is being started with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kong start <span class="nt">-c</span> &lt;kong.conf&gt; <span class="nt">--vv</span>
2016/08/11 14:53:36 <span class="o">[</span>verbose] no config file found at /etc/kong.conf
2016/08/11 14:53:36 <span class="o">[</span>verbose] no config file found at /etc/kong/kong.conf
2016/08/11 14:53:36 <span class="o">[</span>debug] admin_listen <span class="o">=</span> <span class="s2">"0.0.0.0:8001"</span>
2016/08/11 14:53:36 <span class="o">[</span>debug] database <span class="o">=</span> <span class="s2">"postgres"</span>
2016/08/11 14:53:36 <span class="o">[</span>debug] log_level <span class="o">=</span> <span class="s2">"notice"</span>
<span class="o">[</span>...]
</code></pre></div></div>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h2 id="environment-variables">Environment variables</h2>

<p>When loading properties out of a configuration file, Kong will also look for
environment variables of the same name. This allows you to fully configure Kong
via environment variables, which is very convenient for container-based
infrastructures, for example.</p>

<p>All environment variables prefixed with <code class="highlighter-rouge">KONG_</code>, capitalized and bearing the
same name as a setting will override it.</p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>log_level = debug # in kong.conf
</code></pre></div></div>

<p>Can be overridden with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">export </span><span class="nv">KONG_LOG_LEVEL</span><span class="o">=</span>error
</code></pre></div></div>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h2 id="custom-nginx-configuration--embedding-kong">Custom Nginx configuration &amp; embedding Kong</h2>

<p>Tweaking the Nginx configuration is an essential part of setting up your Kong
instances since it allows you to optimize its performance for your
infrastructure, or embed Kong in an already running OpenResty instance.</p>

<h3 id="custom-nginx-configuration">Custom Nginx configuration</h3>

<p>Kong can be started, reloaded and restarted with an <code class="highlighter-rouge">--nginx-conf</code> argument,
which must specify an Nginx configuration template. Such a template uses the
<a href="http://stevedonovan.github.io/Penlight/api/index.html">Penlight</a> <a href="http://stevedonovan.github.io/Penlight/api/libraries/pl.template.html">templating engine</a>, which is compiled using
the given Kong configuration, before being dumped in your Kong prefix
directory, moments before starting Nginx.</p>

<p>The default template can be found at:
https://github.com/Kong/kong/tree/master/kong/templates. It is split in two
Nginx configuration files: <code class="highlighter-rouge">nginx.lua</code> and <code class="highlighter-rouge">nginx_kong.lua</code>. The former is
minimalistic and includes the latter, which contains everything Kong requires
to run. When <code class="highlighter-rouge">kong start</code> runs, right before starting Nginx, it copies these
two files into the prefix directory, which looks like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/kong
├── nginx-kong.conf
├── nginx.conf
</code></pre></div></div>

<p>If you wish to include other <code class="highlighter-rouge">server</code> blocks in your Nginx configuration, or if
you must tweak global settings that are not exposed by the Kong configuration,
here is a suggestion:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------
# custom_nginx.template
# ---------------------

worker_processes ${{NGINX_WORKER_PROCESSES}}; # can be set by kong.conf
daemon ${{NGINX_DAEMON}};                     # can be set by kong.conf

pid pids/nginx.pid;                      # this setting is mandatory
error_log logs/error.log ${{LOG_LEVEL}}; # can be set by kong.conf

events {
    use epoll; # custom setting
    multi_accept on;
}

http {
    # include default Kong Nginx config
    include 'nginx-kong.conf';

    # custom server
    server {
        listen 8888;
        server_name custom_server;

        location / {
          ... # etc
        }
    }
}
</code></pre></div></div>

<p>You can then start Kong with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>kong start <span class="nt">-c</span> kong.conf <span class="nt">--nginx-conf</span> custom_nginx.template
</code></pre></div></div>

<p>If you wish to customize the Kong Nginx sub-configuration file to, eventually,
add other Lua handlers or customize the <code class="highlighter-rouge">lua_*</code> directives, you can inline the
<code class="highlighter-rouge">nginx_kong.lua</code> configuration in this <code class="highlighter-rouge">custom_nginx.template</code> example file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------
# custom_nginx.template
# ---------------------

worker_processes ${{NGINX_WORKER_PROCESSES}}; # can be set by kong.conf
daemon ${{NGINX_DAEMON}};                     # can be set by kong.conf

pid pids/nginx.pid;                      # this setting is mandatory
error_log logs/error.log ${{LOG_LEVEL}}; # can be set by kong.conf

events {}

http {
  resolver ${{DNS_RESOLVER}} ipv6=off;
  charset UTF-8;
  error_log logs/error.log ${{LOG_LEVEL}};
  access_log logs/access.log;

  ... # etc
}
</code></pre></div></div>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="embedding-kong-in-openresty">Embedding Kong in OpenResty</h3>

<p>If you are running your own OpenResty servers, you can also easily embed Kong
by including the Kong Nginx sub-configuration using the <code class="highlighter-rouge">include</code> directive
(similar to the examples of the previous section). If you have a valid
top-level NGINX configuration that simply includes the Kong-specific
configuration:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># my_nginx.conf

http {
    include 'nginx-kong.conf';
}
</code></pre></div></div>

<p>you can start your instance like so:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>nginx <span class="nt">-p</span> /usr/local/openresty <span class="nt">-c</span> my_nginx.conf
</code></pre></div></div>

<p>And Kong will be running in that instance (as configured in <code class="highlighter-rouge">nginx-kong.conf</code>).</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h3 id="serving-both-a-website-and-your-apis-from-kong">Serving both a website and your APIs from Kong</h3>

<p>A common use case for API providers is to make Kong serve both a website
and the APIs themselves over the Proxy port — <code class="highlighter-rouge">80</code> or <code class="highlighter-rouge">443</code> in
production. For example, <code class="highlighter-rouge">https://my-api.com</code> (Website) and
<code class="highlighter-rouge">https://my-api.com/api/v1</code> (API).</p>

<p>To achieve this, we cannot simply declare a new virtual server block,
like we did in the previous section. A good solution is to use a custom
Nginx configuration template which inlines <code class="highlighter-rouge">nginx_kong.lua</code> and adds a new
<code class="highlighter-rouge">location</code> block serving the website alongside the Kong Proxy <code class="highlighter-rouge">location</code>
block:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------
# custom_nginx.template
# ---------------------

worker_processes ${{NGINX_WORKER_PROCESSES}}; # can be set by kong.conf
daemon ${{NGINX_DAEMON}};                     # can be set by kong.conf

pid pids/nginx.pid;                      # this setting is mandatory
error_log logs/error.log ${{LOG_LEVEL}}; # can be set by kong.conf
events {}

http {
  # here, we inline the contents of nginx_kong.lua
  charset UTF-8;

  # any contents until Kong's Proxy server block
  ...

  # Kong's Proxy server block
  server {
    server_name kong;

    # any contents until the location / block
    ...

    # here, we declare our custom location serving our website
    # (or API portal) which we can optimize for serving static assets
    location / {
      root /var/www/my-api.com;
      index index.htm index.html;
      ...
    }

    # Kong's Proxy location / has been changed to /api/v1
    location /api/v1 {
      set $upstream_host nil;
      set $upstream_scheme nil;
      set $upstream_uri nil;

      # Any remaining configuration for the Proxy location
      ...
    }
  }

  # Kong's Admin server block goes below
}
</code></pre></div></div>

<p><a href="#table-of-contents">Back to TOC</a></p>

<h2 id="properties-reference">Properties reference</h2>

<h3 id="general-section">General section</h3>

<h4 id="prefix">prefix</h4>

<p>Working directory. Equivalent to Nginx’s prefix path, containing temporary files
and logs. Each Kong process must have a separate working directory.</p>

<p>Default: <code class="highlighter-rouge">/usr/local/kong</code></p>

<hr />

<h4 id="log_level">log_level</h4>

<p>Log level of the Nginx server. Logs can be found at <code class="highlighter-rouge">&lt;prefix&gt;/logs/error.log</code></p>

<p>See http://nginx.org/en/docs/ngx_core_module.html#error_log for a list of
accepted values.</p>

<p>Default: <code class="highlighter-rouge">notice</code></p>

<hr />

<h4 id="proxy_access_log">proxy_access_log</h4>

<p>Path for proxy port request access logs. Set this value to <code class="highlighter-rouge">off</code> to disable
logging proxy requests. If this value is a relative path, it will be placed
under the <code class="highlighter-rouge">prefix</code> location.</p>

<p>Default: <code class="highlighter-rouge">logs/access.log</code></p>

<hr />

<h4 id="proxy_error_log">proxy_error_log</h4>

<p>Path for proxy port request error logs. Granularity of these logs is adjusted
by the <code class="highlighter-rouge">log_level</code> directive.</p>

<p>Default: <code class="highlighter-rouge">logs/error.log</code></p>

<hr />

<h4 id="admin_access_log">admin_access_log</h4>

<p>Path for Admin API request access logs. Set this value to <code class="highlighter-rouge">off</code> to disable
logging Admin API requests. If this value is a relative path, it will be placed
under the <code class="highlighter-rouge">prefix</code> location.</p>

<p>Default: <code class="highlighter-rouge">logs/admin_access.log</code></p>

<hr />

<h4 id="admin_error_log">admin_error_log</h4>

<p>Path for Admin API request error logs. Granularity of these logs is adjusted by
the <code class="highlighter-rouge">log_level</code> directive.</p>

<p>Default: <code class="highlighter-rouge">logs/error.log</code></p>

<hr />

<h4 id="custom_plugins">custom_plugins</h4>

<p>Comma-separated list of additional plugins this node should load. Use this
property to load custom plugins that are not bundled with Kong. Plugins will
be loaded from the <code class="highlighter-rouge">kong.plugins.{name}.*</code> namespace.</p>

<p>Default: none</p>

<p>Example: <code class="highlighter-rouge">my-plugin,hello-world,custom-rate-limiting</code></p>

<hr />

<h4 id="anonymous_reports">anonymous_reports</h4>

<p>Send anonymous usage data such as error stack traces to help improve Kong.</p>

<p>Default: <code class="highlighter-rouge">on</code></p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<hr />

<h3 id="nginx-section">Nginx section</h3>

<h4 id="proxy_listen">proxy_listen</h4>

<p>Comma-separated list of addresses and ports on which the proxy server should
listen. The proxy server is the public entrypoint of Kong, which proxies
traffic from your consumers to your backend services. This value accepts IPv4,
IPv6, and hostnames.</p>

<p>Some suffixes can be specified for each pair:</p>

<ul>
  <li><code class="highlighter-rouge">ssl</code> will require that all connections made through a particular
address/port be made with TLS enabled.</li>
  <li><code class="highlighter-rouge">http2</code> will allow for clients to open HTTP/2 connections to Kong’s proxy
server.</li>
  <li>Finally, <code class="highlighter-rouge">proxy_protocol</code> will enable usage of the PROXY protocol for a
given address/port.</li>
</ul>

<p>the proxy port for this node, enabling a ‘control-plane’ mode (without traffic
proxying capabilities) which can configure a cluster of nodes connected to the
same database.</p>

<p>See http://nginx.org/en/docs/http/ngx_http_core_module.html#listen for
a description of the accepted formats for this and other <code class="highlighter-rouge">*_listen</code> values.</p>

<p>Default: <code class="highlighter-rouge">0.0.0.0:8000, 0.0.0.0:8443 ssl</code></p>

<p>Example: <code class="highlighter-rouge">0.0.0.0:80, 0.0.0.0:81 http2, 0.0.0.0:443 ssl, 0.0.0.0:444 http2 ssl</code></p>

<hr />

<h4 id="admin_listen">admin_listen</h4>

<p>Comma-separated list of addresses and ports on which the Admin interface
should listen. The Admin interface is the API allowing you to configure and
manage Kong. Access to this interface should be <em>restricted</em> to Kong
administrators <em>only</em>. This value accepts IPv4, IPv6, and hostnames. Some
suffixes can be specified for each pair:</p>

<ul>
  <li><code class="highlighter-rouge">ssl</code> will require that all connections made through a particular
address/port be made with TLS enabled.</li>
  <li><code class="highlighter-rouge">http2</code> will allow for clients to open HTTP/2 connections to Kong’s
proxy server.</li>
  <li>Finally, <code class="highlighter-rouge">proxy_protocol</code> will enable usage of the PROXY protocol for a
given address/port.</li>
</ul>

<p>This value can be set to <code class="highlighter-rouge">off</code>, thus disabling the Admin interface for this
node, enabling a ‘data-plane’ mode (without configuration capabilities)
pulling its configuration changes from the database.</p>

<p>Default: <code class="highlighter-rouge">127.0.0.1:8001, 127.0.0.1:8444 ssl</code></p>

<p>Example: <code class="highlighter-rouge">127.0.0.1:8444 http2 ssl</code></p>

<hr />

<h4 id="nginx_user">nginx_user</h4>

<p>Defines user and group credentials used by worker processes. If group is omitted, a
group whose name equals that of user is used.</p>

<p>Default: <code class="highlighter-rouge">nobody nobody</code></p>

<p>Example: <code class="highlighter-rouge">nginx www</code></p>

<hr />

<h4 id="nginx_worker_processes">nginx_worker_processes</h4>

<p>Determines the number of worker processes spawned by Nginx.
See http://nginx.org/en/docs/ngx_core_module.html#worker_processes for detailed
usage of this directive and a description of accepted values.</p>

<p>Default: <code class="highlighter-rouge">auto</code></p>

<hr />

<h4 id="nginx_daemon">nginx_daemon</h4>

<p>Determines whether Nginx will run as a daemon or as a foreground process.
Mainly useful for development or when running Kong inside a Docker environment.</p>

<p>See http://nginx.org/en/docs/ngx_core_module.html#daemon.</p>

<p>Default: <code class="highlighter-rouge">on</code></p>

<hr />

<h4 id="mem_cache_size">mem_cache_size</h4>

<p>Size of the in-memory cache for database entities. The accepted units are <code class="highlighter-rouge">k</code> and
<code class="highlighter-rouge">m</code>, with a minimum recommended value of a few MBs.</p>

<p>Default: <code class="highlighter-rouge">128m</code></p>

<hr />

<h4 id="ssl_cipher_suite">ssl_cipher_suite</h4>

<p>Defines the TLS ciphers served by Nginx. Accepted values are <code class="highlighter-rouge">modern</code>,
<code class="highlighter-rouge">intermediate</code>, <code class="highlighter-rouge">old</code>, or <code class="highlighter-rouge">custom</code>.
See https://wiki.mozilla.org/Security/Server_Side_TLS for detailed
descriptions of each cipher suite.</p>

<p>Default: <code class="highlighter-rouge">modern</code></p>

<hr />

<h4 id="ssl_ciphers">ssl_ciphers</h4>

<p>Defines a custom list of TLS ciphers to be served by Nginx. This list must
conform to the pattern defined by <code class="highlighter-rouge">openssl ciphers</code>. This value is ignored if
<code class="highlighter-rouge">ssl_cipher_suite</code> is not <code class="highlighter-rouge">custom</code>.</p>

<p>Default: none</p>

<hr />

<h4 id="ssl_cert">ssl_cert</h4>

<p>The absolute path to the SSL certificate for <code class="highlighter-rouge">proxy_listen</code> values with SSL enabled.</p>

<p>Default: none</p>

<hr />

<h4 id="ssl_cert_key">ssl_cert_key</h4>

<p>The absolute path to the SSL key for <code class="highlighter-rouge">proxy_listen</code> values with SSL enabled.</p>

<p>Default: none</p>

<hr />

<h4 id="client_ssl">client_ssl</h4>

<p>Determines if Nginx should send client-side SSL certificates when proxying
requests.</p>

<p>Default: <code class="highlighter-rouge">off</code></p>

<hr />

<h4 id="client_ssl_cert">client_ssl_cert</h4>

<p>If <code class="highlighter-rouge">client_ssl</code> is enabled, the absolute path to the client SSL certificate for
the <code class="highlighter-rouge">proxy_ssl_certificate</code> directive. Note that this value is statically
defined on the node, and currently cannot be configured on a per-API basis.</p>

<p>Default: none</p>

<hr />

<h4 id="client_ssl_cert_key">client_ssl_cert_key</h4>

<p>If <code class="highlighter-rouge">client_ssl</code> is enabled, the absolute path to the client SSL key for the
<code class="highlighter-rouge">proxy_ssl_certificate_key</code> address. Note this value is statically defined on
the node, and currently cannot be configured on a per-API basis.</p>

<p>Default: none</p>

<hr />

<h4 id="admin_ssl_cert">admin_ssl_cert</h4>

<p>The absolute path to the SSL certificate for <code class="highlighter-rouge">admin_listen</code> values with SSL enabled.</p>

<p>Default: none</p>

<hr />

<h4 id="admin_ssl_cert_key">admin_ssl_cert_key</h4>

<p>The absolute path to the SSL key for <code class="highlighter-rouge">admin_listen</code> values with SSL enabled.</p>

<p>Default: none</p>

<hr />

<h4 id="upstream_keepalive">upstream_keepalive</h4>

<p>Sets the maximum number of idle keepalive connections to upstream servers that
are preserved in the cache of each worker process. When this number is
exceeded, the least recently used connections are closed.</p>

<p>Default: <code class="highlighter-rouge">60</code></p>

<hr />

<h4 id="server_tokens">server_tokens</h4>

<p>Enables or disables emitting Kong version on error pages and in the <code class="highlighter-rouge">Server</code>
or <code class="highlighter-rouge">Via</code> (in case the request was proxied) response header field.</p>

<p>Default: <code class="highlighter-rouge">on</code></p>

<hr />

<h4 id="latency_tokens">latency_tokens</h4>

<p>Enables or disables emitting Kong latency information in the <code class="highlighter-rouge">X-Kong-Proxy-Latency</code>
and <code class="highlighter-rouge">X-Kong-Upstream-Latency</code> response header fields.</p>

<p>Default: <code class="highlighter-rouge">on</code></p>

<hr />

<h4 id="trusted_ips">trusted_ips</h4>

<p>Defines trusted IP address blocks that are known to send correct
<code class="highlighter-rouge">X-Forwarded-*</code> headers. Requests from trusted IPs make Kong forward their
<code class="highlighter-rouge">X-Forwarded-*</code> headers upstream. Non-trusted requests make Kong insert its own
<code class="highlighter-rouge">X-Forwarded-*</code> headers.</p>

<p>This property also sets the <code class="highlighter-rouge">set_real_ip_from</code> directive(s) in the Nginx
configuration. It accepts the same type of values (CIDR blocks) but as a
comma-separated list.</p>

<p>To trust <em>all</em> /!\ IPs, set this value to <code class="highlighter-rouge">0.0.0.0/0,::/0</code>.</p>

<p>If the special value <code class="highlighter-rouge">unix:</code> is specified, all UNIX-domain sockets will be
trusted.</p>

<p>See <a href="http://nginx.org/en/docs/http/ngx_http_realip_module.html#set_real_ip_from">the Nginx docs</a>
for more details on the <code class="highlighter-rouge">set_real_ip_from</code> directive.</p>

<p>Default: none</p>

<hr />

<h4 id="real_ip_header">real_ip_header</h4>

<p>Defines the request header field whose value will be used to replace the client
address. This value sets the <a href="http://nginx.org/en/docs/http/ngx_http_realip_module.html">ngx_http_realip_module</a>
directive of the same name in the Nginx configuration.</p>

<p>If this value receives <code class="highlighter-rouge">proxy_protocol</code>, the <code class="highlighter-rouge">proxy_protocol</code> parameter will be
appended to the <code class="highlighter-rouge">listen</code> directive of the Nginx template.</p>

<p>See <a href="http://nginx.org/en/docs/http/ngx_http_realip_module.html#real_ip_header">the Nginx docs</a>
for a description of this directive.</p>

<p>Default: <code class="highlighter-rouge">X-Real-IP</code></p>

<hr />

<h4 id="real_ip_recursive">real_ip_recursive</h4>

<p>This value sets the <a href="http://nginx.org/en/docs/http/ngx_http_realip_module.html">ngx_http_realip_module</a> directive
of the same name in the Nginx configuration.</p>

<p>See <a href="http://nginx.org/en/docs/http/ngx_http_realip_module.html#real_ip_recursive">the Nginx docs</a>
for a description of this directive.</p>

<p>Default: <code class="highlighter-rouge">off</code></p>

<hr />

<h4 id="client_max_body_size">client_max_body_size</h4>

<p>Defines the maximum request body size allowed by requests proxied by Kong, specified in the
Content-Length request header. If a request exceeds this limit, Kong will respond with a
413 (Request Entity Too Large). Setting this value to 0 disables checking the request body
size.</p>

<p>Note: See <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_max_body_size">the Nginx docs</a>
for further description of this parameter. Numeric values may be suffixed with
<code class="highlighter-rouge">k</code> or <code class="highlighter-rouge">m</code> to denote limits in terms of kilobytes or megabytes.</p>

<p>Default: <code class="highlighter-rouge">0</code></p>

<hr />

<h4 id="client_body_buffer_size">client_body_buffer_size</h4>

<p>Defines the buffer size for reading the request body. If the client request body is
larger than this value, the body will be buffered to disk. Note that when the body is
buffered to disk Kong plugins that access or manipulate the request body may not work, so
it is advisable to set this value as high as possible (e.g., set it as high as
<code class="highlighter-rouge">client_max_body_size</code> to force request bodies to be kept in memory). Do note that
high-concurrency environments will require significant memory allocations to process
many concurrent large request bodies.</p>

<p>Note: See <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#client_body_buffer_size">the Nginx docs</a>
for further description of this parameter. Numeric values may be suffixed with
<code class="highlighter-rouge">k</code> or <code class="highlighter-rouge">m</code> to denote limits in terms of kilobytes or megabytes.</p>

<p>Default: <code class="highlighter-rouge">8k</code></p>

<hr />

<h4 id="error_default_type">error_default_type</h4>

<p>Default MIME type to use when the request <code class="highlighter-rouge">Accept</code> header is missing and Nginx is
returning an error for the request. Accepted values are <code class="highlighter-rouge">text/plain</code>,
<code class="highlighter-rouge">text/html</code>, <code class="highlighter-rouge">application/json</code>, and <code class="highlighter-rouge">application/xml</code>.</p>

<p>Default: <code class="highlighter-rouge">text/plain</code></p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<hr />

<h3 id="datastore-section">Datastore section</h3>

<p>Kong will store all of its data (such as APIs, Consumers and Plugins) in
either Cassandra or PostgreSQL.</p>

<p>All Kong nodes belonging to the same cluster must connect themselves to the
same database.</p>

<div class="alert alert-warning">
  <p><strong>Starting with Kong 0.12.0:</strong></p>
  <ul>
    <li>PostgreSQL 9.4 support should be considered deprecated. Users are encouraged to upgrade to 9.5+</li>
    <li>Cassandra 2.1 support should be considered deprecated. Users are encouraged to upgrade to 2.2+</li>
  </ul>
</div>

<hr />

<h4 id="database">database</h4>

<p>Determines which of PostgreSQL or Cassandra this node will use as its
datastore. Accepted values are <code class="highlighter-rouge">postgres</code> and <code class="highlighter-rouge">cassandra</code>.</p>

<p>Default: <code class="highlighter-rouge">postgres</code></p>

<hr />

<h4 id="postgres-settings">Postgres settings</h4>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>pg_host</strong></td>
      <td>Host of the Postgres server</td>
    </tr>
    <tr>
      <td><strong>pg_port</strong></td>
      <td>Port of the Postgres server</td>
    </tr>
    <tr>
      <td><strong>pg_user</strong></td>
      <td>Postgres user</td>
    </tr>
    <tr>
      <td><strong>pg_password</strong></td>
      <td>Postgres user’s password</td>
    </tr>
    <tr>
      <td><strong>pg_database</strong></td>
      <td>Database to connect to. <strong>must exist</strong></td>
    </tr>
    <tr>
      <td><strong>pg_ssl</strong></td>
      <td>Enable SSL connections to the server</td>
    </tr>
    <tr>
      <td><strong>pg_ssl_verify</strong></td>
      <td>If <code class="highlighter-rouge">pg_ssl</code> is enabled, toggle server certificate verification. See <code class="highlighter-rouge">lua_ssl_trusted_certificate</code> setting.</td>
    </tr>
  </tbody>
</table>

<hr />

<h4 id="cassandra-settings">Cassandra settings</h4>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>cassandra_contact_points</strong></td>
      <td>Comma-separated list of contacts points to your Cassandra cluster.</td>
    </tr>
    <tr>
      <td><strong>cassandra_port</strong></td>
      <td>Port on which your nodes are listening.</td>
    </tr>
    <tr>
      <td><strong>cassandra_keyspace</strong></td>
      <td>Keyspace to use in your cluster. Will be created if doesn’t exist.</td>
    </tr>
    <tr>
      <td><strong>cassandra_consistency</strong></td>
      <td>Consistency setting to use when reading/writing.</td>
    </tr>
    <tr>
      <td><strong>cassandra_timeout</strong></td>
      <td>Timeout (in ms) for reading/writing.</td>
    </tr>
    <tr>
      <td><strong>cassandra_ssl</strong></td>
      <td>Enable SSL connections to the nodes.</td>
    </tr>
    <tr>
      <td><strong>cassandra_ssl_verify</strong></td>
      <td>If <code class="highlighter-rouge">cassandra_ssl</code> is enabled, toggle server certificate verification. See <code class="highlighter-rouge">lua_ssl_trusted_certificate</code> setting.</td>
    </tr>
    <tr>
      <td><strong>cassandra_username</strong></td>
      <td>Username when using the PasswordAuthenticator scheme.</td>
    </tr>
    <tr>
      <td><strong>cassandra_password</strong></td>
      <td>Password when using the PasswordAuthenticator scheme.</td>
    </tr>
    <tr>
      <td><strong>cassandra_consistency</strong></td>
      <td>Consistency setting to use when reading/writing to the Cassandra cluster.</td>
    </tr>
    <tr>
      <td><strong>cassandra_lb_policy</strong></td>
      <td>Load balancing policy to use when distributing queries across your Cassandra cluster. Accepted values are <code class="highlighter-rouge">RoundRobin</code> and <code class="highlighter-rouge">DCAwareRoundRobin</code>. Prefer the later if and only if you are using a multi-datacenter cluster, and set the <code class="highlighter-rouge">cassandra_local_datacenter</code> if so.</td>
    </tr>
    <tr>
      <td><strong>cassandra_local_datacenter</strong></td>
      <td>When using the <code class="highlighter-rouge">DCAwareRoundRobin</code> policy, you must specify the name of the cluster local (closest) to this Kong node.</td>
    </tr>
    <tr>
      <td><strong>cassandra_repl_strategy</strong></td>
      <td>If creating the keyspace for the first time, specify a replication strategy.</td>
    </tr>
    <tr>
      <td><strong>cassandra_repl_factor</strong></td>
      <td>Specify a replication factor for the <code class="highlighter-rouge">SimpleStrategy</code>.</td>
    </tr>
    <tr>
      <td><strong>cassandra_data_centers</strong></td>
      <td>Specify data centers for the <code class="highlighter-rouge">NetworkTopologyStrategy</code>.</td>
    </tr>
    <tr>
      <td><strong>cassandra_schema_consensus_timeout</strong></td>
      <td>Define the timeout (in ms) for the waiting period to each a schema consensus between your Cassandra nodes. This value is only used during migrations.</td>
    </tr>
  </tbody>
</table>

<p><a href="#table-of-contents">Back to TOC</a></p>

<hr />

<h3 id="datastore-cache-section">Datastore cache section</h3>

<p>In order to avoid unnecessary communication with the datastore, Kong caches
entities (such as APIs, Consumers, Credentials, etc…) for a configurable
period of time. It also handles invalidations if such an entity is updated.</p>

<p>This section allows for configuring the behavior of Kong regarding the
caching of such configuration entities.</p>

<hr />

<h4 id="db_update_frequency">db_update_frequency</h4>

<p>Frequency (in seconds) at which to check for
updated entities with the datastore.
When a node creates, updates, or deletes an
entity via the Admin API, other nodes need
to wait for the next poll (configured by
this value) to eventually purge the old
cached entity and start using the new one.</p>

<p>Default: 5 seconds</p>

<hr />

<h4 id="db_update_propagation">db_update_propagation</h4>

<p>Time (in seconds) taken for an entity in the
datastore to be propagated to replica nodes
of another datacenter.
When in a distributed environment such as
a multi-datacenter Cassandra cluster, this
value should be the maximum number of
seconds taken by Cassandra to propagate a
row to other datacenters.
When set, this property will increase the
time taken by Kong to propagate the change
of an entity.
Single-datacenter setups or PostgreSQL
servers should suffer no such delays, and
this value can be safely set to 0.</p>

<p>Default: 0 seconds</p>

<hr />

<h4 id="db_cache_ttl">db_cache_ttl</h4>

<p>Time-to-live (in seconds) of an entity from
the datastore when cached by this node.
Database misses (no entity) are also cached
according to this setting.
If set to 0, such cached entities/misses
never expire.</p>

<p>Default: 3600 seconds (1 hour)</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<hr />

<h3 id="dns-resolver-section">DNS resolver section</h3>

<p>Kong will resolve hostnames as either <code class="highlighter-rouge">SRV</code> or <code class="highlighter-rouge">A</code> records (in that order, and
<code class="highlighter-rouge">CNAME</code> records will be dereferenced in the process).
In case a name was resolved as an <code class="highlighter-rouge">SRV</code> record it will also override any given
port number by the <code class="highlighter-rouge">port</code> field contents received from the DNS server.</p>

<p>The DNS options <code class="highlighter-rouge">SEARCH</code> and <code class="highlighter-rouge">NDOTS</code> (from the <code class="highlighter-rouge">/etc/resolv.conf</code> file) will
be used to expand short names to fully qualified ones. So it will first try the
entire <code class="highlighter-rouge">SEARCH</code> list for the <code class="highlighter-rouge">SRV</code> type, if that fails it will try the <code class="highlighter-rouge">SEARCH</code>
list for <code class="highlighter-rouge">A</code>, etc.</p>

<p>For the duration of the <code class="highlighter-rouge">ttl</code>, the internal DNS resolver will loadbalance each
request it gets over the entries in the DNS record. For <code class="highlighter-rouge">SRV</code> records the
<code class="highlighter-rouge">weight</code> fields will be honored, but it will only use the lowest <code class="highlighter-rouge">priority</code>
field entries in the record.</p>

<hr />

<h4 id="dns_resolver">dns_resolver</h4>

<p>Comma separated list of nameservers, each
entry in <code class="highlighter-rouge">ip[:port]</code> format to be used by
Kong. If not specified the nameservers in
the local <code class="highlighter-rouge">resolv.conf</code> file will be used.
Port defaults to 53 if omitted. Accepts
both IPv4 and IPv6 addresses.</p>

<p>Default: none</p>

<hr />

<h4 id="dns_hostsfile">dns_hostsfile</h4>

<p>The hosts file to use. This file is read once and its content is static
in memory. To read the file again after modifying it, Kong must be reloaded.</p>

<p>Default: <code class="highlighter-rouge">/etc/hosts</code></p>

<hr />

<h4 id="dns_order">dns_order</h4>

<p>The order in which to resolve different
record types. The <code class="highlighter-rouge">LAST</code> type means the
type of the last successful lookup (for the
specified name). The format is a (case
insensitive) comma separated list.</p>

<p>Default: <code class="highlighter-rouge">LAST,SRV,A,CNAME</code></p>

<hr />

<h4 id="dns_stale_ttl">dns_stale_ttl</h4>

<p>Defines, in seconds, how long a record will
remain in cache past its TTL. This value
will be used while the new DNS record is
fetched in the background.
Stale data will be used from expiry of a
record until either the refresh query
completes, or the <code class="highlighter-rouge">dns_stale_ttl</code> number of
seconds have passed.</p>

<p>Default: <code class="highlighter-rouge">4</code></p>

<hr />

<h4 id="dns_not_found_ttl">dns_not_found_ttl</h4>

<p>TTL in seconds for empty DNS responses and
“(3) name error” responses.</p>

<p>Default: <code class="highlighter-rouge">30</code></p>

<hr />

<h4 id="dns_error_ttl">dns_error_ttl</h4>

<p>TTL in seconds for error responses.</p>

<p>Default: <code class="highlighter-rouge">1</code></p>

<hr />

<h4 id="dns_no_sync">dns_no_sync</h4>

<p>If enabled, then upon a cache-miss every
request will trigger its own dns query.
When disabled multiple requests for the
same name/type will be synchronised to a
single query.</p>

<p>Default: off</p>

<p><a href="#table-of-contents">Back to TOC</a></p>

<hr />

<h3 id="development--miscellaneous-section">Development &amp; miscellaneous section</h3>

<p>Additional settings inherited from lua-nginx-module allowing for more
flexibility and advanced usage.</p>

<p>See the lua-nginx-module documentation for more information:
https://github.com/openresty/lua-nginx-module</p>

<hr />

<h4 id="lua_ssl_trusted_certificate">lua_ssl_trusted_certificate</h4>

<p>Absolute path to the certificate authority file for Lua cosockets in PEM
format. This certificate will be the one used for verifying Kong’s database
connections, when <code class="highlighter-rouge">pg_ssl_verify</code> or <code class="highlighter-rouge">cassandra_ssl_verify</code> are enabled.</p>

<p>See https://github.com/openresty/lua-nginx-module#lua_ssl_trusted_certificate</p>

<p>Default: none</p>

<hr />

<h4 id="lua_ssl_verify_depth">lua_ssl_verify_depth</h4>

<p>Sets the verification depth in the server certificates chain used by Lua
cosockets, set by <code class="highlighter-rouge">lua_ssl_trusted_certificate</code>.</p>

<p>This includes the certificates configured for Kong’s database connections.</p>

<p>See https://github.com/openresty/lua-nginx-module#lua_ssl_verify_depth</p>

<p>Default: <code class="highlighter-rouge">1</code></p>

<hr />

<h4 id="lua_package_path">lua_package_path</h4>

<p>Sets the Lua module search path (LUA_PATH). Useful when developing or using
custom plugins not stored in the default search path.</p>

<p>See https://github.com/openresty/lua-nginx-module#lua_package_path</p>

<p>Default: none</p>

<hr />

<h4 id="lua_package_cpath">lua_package_cpath</h4>

<p>Sets the Lua C module search path (LUA_CPATH).</p>

<p>See https://github.com/openresty/lua-nginx-module#lua_package_cpath</p>

<p>Default: none</p>

<hr />

<h4 id="lua_socket_pool_size">lua_socket_pool_size</h4>

<p>Specifies the size limit for every cosocket connection pool associated with
every remote server.</p>

<p>See https://github.com/openresty/lua-nginx-module#lua_socket_pool_size</p>

<p>Default: <code class="highlighter-rouge">30</code></p>

<p><a href="#table-of-contents">Back to TOC</a></p>



        </div>
      </div>
    </div>
  </div>
</div>
<style>
  @media (max-width: 768px) {
    .algolia-docsearch-suggestion--subcategory-column{
      display: none !important;
    }
  }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>


<script type="text/javascript">
  docsearch({
    apiKey: '691286ef280379144076a4f8df47a1d1',
    indexName: 'getkong',
    inputSelector: '#getkong-algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 5,
      'facetFilters': ["version: 0.13.x"]
    },
    // Override selected event to allow for local environment navigation
    handleSelected: function (input, event, suggestion) {
      input.setVal('');
      window.location.href = window.location.protocol + "//" + window.location.host + suggestion.url.split(
        "docs.konghq.com")[1]
    }
    // ,debug: true // Set debug to true if you want to inspect the dropdown
  });
</script>





    
<footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
            <iframe src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c" width="100%" height="60" type="text/html" frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </div>
        <div class="social">

          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
              aria-label="Meetup"
              class="fa fa-meetup"
              aria-hidden="true"
            ></i
          ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://github.com/kong/kong" target="blank" class="btn-gh">
              <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i> Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li><a href="http://konghq.com/kong/">Kong</a></li>
            <li><a href="http://konghq.com/kong-enterprise/">Kong Enterprise</a></li>
            <li><a href="http://konghq.com/cloud/">Kong Cloud</a></li>
            <li><a href="http://konghq.com/subscriptions/">Subscriptions</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a href="https://support.konghq.com" target="blank"
                >Enterprise Support</a
              >
            </li>
            <li>
              <a href="https://docs.konghq.com">Documentation</a>
            </li>
            <li><a href="http://konghq.com/partners/">Partners</a></li>
            <li><a href="http://konghq.com/webinars/">Webinars</a></li>
            <li><a href="http://konghq.com/ebooks/">Ebooks</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li><a href="http://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="http://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">News</a></li>
            <li>
              <a href="http://konghq.com/careers/">Careers <span>Hiring!</span></a>
            </li>
            <li><a href="http://konghq.com/kong-summit/">Kong Summit</a></li>
            <li><a href="http://konghq.com/contact/">Contact</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li><a href="http://konghq.com/install/">Install</a></li>
            <li><a target="blank" href="https://github.com/Kong/">GitHub</a></li>
            <li><a href="https://discuss.konghq.com/"">Kong Nation</a></li>
            <li><a href="http://konghq.com/community/">Community</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2019 &nbsp; <a href="http://konghq.com/terms/">Terms</a><b>•</b><a href="http://konghq.com/privacy/">Privacy</a></span>
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById('subscription_form').submit();
      document.getElementById('follow_up_subscription_form').submit();
      if (response.length == 0) {
        alert('reCaptcha verification failed');
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1565393564"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
      });

      function closeMenu(e) {
        var target = e.target; // Get target
        var menu = $('nav#pagesNav'); // Get menu container
        var header = $('header.navbar'); // Get header
        var toggler = $('.navbar-toggler'); // Get menu toggle btn

        // if clicked target is not the menu container/decendent of menu container, toggler or header close
        if (
          !menu.has(target).length > 0 &&
          !menu.is(target) &&
          !header.is(e.target) &&
          !toggler.is(e.target)
        ) {
          $('#pagesNav').removeClass('kong-navbar-collapse--expand');
          $('button[data-toggle="kong-expand"]').removeClass('active');
        }
      }

      // Close mobile menu when clicked outside
      $(window).on('click', function(e) {
        closeMenu(e);
      });

      // Close mobile menu on esc click
      $(document).keyup(function(e) {
        if (e.keyCode == 27) {
          closeMenu(e);
        }
      });

      // Offscreen Subnav Triggers

      jQuery('.trigger').click(function() {
        jQuery(this)
          .next()
          .addClass('active');
        jQuery('.trigger, .remove').addClass('active');
        jQuery('.kong-navbar-collapse_section').addClass('shift');
      });
      jQuery('.back').click(function() {
        jQuery('.kong-navbar-collapse_section').removeClass('shift');
        jQuery('.subnav, .trigger, .remove').removeClass('active');
      });
    </script>
    <script>
      // trigger overlay on nav hover
      jQuery('.kong-navbar-dropdown').hover(
        function(e) {
          jQuery('.overlay').addClass('active');
        }, // over
        function(e) {
          jQuery('.overlay').removeClass('active');
        } // out
      );
      jQuery(window).load(function() {
        jQuery('#oss_subnav').addClass('expand');
      });
      jQuery(window).scroll(function() {
        var scroll = jQuery(window).scrollTop();

        if (scroll >= 5) {
          jQuery('#oss_subnav').addClass('collapsed');
        } else {
          jQuery('#oss_subnav').removeClass('collapsed');
        }
      });
    </script>
  </body>

  
</html>
